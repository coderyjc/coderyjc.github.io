<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="ç¬”è®° | Express.js" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/avatar.png">
    <title>Jingcun Yan</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    
        <style>
            .index-main{
                max-width:  880px;
            }
        </style>

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/avatar.png" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Jingcun Yan</a> 
            <span class="description"></span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/collect/">æ”¶è—</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    ç¬”è®° | Express.js
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                
                    
                     <span>å­—æ•°æ€»è®¡ï¼š3.1k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š13åˆ†é’Ÿ</span>
                
                
            </div>
    

    <div class="post-md">
        
        <div class=".article-gallery"><h2 id="Express-è·¯ç”±"><a href="#Express-è·¯ç”±" class="headerlink" title="Express è·¯ç”±"></a>Express è·¯ç”±</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>è·¯ç”±æ˜¯ä»€ä¹ˆ</p>
<ul>
<li>å®¢æˆ·ç«¯çš„è¯·æ±‚å’ŒæœåŠ¡å¤„ç†å‡½æ•°ä¹‹é—´çš„æ˜ å°„å…³ç³»</li>
</ul>
<p>ç»„æˆ</p>
<ol>
<li>è¯·æ±‚ç±»å‹</li>
<li>URL</li>
<li>å¤„ç†å‡½æ•°</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">method</span>(<span class="variable constant_">PATH</span>, handler)</span><br><span class="line">    <span class="comment">// PATH  è·¯å¾„</span></span><br><span class="line">    <span class="comment">// handler  å¤„ç†å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// get è¯·æ±‚ï¼ŒURLæ˜¯ /</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="keyword">function</span>(<span class="params">req, res</span>)&#123;</span><br><span class="line">    res.<span class="title function_">send</span>(<span class="string">&#x27;Hello World&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// post è¯·æ±‚ï¼ŒURLæ˜¯ /</span></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/&#x27;</span>, <span class="keyword">function</span>(<span class="params">req, res</span>)&#123;</span><br><span class="line">    res.<span class="title function_">send</span>(<span class="string">&#x27;Hello World&#x27;</span>)    </span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ä¹‹åï¼Œéœ€è¦å…ˆè¿›æ€§è·¯ç”±åŒ¹é…ï¼ŒåŒ¹é…æˆåŠŸä¹‹åæ‰ä¼šè°ƒç”¨ç›¸åº”çš„å¤„ç†å‡½æ•°</p>
<p>åŒ¹é…æˆåŠŸçš„æ¡ä»¶ï¼š</p>
<ul>
<li>è¯·æ±‚ç±»å‹åŒ¹é…ï¼ˆGET,POST,HEADâ€¦ï¼‰</li>
<li>è¯·æ±‚URLåŒ¹é…ï¼ˆURLç›¸åŒï¼‰</li>
</ul>
<p><a href="/img/image-20221021193021841.png" title="image-20221021193021841" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20221021193021841.png" alt="image-20221021193021841"></a></p>
<h3 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h3><p>åˆå§‹åŒ–nodeé¡¹ç›®çš„ package.json</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure>

<p>å®‰è£…express</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express@4.17.1</span><br></pre></td></tr></table></figure>

<p>ç®€å•ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‚è½½è·¯ç”±</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// get æ–¹æ³•</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Hello World&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// post æ–¹æ³•</span></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;post Hello World&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬80ç«¯å£</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="è·å–æŸ¥è¯¢å‚æ•°"><a href="#è·å–æŸ¥è¯¢å‚æ•°" class="headerlink" title="è·å–æŸ¥è¯¢å‚æ•°"></a>è·å–æŸ¥è¯¢å‚æ•°</h3><h4 id="é™æ€å‚æ•°"><a href="#é™æ€å‚æ•°" class="headerlink" title="é™æ€å‚æ•°"></a>é™æ€å‚æ•°</h4><p>ä½¿ç”¨<code>req.query</code>è·å–æŸ¥è¯¢å‚æ•°ï¼Œé»˜è®¤æ˜¯jsonæ ¼å¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/info&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// req.query æ˜¯å‰ç«¯ä¼ æ¥çš„æŸ¥è¯¢å‚æ•°ï¼Œé»˜è®¤æ˜¯ç©ºå¯¹è±¡</span></span><br><span class="line">  res.<span class="title function_">send</span>(req.<span class="property">query</span>)</span><br><span class="line">  <span class="comment">// æ‰“å°åœ¨æ§åˆ¶å°</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">query</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><a href="/img/image-20221022175206562.png" title="image-20221022175206562" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20221022175206562.png" alt="image-20221022175206562"></a></p>
<h4 id="åŠ¨æ€å‚æ•°"><a href="#åŠ¨æ€å‚æ•°" class="headerlink" title="åŠ¨æ€å‚æ•°"></a>åŠ¨æ€å‚æ•°</h4><p>è·å–é€šè¿‡å†’å·åŒ¹é…çš„åŠ¨æ€å‚æ•°</p>
<p>ä½¿ç”¨<code>req.params</code>å¯¹è±¡è·å–urlä¸­é€šè¿‡å†’å·åŒ¹é…åˆ°çš„åŠ¨æ€å‚æ•°ï¼Œé»˜è®¤æ˜¯ç©ºå¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/info/:id&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// app.params è·å–å†’å·ä¸­çš„åŠ¨æ€å‚æ•°</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>.<span class="property">id</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/info/:name/:age&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å‚æ•°å¯ä»¥æœ‰å¤šä¸ª</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>.<span class="property">name</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>.<span class="property">age</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><a href="/img/image-20221022175742997.png" title="image-20221022175742997" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20221022175742997.png" alt="image-20221022175742997"></a></p>
<p><a href="/img/image-20221022180143879.png" title="image-20221022180143879" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20221022180143879.png" alt="image-20221022180143879"></a></p>
<h3 id="é™æ€èµ„æºæ‰˜ç®¡"><a href="#é™æ€èµ„æºæ‰˜ç®¡" class="headerlink" title="é™æ€èµ„æºæ‰˜ç®¡"></a>é™æ€èµ„æºæ‰˜ç®¡</h3><h4 id="é™æ€èµ„æºæœåŠ¡å™¨"><a href="#é™æ€èµ„æºæœåŠ¡å™¨" class="headerlink" title="é™æ€èµ„æºæœåŠ¡å™¨"></a>é™æ€èµ„æºæœåŠ¡å™¨</h4><p>ä½¿ç”¨<code>app.use(express.static(&#39;public&#39;))</code>æ‰˜ç®¡é™æ€èµ„æº</p>
<ul>
<li>åœ¨æŒ‡å®šçš„ç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶ï¼Œå¹¶æä¾›èµ„æºè®¿é—®è·¯å¾„ï¼Œå­˜æ”¾é™æ€èµ„æºçš„ç›®å½•åä¸ä¼šå‡ºç°åœ¨urlä¸­</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å½“å‰æ–‡ä»¶å¤¹ä½œä¸ºé™æ€èµ„æºç›®å½•</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;./&#x27;</span>))</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®æŒ‡å®šæ–‡ä»¶</p>
<p><a href="/img/image-20221022180649984.png" title="image-20221022180649984" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20221022180649984.png" alt="image-20221022180649984"></a></p>
<p>æ³¨æ„</p>
<ul>
<li>å¦‚æœæƒ³è¦æ‰˜ç®¡å¤šä¸ªç›®å½•ï¼Œé‚£ä¹ˆå¤šæ¬¡è°ƒç”¨<code>app.use(express.static(path))</code>å³å¯</li>
<li>åœ¨è®¿é—®çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šæŒ‰ç…§useçš„é¡ºåºæŸ¥æ‰¾æ–‡ä»¶</li>
</ul>
<h4 id="è·¯å¾„å‰ç¼€"><a href="#è·¯å¾„å‰ç¼€" class="headerlink" title="è·¯å¾„å‰ç¼€"></a>è·¯å¾„å‰ç¼€</h4><p>ä½¿ç”¨<code>app.use(prefix, express.static(url))</code> æ·»åŠ è·¯å¾„å‰ç¼€</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å½“å‰æ–‡ä»¶å¤¹ä½œä¸ºé™æ€èµ„æºç›®å½•</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;./&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„å‰ç¼€, æ¯æ¬¡è®¿é—®çš„æ—¶å€™éœ€è¦åœ¨urlä¸­åŠ ä¸Š/public</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/public&#x27;</span>, express.<span class="title function_">static</span>(<span class="string">&#x27;./&#x27;</span>))</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p><a href="/img/image-20221022181242802.png" title="image-20221022181242802" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20221022181242802.png" alt="image-20221022181242802"></a></p>
<h3 id="æ¨¡å—åŒ–è·¯ç”±"><a href="#æ¨¡å—åŒ–è·¯ç”±" class="headerlink" title="æ¨¡å—åŒ–è·¯ç”±"></a>æ¨¡å—åŒ–è·¯ç”±</h3><h4 id="æ¨¡å—åŒ–è·¯ç”±-1"><a href="#æ¨¡å—åŒ–è·¯ç”±-1" class="headerlink" title="æ¨¡å—åŒ–è·¯ç”±"></a>æ¨¡å—åŒ–è·¯ç”±</h4><p>æ–¹ä¾¿å¯¹è·¯ç”±è¿›è¡Œæ¨¡å—åŒ–ç®¡ç†ï¼Œä¸å»ºè®®æŠŠè·¯ç”±ç›´æ¥æŒ‚è½½åˆ°appå®ä¾‹ä¸Šï¼Œè€Œæ˜¯å°†è·¯ç”±æ‹†åˆ†ä¸ºå•ç‹¬çš„æ¨¡å—ã€‚</p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>åˆ›å»ºæ¨¡å—å¯¹åº”çš„jsæ–‡ä»¶</li>
<li>è°ƒç”¨<code>express.Router()</code>å‡½æ•°åˆ›å»ºè·¯ç”±å¯¹è±¡</li>
<li>å°†å…·ä½“è·¯ç”±æŒ‚è½½åˆ°è·¯ç”±å¯¹è±¡ä¸Š</li>
<li>ä½¿ç”¨<code>module.expoerts</code>å¯¼å‡ºå…±äº«è·¯ç”±å¯¹è±¡</li>
<li>ä½¿ç”¨<code>app.usr</code>æ³¨å†Œè·¯ç”±æ¨¡å—</li>
</ol>
<p>åˆ›å»ºæ¨¡å—å¯¹åº”çš„jsæ–‡ä»¶ã€è°ƒç”¨<code>express.Router()</code>å‡½æ•°åˆ›å»ºè·¯ç”±å¯¹è±¡ã€å°†å…·ä½“è·¯ç”±æŒ‚è½½åˆ°è·¯ç”±å¯¹è±¡ã€ä½¿ç”¨<code>module.expoerts</code>å¯¼å‡ºå…±äº«è·¯ç”±å¯¹è±¡</p>
<p><code>api/user.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‚è½½è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/user/list&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Get User List&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/user/add&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;post User add&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>app.usr</code>æ³¨å†Œè·¯ç”±æ¨¡å—</p>
<p><code>index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥è·¯ç”±æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> userRouter = <span class="built_in">require</span>(<span class="string">&#x27;./api/user&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œè·¯ç”±æ¨¡å—</span></span><br><span class="line"><span class="comment">// app.use çš„ä½œç”¨ï¼šæ³¨å†Œå…¨å±€ä¸­é—´ä»¶</span></span><br><span class="line"><span class="comment">// app.use(express.static()) ä¹Ÿæ˜¯ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(userRouter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬80ç«¯å£</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="æ·»åŠ è®¿é—®å‰ç¼€"><a href="#æ·»åŠ è®¿é—®å‰ç¼€" class="headerlink" title="æ·»åŠ è®¿é—®å‰ç¼€"></a>æ·»åŠ è®¿é—®å‰ç¼€</h4><p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬çš„userAPIçš„æœ‰ç»Ÿä¸€çš„å‰ç¼€<code>/user</code>ï¼Œåœ¨æ¯ä¸€ä¸ªuserè·¯ç”±å‰é¢éƒ½å†™ä¸Šæ˜¯éå¸¸éº»çƒ¦çš„ï¼Œé‚£ä¹ˆå¦‚ä½•ç»Ÿä¸€æ·»åŠ userè·¯ç”±å‰ç¼€å‘¢ï¼Ÿ</p>
<p>æ–¹æ³•ï¼š</p>
<ul>
<li>åœ¨æ³¨å†Œçš„æ—¶å€™ä½¿ç”¨ <code>app.use(&#39;/user&#39;, userRouter)</code></li>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè®¿é—®å‰ç¼€ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºè·¯ç”±å¯¹è±¡</li>
</ul>
<p>api&#x2F;user.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = &#123;<span class="string">&quot;id&quot;</span>:<span class="number">1</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;age&quot;</span>:<span class="number">18</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‚è½½è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/list&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(user)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/add&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;post User add&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure>

<p>index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥è·¯ç”±æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> userRouter = <span class="built_in">require</span>(<span class="string">&#x27;./api/user&#x27;</span>)</span><br><span class="line"><span class="comment">// æ³¨å†Œè·¯ç”±</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/user&#x27;</span>, userRouter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬8080ç«¯å£</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h2><h3 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h3><ul>
<li>ä¸šåŠ¡å¤„ç†çš„ä¸­é—´ç¯èŠ‚ï¼Œèµ·åˆ°æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨</li>
<li>express çš„ä¸­é—´ä»¶çš„ä½œç”¨æ˜¯å¯¹è¯·æ±‚è¿›è¡Œ<strong>é¢„å¤„ç†</strong></li>
</ul>
<p>ä¸­é—´ä»¶çš„å‡½æ•°å’Œè·¯ç”±æå…¶ç›¸ä¼¼ï¼Œåªä¸è¿‡ï¼Œ<strong>è·¯ç”±çš„å½¢å‚åˆ—è¡¨åªæœ‰reqå’Œresï¼Œè€Œä¸­é—´ä»¶çš„å½¢å‚åˆ—è¡¨ä¸­å¿…é¡»æœ‰next</strong></p>
<p>å®˜æ–¹ç»“æ„</p>
<p><a href="/img/image-20221022182031079.png" title="image-20221022182031079" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20221022182031079.png" alt="image-20221022182031079"></a></p>
<p>nextçš„ä½œç”¨æ˜¯ï¼Ÿ</p>
<ul>
<li>å®ç°å¤šä¸ªä¸­é—´ä»¶è¿ç»­è°ƒç”¨çš„å…³é”®ï¼Œè¡¨ç¤ºæŠŠæµè½¬å…³ç³»äº¤ç»™ä¸‹ä¸€ä¸ªè·¯ç”±æˆ–è€…ä¸­é—´ä»¶</li>
</ul>
<h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><h4 id="æœ€ç®€å•çš„ä¸­é—´ä»¶"><a href="#æœ€ç®€å•çš„ä¸­é—´ä»¶" class="headerlink" title="æœ€ç®€å•çš„ä¸­é—´ä»¶"></a>æœ€ç®€å•çš„ä¸­é—´ä»¶</h4><p>æ³¨æ„ï¼š</p>
<ul>
<li>å‡½æ•°çš„å‚æ•°<strong>å¿…é¡»å¸¦æœ‰next</strong></li>
<li>åœ¨å‡½æ•°çš„æœ€å<strong>å¿…é¡»è°ƒç”¨nextå‡½æ•°æŠŠæµè½¬å…³ç³»äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è€…è·¯ç”±</strong></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªæœ€ç®€å•çš„ä¸­é—´ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">middleware</span> = (<span class="params">req, res, next</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æœ€ç®€å•çš„ä¸­é—´ä»¶å‡½æ•°&#x27;</span>)</span><br><span class="line">  <span class="comment">// ä½¿ç”¨next() æŠŠæµè½¬å…³ç³»äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è€…è·¯ç”±</span></span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080 &#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="å…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶"><a href="#å…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶" class="headerlink" title="å…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶"></a>å…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶</h4><p>å®¢æˆ·ç«¯çš„æ‰€æœ‰è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨åéƒ½ä¼šè§¦å‘çš„ä¸­é—´ä»¶å«åšå…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶</p>
<p>è°ƒç”¨<code>app.use(middleware_function)</code>å¯ä»¥å®šä¹‰ä¸€ä¸ªå…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€ä¸­é—´ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">middleware</span> = (<span class="params">req, res, next</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å…¨å±€ä¸­é—´ä»¶å‡½æ•°&#x27;</span>)</span><br><span class="line">  <span class="comment">// ä½¿ç”¨next() æŠŠæµè½¬å…³ç³»äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è€…è·¯ç”±</span></span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(middleware)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;root&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/test&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;test&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080 &#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><a href="/img/image-20221023180704040.png" title="image-20221023180704040" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20221023180704040.png" alt="image-20221023180704040"></a></p>
<p>ç®€åŒ–å®šä¹‰å…¨å±€ä¸­é—´ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€åŒ–å½¢å¼, ç›´æ¥use</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç®€åŒ–å½¢å¼&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="ä¸­é—´ä»¶çš„ä½œç”¨"><a href="#ä¸­é—´ä»¶çš„ä½œç”¨" class="headerlink" title="ä¸­é—´ä»¶çš„ä½œç”¨"></a>ä¸­é—´ä»¶çš„ä½œç”¨</h4><p>å¤šä¸ªä¸­é—´ä»¶ä¹‹é—´å¯ä»¥å…±äº«åŒä¸€ä»½reqæˆ–è€…resã€‚</p>
<p>å› æ­¤æˆ‘ä»¬èƒ½åœ¨ä¸Šæ¸¸çš„ä¸­é—´ä»¶ä¸­ç»Ÿä¸€ç»™reqæˆ–è€…resæ·»åŠ è‡ªå®šä¹‰çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼Œä¾›ä¸‹æ¸¸çš„ä¸­é—´ä»¶ä½¿ç”¨</p>
<p><strong>è·å–è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„æ—¶é—´</strong></p>
<p>ä¸Šæ¸¸æŒ‚è½½è·å–æ—¶é—´çš„å‡½æ•°ï¼Œä¸‹æ¸¸è®¿é—®è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„æ—¶é—´</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// è·å–è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„æ—¶é—´</span></span><br><span class="line">  <span class="keyword">const</span> time = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">  <span class="comment">// å°†timeå±æ€§æŒ‚è½½åˆ°reqï¼Œä»¥åçš„è®¿é—®ä¸­å°±å¯ä»¥ä½¿ç”¨req.startTimeè®¿é—®è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„æ—¶é—´äº†</span></span><br><span class="line">  req.<span class="property">startTime</span> = time</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;&#x27;</span> + req.<span class="property">startTime</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080 &#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="å¤šä¸ªå…¨å±€ä¸­é—´ä»¶"><a href="#å¤šä¸ªå…¨å±€ä¸­é—´ä»¶" class="headerlink" title="å¤šä¸ªå…¨å±€ä¸­é—´ä»¶"></a>å¤šä¸ªå…¨å±€ä¸­é—´ä»¶</h4><p>å®šä¹‰äº†å¤šä¸ªä¸­é—´ä»¶åï¼ŒæŒ‰ç…§ä¸Šä¸‹é¡ºåºè¿›è¡Œè°ƒç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå…¨å±€ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;the first mw&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ç¬¬2ä¸ªå…¨å±€ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;2 mw&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ç¬¬3ä¸ªå…¨å±€ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;3 mw&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080 &#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="å±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶"><a href="#å±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶" class="headerlink" title="å±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶"></a>å±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶</h4><p>ä¸é€‚ç”¨<code>app.use</code>å®šä¹‰çš„ä¸­é—´ä»¶éƒ½å«å±€éƒ¨ä¸­é—´ä»¶</p>
<p>åªé’ˆå¯¹æŸä¸ªè·¯ç”±ç”Ÿæ•ˆï¼Œåœ¨éœ€è¦ç”Ÿæ•ˆçš„è·¯ç”±å‡½æ•°ä¸­ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°å³å¯ï¼Œä¹Ÿå°±æ˜¯<code>app.get(&#39;/&#39;, middlewareFunction, handler)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mw</span> = (<span class="params">req, res, next</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;local mw&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å³å¯</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, mw, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/test&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080 &#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæƒ³è¦å®šä¹‰å¤šä¸ªå±€éƒ¨ä¸­é—´ä»¶ï¼Œå…¶ä½™çš„å±€éƒ¨ä¸­é—´ä»¶ä¾æ¬¡æ’åˆ—å³å¯ï¼Œä¹Ÿå¯ä»¥ç”¨åˆ—è¡¨åŒ…å›´</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤šä¸ªå±€éƒ¨ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/multi&#x27;</span>, [mw, mw, mw, mw, mw, mw], <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤ç§å†™æ³•ç­‰æ•ˆ</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/multi&#x27;</span>, mw, mw, mw, mw, mw, mw, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><ul>
<li>åœ¨è·¯ç”±å‰é¢å®šä¹‰ä¸­é—´ä»¶</li>
<li>é“¾å¼è°ƒç”¨</li>
<li>è®°ä½<code>next()</code>ï¼Œå¹¶ä¸”åœ¨next()åé¢ä¸è¦å†å†™åˆ«çš„ä»£ç </li>
<li>å¤šä¸ªä¸­é—´ä»¶å…±äº«reqå’Œreså¯¹è±¡</li>
</ul>
<h3 id="ä¸­é—´ä»¶çš„åˆ†ç±»"><a href="#ä¸­é—´ä»¶çš„åˆ†ç±»" class="headerlink" title="ä¸­é—´ä»¶çš„åˆ†ç±»"></a>ä¸­é—´ä»¶çš„åˆ†ç±»</h3><ol>
<li><p>åº”ç”¨çº§ä¸­é—´ä»¶</p>
<ol>
<li>é€šè¿‡<code>app.use()</code>æˆ–è€…<code>app.get()</code>ï¼Œ<code>app.post()</code>ç»‘å®šåˆ°<code>app</code>ä¸Šçš„ä¸­é—´ä»¶</li>
</ol>
</li>
<li><p>è·¯ç”±çº§ä¸­é—´ä»¶</p>
<ol>
<li>ç»‘å®šåˆ°<code>express.Router()</code>å®ä¾‹ä¸Šçš„ä¸­é—´ä»¶ï¼Œä½¿ç”¨<code>router.use</code>è¿›è¡Œæ³¨å†Œçš„ä¸­é—´ä»¶</li>
<li>å’Œåº”ç”¨çº§ä¸­é—´ä»¶åœ¨ç”¨æ³•ä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«</li>
</ol>
</li>
<li><p>é”™è¯¯çº§ä¸­é—´ä»¶</p>
<ol>
<li><p>é”™è¯¯çº§åˆ«çš„ä¸­é—´ä»¶ä¸€å®šè¦<strong>æ³¨å†Œåˆ°æ‰€æœ‰çš„è·¯ç”±ä¹‹å</strong>ï¼Œè¿™æ ·æ‰èƒ½æ•è·åˆ°æ‰€æœ‰çš„é”™è¯¯</p>
</li>
<li><p>æ•è·é¡¹ç›®ä¸­å‘ç”Ÿçš„å¼‚å¸¸é”™è¯¯ï¼Œé˜²æ­¢é¡¹ç›®ä¸€åœºå´©æºƒçš„é—®é¢˜</p>
</li>
<li><p>æ ¼å¼ï¼šä¸­é—´ä»¶çš„å¤„ç†å‡½æ•°ä¸Šå¿…é¡»å†™ä¸Š4ä¸ªå½¢å‚ <code>app.use(function(err, req, res, next)=&gt;&#123;&#125;)</code>,å¿…é¡»å†™ä¸Šerr</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;error&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿™æ¡ä¿¡æ¯ä¸ä¼šæ˜¾ç¤º</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;after throw error&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœä¸å†™ä¸­é—´ä»¶ï¼Œé‚£ä¹ˆè·¯ç”±å‡½æ•°åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹åä¼šç›´æ¥å´©æºƒï¼Œåœæ­¢è¿è¡Œï¼ˆåœ¨å‰ç«¯æ˜¾ç¤º StackTraceï¼‰</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨äº†ä¸­é—´ä»¶ä¹‹åï¼Œé¡¹ç›®å¦‚æœå‡ºé”™ï¼Œä¼šç›´æ¥è¿›è¡Œé”™è¯¯çš„æ˜¾ç¤ºã€‚</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err, req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// åç«¯æ§åˆ¶å°æ˜¾ç¤º error occured</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;error occured...&#x27;</span>)</span><br><span class="line">  <span class="comment">// å‰ç«¯é¡µé¢æ˜¾ç¤º mw error</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;error page&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080 &#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>Express å†…ç½®ä¸­é—´ä»¶ï¼ˆ3ä¸ªï¼‰</p>
<ol>
<li><code>express.static()</code>å¿«é€Ÿæ‰˜ç®¡é™æ€èµ„æºï¼ˆæ— å…¼å®¹æ€§ï¼‰<ol>
<li><code>app.use(express.ststic())</code> ä¸Šé¢è®²äº†</li>
</ol>
</li>
<li><code>express.json()</code>è§£æjsonæ ¼å¼çš„è¯·æ±‚ä½“æ•°æ®ï¼ˆ4.16.0+ï¼‰<ol>
<li><code>app.use(express.json())</code></li>
</ol>
</li>
<li><code>express.urlencoded</code>è§£æurl-encodedæ ¼å¼çš„è¯·æ±‚ä½“æ•°æ®ï¼ˆ4.16.0+ï¼‰<ol>
<li><code>app.use(express.urlencoded(&#123;extended: false &#125;))</code></li>
</ol>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œjsonè§£æä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">json</span>())</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// åœ¨æœåŠ¡å™¨ä¸­å¯ä»¥ä½¿ç”¨res.bodyè¿™ä¸ªå±æ€§æ¥å—å®¢æˆ·ç«¯å‘æ¥çš„æ•°æ®</span></span><br><span class="line">  <span class="comment">// å¦‚æœæ²¡æœ‰é…ç½® è§£æè¡¨å•ä¸­æ•°æ®çš„ä¸­é—´ä»¶ ï¼Œres.body é»˜è®¤ä¸ºundefined</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">body</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;insert success&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080 &#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><a href="/img/image-20221024175718195.png" title="image-20221024175718195" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20221024175718195.png" alt="image-20221024175718195"></a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œurlencodedæ ¼å¼</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">urlencoded</span>( &#123;<span class="attr">extended</span>: <span class="literal">false</span>&#125; ))</span><br><span class="line"></span><br><span class="line"><span class="comment">// urlencodedæ ¼å¼</span></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/students&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// å¦‚æœæ²¡æœ‰é…ç½® è§£æè¡¨å•ä¸­æ•°æ®çš„ä¸­é—´ä»¶ ï¼Œres.body é»˜è®¤ä¸ºundefined</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">body</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;student insert success&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶</p>
<ol>
<li><code>body-parser</code>ä¸­é—´ä»¶çš„ä½¿ç”¨ <code>npm install body-parser</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> parser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(parser.<span class="title function_">urlencoded</span>(&#123;<span class="attr">extended</span>: <span class="literal">false</span>&#125;))</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">body</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;listening on 8080 &#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol>
<li>expresså†…ç½®çš„express.urlencodedè¿™ä¸ªä¸­é—´ä»¶æ˜¯åŸºäºbody-parserå°è£…å‡ºæ¥çš„ï¼Œå› æ­¤ç”¨æ³•æå…¶ç›¸ä¼¼</li>
</ol>
</li>
</ol>
<h3 id="è‡ªå®šä¹‰ä¸­é—´ä»¶"><a href="#è‡ªå®šä¹‰ä¸­é—´ä»¶" class="headerlink" title="è‡ªå®šä¹‰ä¸­é—´ä»¶"></a>è‡ªå®šä¹‰ä¸­é—´ä»¶</h3><p>æ¨¡æ‹Ÿä¸€ä¸ªç±»ä¼¼äºexpress.urlencodedè¿™æ ·çš„ä¸­é—´ä»¶è§£æPOSTæäº¤åˆ°æœåŠ¡å™¨çš„æ•°æ®</p>
<p>æ­¥éª¤</p>
<ol>
<li>å®šä¹‰ä¸­é—´ä»¶</li>
<li>ç›‘å¬reqçš„dataäº‹ä»¶</li>
<li>ç›‘å¬reqçš„endäº‹ä»¶</li>
<li>ä½¿ç”¨querystreingæ¨¡å—è§£ææ•°æ®</li>
<li>å°†è§£æå‡ºæ¥çš„ä¸­é—´ä»¶æŒ‚è½½åˆ°req.body</li>
<li>å°†è‡ªå®šä¹‰ä¸­é—´ä»¶å°è£…ä¸ºæ¨¡å—</li>
</ol>
<h2 id="åŸºäºExpressçš„æ¥å£"><a href="#åŸºäºExpressçš„æ¥å£" class="headerlink" title="åŸºäºExpressçš„æ¥å£"></a>åŸºäºExpressçš„æ¥å£</h2></div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2022-10-22</span>
            
            
             
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2022/11/30/IDEA-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/'>ç¬”è®° | JetBrains IDEA</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2022/09/21/JQuery/">ç¬”è®° | JQuery&amp;Ajax&amp;Axios</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
             

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>Change And Challenge</span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>