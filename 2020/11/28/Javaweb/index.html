<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="ç¬”è®° | JavaWeb" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/avatar.png">
    <title>Jingcun Yan</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    
        <style>
            .index-main{
                max-width:  880px;
            }
        </style>

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/avatar.png" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Jingcun Yan</a> 
            <span class="description"></span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    ç¬”è®° | JavaWeb
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                
                    
                     <span>å­—æ•°æ€»è®¡ï¼š8k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š34åˆ†é’Ÿ</span>
                
                
            </div>
    

    <div class="post-md">
        
        <div class=".article-gallery"><h1 id="SERVLET-JSP"><a href="#SERVLET-JSP" class="headerlink" title="SERVLET&amp;&amp;JSP"></a>SERVLET&amp;&amp;JSP</h1><h2 id="1-JSP-ç¯å¢ƒ"><a href="#1-JSP-ç¯å¢ƒ" class="headerlink" title="1. JSP ç¯å¢ƒ"></a>1. JSP ç¯å¢ƒ</h2><p>åŠ¨æ€ç½‘é¡µã€‚</p>
<p>åŒºåˆ†åŠ¨æ€å’Œé™æ€ï¼šåŠ¨æ€å’Œé™æ€ä¸æ˜¯â€œä¼šä¸ä¼šåŠ¨â€ï¼Œè€Œæ˜¯æ˜¯å¦éšç€æ—¶é—´ã€åœ°ç‚¹ã€ç”¨æˆ·æ“ä½œçš„æ”¹å˜è€Œæ”¹å˜</p>
<p>åŠ¨æ€ç½‘é¡µéœ€è¦ä½¿ç”¨åˆ°æœåŠ¡ç«¯è„šæœ¬è¯­è¨€ï¼ˆJSPï¼‰</p>
<p>æ¶æ„ã€‚</p>
<p>BSæ¶æ„ï¼šBrowser Server</p>
<p>BSç¼ºç‚¹ï¼šç½‘é¡µä¸ç¾è§‚ï¼Œæœ‰æ—¶å€™å“åº”æ¯”è¾ƒæ…¢</p>
<p>CSç»“æ„ï¼šClient Server</p>
<p>CSæ¶æ„çš„ç¼ºç‚¹ï¼š</p>
<ul>
<li>å¦‚æœè½¯ä»¶å‡çº§ï¼Œåˆ™æ‰€æœ‰ç”¨æˆ·çš„è½¯ä»¶éƒ½éœ€è¦å‡çº§</li>
<li>ç»´æŠ¤éº»çƒ¦ï¼šéœ€è¦ç»´æŠ¤æ¯ä¸€å°å®¢æˆ·ç«¯è½¯ä»¶</li>
<li>æ¯ä¸€ä¸ªå®¢æˆ·éƒ½éœ€è¦å®‰è£…å®¢æˆ·ç«¯è½¯ä»¶</li>
</ul>
<p>æ³¨æ„ï¼šBSå’ŒCSå„æœ‰ä¼˜åŠ¿</p>
<p>JSPæ˜¯åŸºäºBSæ¶æ„çš„ã€‚</p>
<p>tomcatè§£å‹åç›®å½•ï¼š</p>
<ul>
<li>bin:å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆstartup.bat    shutdown.batï¼‰</li>
<li>conf:é…ç½®æ–‡ä»¶ï¼ˆserver.xmlï¼‰</li>
<li>libï¼štomcatä¾èµ–çš„jaræ–‡ä»¶</li>
<li>log:æ—¥å¿—æ–‡ä»¶ï¼ˆè®°å½•å‡ºé”™ç­‰ä¿¡æ¯ï¼‰</li>
<li>temp:ä¸´æ—¶æ–‡ä»¶</li>
<li>webappsï¼šå¯æ‰§è¡Œçš„é¡¹ç›®ï¼ˆå°†æˆ‘ä»¬å¼€å‘çš„é¡¹ç›® æ”¾å…¥è¯¥ç›®å½•ï¼‰</li>
<li>work:å­˜æ”¾ç”±jspç¿»è¯‘æˆçš„java,ä»¥åŠç¼–è¾‘æˆçš„classæ–‡ä»¶(jsp  -&gt;java -&gt;class)</li>
</ul>
<p>é…ç½®tomcat</p>
<p>a.é…ç½®jdk  (å¿…é¡»é…ç½®JAVA_HOME)  java_home  classPath  path</p>
<p>b.é…ç½®catalina_home  æŒ‡å‘ tomcatæ ¹ç›®å½•</p>
<p>æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸï¼š</p>
<ul>
<li>åŒå‡»bin&#x2F;startup.batå¯åŠ¨tomacatï¼Œ</li>
<li>å¸¸è§é”™è¯¯ï¼š å¯èƒ½ä¸å…¶ä»–æœåŠ¡çš„ç«¯å£å·å†²çª</li>
<li>tomcatç«¯å£å·é»˜è®¤8080 ï¼ˆæ­¤ç«¯å£å·è¾ƒä¸ºå¸¸è§ï¼Œå®¹æ˜“å†²çªï¼‰ï¼Œå»ºè®®ä¿®æ”¹æ­¤ç«¯å£ ï¼ˆ8888æˆ–è€…80ï¼‰</li>
</ul>
<p>è®¿é—®æœ¬åœ°æœåŠ¡å™¨ <code>http://localhost:8888/</code></p>
<p>å¸¸è§çŠ¶æ€ç ï¼š</p>
<ul>
<li>200ï¼šä¸€åˆ‡æ­£å¸¸</li>
<li>300 301: é¡µé¢é‡å®šå‘ ï¼ˆè·³è½¬ï¼‰ï¼Œ3å¼€å¤´çš„</li>
<li>404ï¼šèµ„æºä¸å­˜åœ¨ </li>
<li>403ï¼šæƒé™ä¸è¶³ ï¼ˆå¦‚æœè®¿é—®aç›®å½•ï¼Œä½†æ˜¯aç›®å½•è®¾ç½® ä¸å¯è§ï¼‰</li>
<li>500ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼ˆä»£ç æœ‰è¯¯ï¼‰</li>
</ul>
<p>å…¶ä»–ç¼–ç ï¼šç§¯ç´¯</p>
<p>jspï¼šåœ¨htmlä¸­åµŒå¥—çš„javaä»£ç  </p>
<p> åœ¨é¡¹ç›®&#x2F;WEB-INF&#x2F;web.xmlä¸­è®¾ç½® é»˜è®¤çš„ åˆå§‹é¡µé¢</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è¿™é‡Œå†™é¡µé¢çš„åç§° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.jsp<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è™šæ‹Ÿè·¯å¾„ï¼šæœåŠ¡å™¨é»˜è®¤è®¿é—®çš„é¡¹ç›®</p>
<p>a.æ–¹å¼ä¸€</p>
<p>å°†webé¡¹ç›®é…ç½®åˆ° webappsä»¥å¤–çš„ç›®å½• conf&#x2F;server.xml ä¸­é…ç½® hostæ ‡ç­¾ä¸­ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªå­—æ®µå¿…é¡»å†™ä¸Š --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- docBaseæ˜¯å½“é¡¹ç›®çš„å®é™…è·¯å¾„ï¼Œpathæ˜¯ç›¸å¯¹webappsçš„è·¯å¾„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Context</span>  <span class="attr">docBase</span>=<span class="string">&quot;D:\study\JspProject&quot;</span>  <span class="attr">path</span>=<span class="string">&quot;/JspProject&quot;</span>   /&gt;</span></span><br></pre></td></tr></table></figure>

<p>b. æ–¹å¼äºŒ</p>
<p><code>D:\study\apache-tomcat-8.5.30\conf\Catalina\localhost</code>ä¸­æ–°å»º   â€œé¡¹ç›®å.xmlâ€ä¸­æ–°å¢ä¸€è¡Œï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Context</span>  <span class="attr">docBase</span>=<span class="string">&quot;D:\study\JspProject&quot;</span>  <span class="attr">path</span>=<span class="string">&quot;/JspProject&quot;</span>   /&gt;</span></span><br></pre></td></tr></table></figure>

<p>è™šæ‹Ÿä¸»æœº</p>
<p>åŸŸåè§£æè¿‡ç¨‹</p>
<p><a href="/img/image-20201128231321842.png" title="image-20201128231321842.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20201128231321842.png" alt="image-20201128231321842.png"></a></p>
<p>é€šè¿‡<a target="_blank" rel="noopener" href="http://www.test.comè®¿é—®æœ¬æœº/">www.test.comè®¿é—®æœ¬æœº</a></p>
<p>æ–¹æ³•a. conf&#x2F;server.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Engine</span> <span class="attr">name</span>=<span class="string">&quot;Catalina&quot;</span> <span class="attr">defaultHost</span>=<span class="string">&quot;www.test.com&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">Host</span> <span class="attr">appBase</span>=<span class="string">&quot;D:\study\JspProject&quot;</span> <span class="attr">name</span>=<span class="string">&quot;www.test.com&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Context</span> <span class="attr">docBase</span>=<span class="string">&quot;D:\study\JspProject&quot;</span>   <span class="attr">path</span>=<span class="string">&quot;/&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">Host</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•b.</p>
<p>åœ¨<code>C:\Windows\System32\drivers\etc\host</code>å¢åŠ  127.0.0.1</p>
<p><a target="_blank" rel="noopener" href="http://www.test.com/">www.test.com</a></p>
<p>æµç¨‹ï¼š</p>
<p><a target="_blank" rel="noopener" href="http://www.test.com/">www.test.com</a> -&gt; hostæ‰¾æ˜ å°„å…³ç³» -&gt; server.xmlæ‰¾Engineçš„defaultHost -&gt;é€šè¿‡â€&#x2F;â€œæ˜ å°„åˆ°D:\study\JspProject ä¸ºäº†åç»­å­¦ä¹ ï¼Œå°†ä»¥ä¸Šæ¢å¤æˆé»˜è®¤</p>
<p>JSPæ‰§è¡Œæµç¨‹</p>
<p><a href="/img/image-20201128231352392.png" title="image-20201128231352392.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20201128231352392.png" alt="image-20201128231352392.png"></a></p>
<p>jsp- java(Servletæ–‡ä»¶) -class  </p>
<p><code>D:\study\apache-tomcat\work\Catalina\localhost\JspProject\org\apache\jsp</code></p>
<p>Jsp å’ŒServlet å¯ä»¥ç›¸äº’è½¬æ¢  </p>
<p>å› ä¸ºç¬¬ä¸€è¯·æ±‚æœåŠ¡ç«¯ ä¼šæœ‰ç¿»è¯‘ å’Œç¼–è¯‘çš„è¿‡ç¨‹ï¼Œå› æ­¤æ¯”è¾ƒæ…¢ï¼› åç»­è®¿é—® å¯ä»¥ç›´æ¥è®¿é—®class,å› æ­¤é€Ÿåº¦è¾ƒå¿«ã€‚ä½†æ˜¯ å¦‚æœ æœåŠ¡ç«¯ä¿®æ”¹äº†ä»£ç ï¼Œåˆ™å†æ¬¡è®¿é—®æ—¶  ä¼šé‡æ–°çš„ç¿»è¯‘ã€ç¼–è¯‘ã€‚</p>
<p>æµè§ˆå™¨å¯ä»¥ç›´æ¥è®¿é—® WebContentä¸­çš„æ–‡ä»¶ï¼Œä¾‹å¦‚<a target="_blank" rel="noopener" href="http://localhost:8888/MyJspProject/index1.jsp">http://localhost:8888/MyJspProject/index1.jsp</a><br>å…¶ä¸­çš„index1.jspå°±åœ¨WebContentç›®å½•ä¸­ï¼›ä½†æ˜¯WEB-INFä¸­çš„æ–‡ä»¶  æ— æ³•é€šè¿‡å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ç›´æ¥è®¿é—®ï¼Œåªèƒ½é€šè¿‡è¯·æ±‚è½¬å‘æ¥è®¿é—®</p>
<p>æ³¨æ„ï¼šå¹¶ä¸æ˜¯ ä»»ä½•çš„å†…éƒ¨è·³è½¬éƒ½èƒ½è®¿é—®WEB-INFï¼›åŸå› æ˜¯ è·³è½¬æœ‰2ç§æ–¹å¼ï¼šè¯·æ±‚è½¬å‘ ã€é‡å®šå‘</p>
<p>ç»Ÿä¸€å­—ç¬¦é›†ç¼–ç </p>
<p>a.ç¼–ç åˆ†ç±»ï¼š</p>
<p>è®¾ç½®jspæ–‡ä»¶çš„ç¼–ç ï¼ˆjspæ–‡ä»¶ä¸­çš„pageEncodingå±æ€§ï¼‰ï¼š  jsp -&gt; java  </p>
<p>è®¾ç½®æµè§ˆå™¨è¯»å–jspæ–‡ä»¶çš„ç¼–ç ï¼ˆjspæ–‡ä»¶ä¸­contentå±æ€§ï¼‰</p>
<p>ä¸€èˆ¬å°†ä¸Šè¿°è®¾ç½®æˆ ä¸€è‡´çš„ç¼–ç ï¼Œæ¨èä½¿ç”¨UTF-8</p>
<p>æ–‡æœ¬ç¼–ç ï¼š</p>
<p>i.å°†æ•´ä¸ªé¡¹ç›®ä¸­çš„æ–‡ä»¶ ç»Ÿä¸€è®¾ç½® ï¼ˆæ¨èï¼‰</p>
<p>ii.è®¾ç½® æŸä¸€ä¸ªé¡¹ç›®</p>
<p>iii.è®¾ç½®å•ç‹¬æ–‡ä»¶</p>
<p>JSPçš„é¡µé¢å…ƒç´ ï¼š HTML  javaä»£ç ï¼ˆè„šæœ¬Scriptletï¼‰ã€æŒ‡ä»¤ã€æ³¨é‡Š</p>
<p><strong>a.è„šæœ¬Scriptlet</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">i.    </span><br><span class="line">	&lt;%</span><br><span class="line">			å±€éƒ¨å˜é‡ã€javaè¯­å¥</span><br><span class="line">	%&gt;</span><br><span class="line"></span><br><span class="line">ii.</span><br><span class="line">	&lt;%!</span><br><span class="line">			å…¨å±€å˜é‡ã€å®šä¹‰æ–¹æ³•</span><br><span class="line">	%&gt;</span><br><span class="line"></span><br><span class="line">iii.</span><br><span class="line"></span><br><span class="line">	&lt;%=è¾“å‡ºè¡¨è¾¾å¼ %&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬è€Œè¨€ï¼Œä¿®æ”¹web.xmlã€é…ç½®æ–‡ä»¶ã€java  éœ€è¦é‡å¯tomcatæœåŠ¡ ä½†æ˜¯å¦‚æœä¿®æ”¹ Jsp\html\css\js ï¼Œä¸éœ€è¦é‡å¯</p>
<p>æ³¨æ„ï¼Œout.println()ä¸èƒ½å›è½¦ï¼› è¦æƒ³å›è½¦ï¼šâ€œ&lt; br&#x2F; &gt;â€ï¼Œå³out.print() &lt;%&#x3D; %&gt; å¯ä»¥ç›´æ¥è§£æhtmlä»£ç </p>
<p><strong>b.æŒ‡ä»¤</strong></p>
<p>pageæŒ‡ä»¤</p>
<p>&lt;%@ page  â€¦.%&gt;</p>
<p>pageæŒ‡å®šçš„å±æ€§ï¼š</p>
<p>language: jspé¡µé¢ä½¿ç”¨çš„è„šæœ¬è¯­è¨€</p>
<p>import:å¯¼å…¥ç±»</p>
<p>pageEncoding:jspæ–‡ä»¶è‡ªèº«ç¼–ç   jsp -&gt;java</p>
<p>contentType:æµè§ˆå™¨è§£æjspçš„ç¼–ç </p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>  <span class="keyword">import</span>=<span class="string">&quot;java.util.Date&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>

<p><strong>c.æ³¨é‡Š</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">htmlæ³¨é‡Š&lt;!-- --&gt;  ,å¯ä»¥è¢«å®¢æˆ· é€šè¿‡æµè§ˆå™¨æŸ¥çœ‹æºç  æ‰€è§‚å¯Ÿåˆ°</span><br><span class="line">javaæ³¨é‡Š<span class="comment">//     /*...*/</span></span><br><span class="line">jspæ³¨é‡Š&lt;%-- --%&gt;</span><br></pre></td></tr></table></figure>

<p>JSPä¹å¤§å†…ç½®å¯¹è±¡ï¼ˆè‡ªå¸¦çš„ï¼Œä¸éœ€è¦new ä¹Ÿèƒ½ä½¿ç”¨çš„å¯¹è±¡ï¼‰</p>
<ul>
<li><p>outï¼šè¾“å‡ºå¯¹è±¡ï¼Œå‘å®¢æˆ·ç«¯è¾“å‡ºå†…å®¹</p>
</li>
<li><p>requestï¼šè¯·æ±‚å¯¹è±¡ï¼›å­˜å‚¨â€œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€çš„è¯·æ±‚ä¿¡æ¯â€</p>
<ul>
<li>requestå¯¹è±¡çš„å¸¸è§æ–¹æ³•ï¼š</li>
<li>String getParameter(String name) :æ ¹æ®è¯·æ±‚çš„å­—æ®µåkey ï¼ˆinputæ ‡ç­¾çš„nameå±æ€§å€¼ï¼‰ ï¼Œè¿”å›å­—æ®µå€¼value ï¼ˆinputæ ‡ç­¾çš„valueå±æ€§å€¼ï¼‰</li>
<li>String[] getParameterValues(String name): æ ¹æ®è¯·æ±‚çš„å­—æ®µåkey ï¼Œè¿”å›å¤šä¸ªå­—æ®µå€¼value  ï¼ˆcheckboxï¼‰</li>
<li>void setCharacterEncoding(â€œç¼–ç æ ¼å¼utf-8â€) ï¼šè®¾ç½®postæ–¹å¼çš„è¯·æ±‚ç¼–ç   ï¼ˆtomcat7ä»¥å‰é»˜è®¤iso-8859-1ï¼Œtomcat8ä»¥åæ”¹ä¸ºäº†utf-8ï¼‰</li>
<li>getRequestDispatcher(â€œb.jspâ€).forward(request,response) ;  ï¼šè¯·æ±‚è½¬å‘ çš„æ–¹å¼è·³è½¬é¡µé¢   A - &gt; B</li>
<li>ServletContext getServerContext():è·å–é¡¹ç›®çš„ServletContextå¯¹è±¡</li>
</ul>
</li>
<li><p>pageContext  JSPé¡µé¢å®¹å™¨</p>
</li>
<li><p>session   ä¼šè¯å¯¹è±¡</p>
</li>
<li><p>appliation å…¨å±€å¯¹è±¡</p>
</li>
<li><p>response  å“åº”å¯¹è±¡</p>
</li>
<li><p>config  é…ç½®å¯¹è±¡ï¼ˆæœåŠ¡å™¨é…ç½®ä¿¡æ¯ï¼‰</p>
</li>
<li><p>page   å½“å‰JSPé¡µé¢å¯¹è±¡ï¼ˆç›¸å½“äºjavaä¸­çš„thisï¼‰</p>
</li>
<li><p>exception å¼‚å¸¸å¯¹è±¡</p>
</li>
</ul>
<p><code>http://localhost:8888/MyJspProject/show.jsp?uname=aa&amp;upwd=123&amp;uage=22&amp;uhobbies=%E7%AF%AE%E7%90%83</code></p>
<p>è¿æ¥&#x2F;æ–‡ä»¶ï¼Ÿå‚æ•°å1&#x3D;å‚æ•°å€¼1 &amp; å‚æ•°å2&#x3D;å‚æ•°å€¼2 &amp; å‚æ•°å1&#x3D;å‚æ•°å€¼1 </p>
<p>getæäº¤æ–¹å¼:  method&#x3D;â€getâ€ å’Œ åœ°å€æ  ã€è¶…é“¾æ¥<code>(&lt;a href=&quot;xx&quot;&gt;&lt;/a&gt;)</code>è¯·æ±‚æ–¹å¼ é»˜è®¤éƒ½å±äºgetæäº¤æ–¹å¼ <code>&lt;a href=&quot;#&quot; method=&quot;get&quot;&gt;</code></p>
<p>getä¸postè¯·æ±‚æ–¹å¼çš„åŒºåˆ«ï¼š</p>
<p>a. getæ–¹å¼ åœ¨åœ°å€æ æ˜¾ç¤º è¯·æ±‚ä¿¡æ¯  (ä½†æ˜¯åœ°å€æ èƒ½å¤Ÿå®¹çº³çš„ ä¿¡æ¯æœ‰é™ï¼Œ4-5KBï¼›å¦‚æœè¯·æ±‚æ•°æ®å­˜åœ¨å¤§æ–‡ä»¶ï¼Œå›¾ç‰‡ç­‰ä¼šå‡ºç°åœ°å€æ æ— æ³•å®¹çº³å…¨éƒ¨çš„æ•°æ®è€Œå‡ºé”™) ï¼›<em>postä¸ä¼šæ˜¾ç¤º</em></p>
<p>b. æ–‡ä»¶ä¸Šä¼ æ“ä½œï¼Œå¿…é¡»æ˜¯post</p>
<p><strong>æ¨èä½¿ç”¨post</strong></p>
<p>ç»Ÿä¸€è¯·æ±‚çš„ç¼–ç  request</p>
<p>getæ–¹å¼è¯·æ±‚ å¦‚æœå‡ºç°ä¹±ç ï¼Œè§£å†³æ–¹æ¡ˆï¼š</p>
<p>a.ç»Ÿä¸€æ¯ä¸€ä¸ªå˜é‡çš„ ç¼–ç  ï¼ˆä¸æ¨èï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">String</span>(  æ—§ç¼–ç ï¼Œæ–°ç¼–ç );</span><br><span class="line">name = <span class="keyword">new</span> <span class="title class_">String</span>(name.getBytes(<span class="string">&quot;iso-8859-1&quot;</span>),<span class="string">&quot;utf-8&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>b. ä¿®æ”¹server.xml ï¼Œä¸€æ¬¡æ€§çš„ æ›´æ”¹tomcaté»˜è®¤getæäº¤æ–¹å¼çš„ç¼–ç  ï¼ˆutf-8ï¼‰ å»ºè®® ä½¿ç”¨tomcatæ—¶ï¼Œ é¦–å…ˆåœ¨server.xmlä¸­ ç»Ÿä¸€getæ–¹å¼çš„ç¼–ç .. URIEncoding&#x3D;â€UTF-8â€</p>
<p>post è®¾ç½®å­—ç¬¦ç¼–ç   request.setCharacterEncoding(â€œutf-8â€) ;</p>
<h2 id="2-Response-Cookie-Session"><a href="#2-Response-Cookie-Session" class="headerlink" title="2. Response&#x2F;Cookie&#x2F;Session"></a>2. Response&#x2F;Cookie&#x2F;Session</h2><h3 id="2-1-response-å“åº”å¯¹è±¡"><a href="#2-1-response-å“åº”å¯¹è±¡" class="headerlink" title="2.1 response (å“åº”å¯¹è±¡)"></a>2.1 response (å“åº”å¯¹è±¡)</h3><p>æä¾›çš„æ–¹æ³•ï¼š</p>
<ul>
<li>void addCookie( Cookie cookie ); æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å¢åŠ cookieå¯¹è±¡</li>
<li>void sendRedirect(String location ) throws IOException; :é¡µé¢è·³è½¬çš„ä¸€ç§æ–¹å¼ï¼ˆé‡å®šå‘ï¼‰</li>
<li>void setContetType(String type):è®¾ç½®æœåŠ¡ç«¯å“åº”çš„ç¼–ç ï¼ˆè®¾ç½®æœåŠ¡ç«¯çš„contentTypeç±»å‹ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼šç™»é™†</p>
<p>login.jsp  -&gt; check.jsp  -&gt;success.jsp</p>
<table>
<thead>
<tr>
<th></th>
<th>è¯·æ±‚è½¬å‘</th>
<th>é‡å®šå‘</th>
</tr>
</thead>
<tbody><tr>
<td>åœ°å€æ æ˜¯å¦æ”¹å˜</td>
<td>ä¸å˜(check.jsp)</td>
<td>æ”¹å˜(success.jsp)</td>
</tr>
<tr>
<td>æ˜¯å¦ä¿ç•™ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶çš„æ•°æ®</td>
<td>ä¿ç•™</td>
<td>ä¸ä¿ç•™</td>
</tr>
<tr>
<td>è¯·æ±‚çš„æ¬¡æ•°</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>è·³è½¬å‘ç”Ÿçš„ä½ç½®</td>
<td>æœåŠ¡ç«¯</td>
<td>å®¢æˆ·ç«¯å‘å‡ºçš„ç¬¬äºŒæ¬¡è·³è½¬</td>
</tr>
</tbody></table>
<p>é‡å®šå‘ï¼š<code>response.sendRedirect(&quot;success.jsp&quot;);//é¡µé¢è·³è½¬ï¼šé‡å®šå‘ï¼Œ å¯¼è‡´æ•°æ®ä¸¢å¤±</code></p>
<p>è¯·æ±‚è½¬å‘ï¼š<code>request.getRequestDispatcher(&quot;success.jsp&quot;).forward(request, response); // ä¸ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±</code></p>
<p>è¯·æ±‚æ¬¡æ•°çš„é—®é¢˜</p>
<p><a href="/img/image-20201230222208422.png" title="image-20201230222208422.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20201230222208422.png" alt="image-20201230222208422.png"></a></p>
<p>è½¬å‘ã€é‡å®šå‘ï¼š</p>
<p>è½¬å‘ï¼š</p>
<p>å¼ ä¸‰ï¼ˆå®¢æˆ·ç«¯ï¼‰     -&gt;    ã€ æœåŠ¡çª—å£ A ï¼ˆæœåŠ¡ç«¯ ï¼‰    -&gt;  æœåŠ¡çª—å£B   è¿™ä¸ªè¿‡ç¨‹å¼ ä¸‰æ˜¯ä¸çŸ¥é“çš„ã€‘</p>
<p>é‡å®šå‘ï¼š</p>
<p>å¼ ä¸‰ï¼ˆå®¢æˆ·ç«¯ï¼‰    -&gt; 	æœåŠ¡çª—å£ A ï¼ˆæœåŠ¡ç«¯ ï¼‰ -&gt;å»æ‰¾B</p>
<p>å¼ ä¸‰ï¼ˆå®¢æˆ·ç«¯ï¼‰    -&gt; 	æœåŠ¡çª—å£ B ï¼ˆæœåŠ¡ç«¯ ï¼‰ -&gt;ç»“æŸ</p>
<h3 id="2-2-Cookie-æœåŠ¡ç«¯-å®¢æˆ·ç«¯"><a href="#2-2-Cookie-æœåŠ¡ç«¯-å®¢æˆ·ç«¯" class="headerlink" title="2.2 Cookie(æœåŠ¡ç«¯ -&gt; å®¢æˆ·ç«¯)"></a>2.2 Cookie(æœåŠ¡ç«¯ -&gt; å®¢æˆ·ç«¯)</h3><p>Cookieï¼ˆå®¢æˆ·ç«¯ï¼Œä¸æ˜¯å†…ç½®å¯¹è±¡ï¼‰: Cookieæ˜¯ç”±æœåŠ¡ç«¯ç”Ÿæˆçš„ ï¼Œå†å‘é€ç»™å®¢æˆ·ç«¯ä¿å­˜ã€‚ç›¸å½“äº<strong>æœ¬åœ°ç¼“å­˜</strong>çš„ä½œç”¨ï¼š å®¢æˆ·ç«¯(hello.mp4,zs&#x2F;abc)-&gt;æœåŠ¡ç«¯(hello.mp4ï¼›zs&#x2F;abc)</p>
<p>ä½œç”¨ï¼šæé«˜è®¿é—®æœåŠ¡ç«¯çš„æ•ˆç‡ï¼Œä½†æ˜¯å®‰å…¨æ€§è¾ƒå·®ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Cookieï¼š	name = value</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cookie å¯¹è±¡çš„æ–¹æ³•ï¼š</span></span><br><span class="line">javax.servlet.http.Cookie</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Cookie</span><span class="params">(String name,String value)</span></span><br><span class="line">String <span class="title function_">getName</span><span class="params">()</span>; <span class="comment">// è·å–name</span></span><br><span class="line">String <span class="title function_">getValue</span><span class="params">()</span>; <span class="comment">// è·å–value</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setMaxAge</span><span class="params">(<span class="type">int</span> expiry)</span>; <span class="comment">//è®¾ç½®æœ€å¤§æœ‰æ•ˆæœŸ ï¼ˆç§’ï¼‰</span></span><br></pre></td></tr></table></figure>

<p>æœåŠ¡ç«¯å‡†å¤‡Cookieï¼š<code>response.addCookie(Cookie cookie)</code></p>
<p>é¡µé¢è·³è½¬ï¼ˆè½¬å‘ï¼Œé‡å®šå‘ï¼‰</p>
<p>å®¢æˆ·ç«¯è·å–cookie:  <code>request.getCookies();</code></p>
<p>a.æœåŠ¡ç«¯å¢åŠ cookie :responseå¯¹è±¡ï¼›å®¢æˆ·ç«¯è·å–å¯¹è±¡ï¼šrequestå¯¹è±¡</p>
<p>b.ä¸èƒ½ç›´æ¥è·å–æŸä¸€ä¸ªå•ç‹¬å¯¹è±¡ï¼Œåªèƒ½ä¸€æ¬¡æ€§å°†å…¨éƒ¨çš„cookieæ‹¿åˆ°</p>
<p>é€šè¿‡F12å¯ä»¥å‘ç°  é™¤äº†è‡ªå·±è®¾ç½®çš„Cookieå¯¹è±¡å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªnameä¸º JSESSIONIDçš„cookie</p>
<p>å»ºè®® cookieåªä¿å­˜  è‹±æ–‡æ•°å­—ï¼Œå¦åˆ™éœ€è¦è¿›è¡Œç¼–ç ã€è§£ç </p>
<p><strong>æ¡ˆä¾‹: ä½¿ç”¨Cookieå®ç°  è®°ä½ç”¨æˆ·å  åŠŸèƒ½</strong></p>
<p><a href="/img/image-20201231212221241.png" title="image-20201231212221241.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20201231212221241.png" alt="image-20201231212221241.png"></a></p>
<p>ç¬¬ä¸€æ¬¡ç™»å½•çš„æ—¶å€™å®¢æˆ·ç«¯å°†ä¿¡æ¯å‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯äº§ç”ŸCookieï¼Œå¹¶é€šè¿‡é‡å®šå‘å°†å…¶å‘é€åˆ°å®¢æˆ·ç«¯ä¸»æœºè¿›è¡Œä¿å­˜ï¼Œå½“å®¢æˆ·ç«¯å†æ¬¡ç™»å½•çš„æ—¶å€™è¯»å–æœ¬åœ°cookieè¿›è¡Œç”¨æˆ·åçš„å¡«å……</p>
<blockquote>
<p>ä»£ç è¯¦æƒ…è§: <code>Learning\JavaWeb\Jsp&amp;Servlet\2.3_è®°ä½å¯†ç </code></p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// login.jsp</span></span><br><span class="line"></span><br><span class="line">    &lt;%!</span><br><span class="line">       String uname;</span><br><span class="line">    %&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        Cookie[] cookies = request.getCookies();</span><br><span class="line">        <span class="keyword">for</span> (Cookie cookie :</span><br><span class="line">                cookies) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cookie.getName().equals(<span class="string">&quot;uname&quot;</span>))&#123;</span><br><span class="line">                uname = cookie.getValue();</span><br><span class="line">                System.out.print(uname);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    %&gt;</span><br><span class="line">    &lt;form action=<span class="string">&quot;check.jsp&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">        ç”¨æˆ·å&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;uname&quot;</span> value=<span class="string">&quot;&lt;%=uname == null ? &quot;</span><span class="string">&quot; : uname%&gt;&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">        å¯†ç  &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;upwd&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// check.jsp</span></span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">    request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>) ;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;upwd&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†ç”¨æˆ·ååŠ å…¥åˆ°cookieä¸­</span></span><br><span class="line"></span><br><span class="line">    <span class="type">Cookie</span> <span class="variable">cookie1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;uname&quot;</span>, name);</span><br><span class="line">    response.addCookie(cookie1);</span><br><span class="line">    response.sendRedirect(<span class="string">&quot;success.jsp&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// success.jsp</span></span><br><span class="line"></span><br><span class="line">&lt;font color=<span class="string">&quot;red&quot;</span>&gt; ç™»å½•æˆåŠŸ, æ¬¢è¿ä½  &lt;/font&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="2-3-session-æœåŠ¡ç«¯"><a href="#2-3-session-æœåŠ¡ç«¯" class="headerlink" title="2.3 session(æœåŠ¡ç«¯)"></a>2.3 session(æœåŠ¡ç«¯)</h3><p>session :ä¼šè¯</p>
<p>a.æµè§ˆç½‘ç«™ï¼šå¼€å§‹-å…³é—­</p>
<p>b.è´­ç‰©ï¼š  æµè§ˆã€ä»˜æ¬¾ã€é€€å‡º</p>
<p>c.ç”µå­é‚®ä»¶ï¼šæµè§ˆã€å†™é‚®ä»¶ã€é€€å‡º</p>
<p>å¼€å§‹-ç»“æŸ- è¡¨ç¤ºä¸€æ®µä¼šè¯</p>
<p>sessionæœºåˆ¶ï¼š</p>
<p><a href="/img/image-20201231214534665.png" title="image-20201231214534665.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20201231214534665.png" alt="image-20201231214534665.png"></a></p>
<p>å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡ç«¯æ—¶ï¼Œï¼ˆjsessionid-sessionidï¼‰æœåŠ¡ç«¯ä¼šäº§ç”Ÿä¸€ä¸ªsessionå¯¹è±¡ï¼ˆç”¨äºä¿å­˜è¯¥å®¢æˆ·çš„ä¿¡æ¯ï¼‰ï¼› å¹¶ä¸”æ¯ä¸ªsessionå¯¹è±¡ éƒ½ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„ sessionId( ç”¨äºåŒºåˆ†å…¶ä»–session); </p>
<p>æœåŠ¡ç«¯ä¼šäº§ç”Ÿä¸€ä¸ªcookieï¼Œå¹¶ä¸”è¯¥cookieçš„ name &#x3D; JSESSIONID , value&#x3D;æœåŠ¡ç«¯sessionIdçš„å€¼ï¼›</p>
<p>ç„¶å æœåŠ¡ç«¯ä¼šåœ¨ å“åº”å®¢æˆ·ç«¯çš„åŒæ—¶ å°†è¯¥cookieå‘é€ç»™å®¢æˆ·ç«¯ï¼Œè‡³æ­¤ï¼Œå®¢æˆ·ç«¯å°±æœ‰äº†ä¸€ä¸ªcookie(JSESSIONID)ï¼›</p>
<p>å› æ­¤ï¼Œå®¢æˆ·ç«¯çš„cookieå°±å¯ä»¥å’ŒæœåŠ¡ç«¯çš„sessionä¸€ä¸€å¯¹åº”ï¼ˆJSESSIONID - sessionIDï¼‰</p>
<p>å®¢æˆ·ç«¯ç¬¬äºŒ&#x2F;næ¬¡è¯·æ±‚æœåŠ¡ç«¯æ—¶:æœåŠ¡ç«¯ä¼šå…ˆç”¨å®¢æˆ·ç«¯cookieä¸­çš„ JSESSIONID  å»æœåŠ¡ç«¯çš„sessionä¸­åŒ¹é… sessionid, å¦‚æœåŒ¹é…æˆåŠŸï¼ˆcookie  jsessionid &#x3D;&#x3D; sesion sessionidï¼‰ï¼Œè¯´æ˜æ­¤ç”¨æˆ·ä¸æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®, æ— éœ€ç™»å½•ï¼›</p>
<p>ä¾‹å­ï¼š</p>
<p>å®¢æˆ·ç«¯ï¼š é¡¾å®¢ï¼ˆå®¢æˆ·ç«¯ï¼‰</p>
<p>æœåŠ¡ç«¯: å­˜åŒ…å¤„   -  å•†åœº(æœåŠ¡ç«¯)</p>
<p>é¡¾å®¢ç¬¬ä¸€æ¬¡å­˜åŒ…ï¼šå•†åœº åˆ¤æ–­æ­¤äººæ˜¯ ä¹‹å‰å·²ç»å­˜è¿‡åŒ…ï¼ˆé€šè¿‡ä½ æ‰‹é‡Œæ˜¯å¦æœ‰é’¥åŒ™ï¼‰ã€‚ å¦‚æœæ˜¯æ–°é¡¾å®¢ï¼ˆæ²¡é’¥åŒ™ï¼‰ ï¼Œåˆ†é…ä¸€ä¸ªé’¥åŒ™ ç»™è¯¥é¡¾å®¢ï¼› é’¥åŒ™ ä¼šå’Œ æŸœå­ ä¸€ä¸€å¯¹åº”ï¼›</p>
<p> ç¬¬ 2&#x2F;n æ¬¡ å­˜åŒ…ï¼šå•†åœº åˆ¤æ–­æ­¤äººæ˜¯ ä¹‹å‰å·²ç»å­˜è¿‡åŒ…ï¼ˆé€šè¿‡ä½ æ‰‹é‡Œæ˜¯å¦æœ‰é’¥åŒ™ï¼‰ã€‚ å¦‚æœæ˜¯è€é¡¾å®¢ï¼ˆæœ‰é’¥åŒ™ï¼‰ï¼Œåˆ™ä¸éœ€è¦åˆ†é…ï¼›è¯¥é¡¾å®¢æ‰‹é‡Œçš„é’¥åŒ™ ä¼š å’ŒæŸœå­ è‡ªåŠ¨ä¸€ä¸€å¯¹åº”ã€‚</p>
<p>sessionæ€»ç»“ :</p>
<p>a. sessionå­˜å‚¨åœ¨æœåŠ¡ç«¯</p>
<p>b. sessionæ˜¯åœ¨ åŒä¸€ä¸ªç”¨æˆ·ï¼ˆå®¢æˆ·ï¼‰è¯·æ±‚æ—¶ å…±äº«</p>
<p>c. å®ç°æœºåˆ¶ï¼šç¬¬ä¸€æ¬¡å®¢æˆ·è¯·æ±‚æ—¶ äº§ç”Ÿä¸€ä¸ªsessionid å¹¶å¤åˆ¶ç»™ cookieçš„jsessionid ç„¶åå‘ç»™å®¢æˆ·ç«¯ã€‚æœ€ç»ˆé€šè¿‡sessionçš„sessionid å’Œ cookieçš„jsessionid å®ç°ä¸€ä¸€å¯¹åº”ï¼Œå¹¶ä¸”é€šå¸¸æ¥è¯´æ˜¯å’Œä¸€ä¸ªæµè§ˆå™¨è¿›è¡Œå¯¹åº”çš„ã€‚</p>
<p>sessionæ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String <span class="title function_">getId</span><span class="params">()</span> :è·å–sessionId  </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isNew</span><span class="params">()</span> :åˆ¤æ–­æ˜¯å¦æ˜¯ æ–°ç”¨æˆ·ï¼ˆç¬¬ä¸€æ¬¡è®¿é—®ï¼‰</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">invalidate</span><span class="params">()</span>:ä½¿ session å¤±æ•ˆ ï¼ˆé€€å‡ºç™»å½•ã€æ³¨é”€ï¼‰</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setAttribute</span><span class="params">()</span>;</span><br><span class="line">Object <span class="title function_">getAttribute</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setMaxInactiveInterval</span><span class="params">(ç§’)</span> ï¼šè®¾ç½®æœ€å¤§æœ‰æ•ˆ éæ´»åŠ¨æ—¶é—´ </span><br><span class="line"><span class="type">int</span> <span class="title function_">getMaxInactiveInterval</span><span class="params">()</span>:è·å–æœ€å¤§æœ‰æ•ˆ éæ´»åŠ¨æ—¶é—´ </span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼šç™»å½•</p>
<p>å®¢æˆ·ç«¯åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡ç«¯æ—¶ï¼Œå¦‚æœæœåŠ¡ç«¯å‘ç° æ­¤è¯·æ±‚æ²¡æœ‰ JSESSIONID,åˆ™ä¼šåˆ›å»ºä¸€ä¸ª name &#x3D; JSESIONID çš„ cookie  å¹¶è¿”å›ç»™å®¢æˆ·ç«¯</p>
<blockquote>
<p>ä»£ç è¯¦æƒ…è§ <code>Learning\JavaWeb\Jsp&amp;Servlet\2.3_æŒä¹…ç™»å½•</code></p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯¦æƒ…è§ ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// login.jsp</span></span><br><span class="line"></span><br><span class="line">&lt;form action=<span class="string">&quot;check.jsp&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">        ç”¨æˆ·å&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;uname&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">        å¯†ç  &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;upwd&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// check.jsp</span></span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>) ;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;upwd&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(name.equals(<span class="string">&quot;zs&quot;</span>) &amp;&amp; pwd.equals(<span class="string">&quot;asd&quot;</span>))&#123; <span class="comment">// å‡è®¾è¿™æ—¶å€™å§“å zs å¯†ç  asd</span></span><br><span class="line">            <span class="comment">// åªæœ‰ç™»å½•æˆåŠŸçš„æ—¶å€™æ‰ä¼šæŠŠ å§“åå’Œå¯†ç  æ·»åŠ åˆ° session é‡Œé¢</span></span><br><span class="line">            session.setAttribute(<span class="string">&quot;uname&quot;</span>, name);</span><br><span class="line">            session.setAttribute(<span class="string">&quot;pwd&quot;</span>, pwd);</span><br><span class="line">            session.setMaxInactiveInterval(<span class="number">10</span>);</span><br><span class="line">            request.getRequestDispatcher(<span class="string">&quot;success.jsp&quot;</span>).forward(request, response);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            response.sendRedirect(<span class="string">&quot;login.jsp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// success.jsp</span></span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) session.getAttribute(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">        <span class="comment">// å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œåˆ™ç›´æ¥é€šè¿‡åœ°å€æ è®¿é—® success.jsp, å¿…ç„¶è®¿é—®åˆ°nameçš„å€¼</span></span><br><span class="line">        <span class="comment">// å¦‚æœæ²¡æœ‰å°±ä¼šè·å–åˆ°ç©ºå€¼ null</span></span><br><span class="line">        <span class="keyword">if</span> (name == <span class="literal">null</span>) &#123;</span><br><span class="line">            response.sendRedirect(<span class="string">&quot;login.jsp&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            out.print(name);</span><br><span class="line">        &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<p>Cookieï¼š</p>
<p>a.ä¸æ˜¯å†…ç½®å¯¹è±¡ï¼Œè¦ä½¿ç”¨å¿…é¡»new</p>
<p>b.ä½†æ˜¯ï¼ŒæœåŠ¡ç«¯ä¼š<strong>è‡ªåŠ¨</strong>ç”Ÿæˆä¸€ä¸ª(æœåŠ¡ç«¯è‡ªåŠ¨newä¸€ä¸ªcookieä¹Ÿåªä¼šnewè¿™ä¸€ä¸ªCookie) name&#x3D;JSESIONIDçš„cookie  å¹¶è¿”å›ç»™å®¢æˆ·ç«¯</p>
<p>cookieå’Œsessionçš„åŒºåˆ«ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>session</th>
<th>cookie</th>
</tr>
</thead>
<tbody><tr>
<td>ä¿å­˜çš„ä½ç½®</td>
<td>æœåŠ¡ç«¯</td>
<td>å®¢æˆ·ç«¯</td>
</tr>
<tr>
<td>å®‰å…¨æ€§</td>
<td>è¾ƒå®‰å…¨</td>
<td>è¾ƒä¸å®‰å…¨</td>
</tr>
<tr>
<td>ä¿å­˜çš„å†…å®¹</td>
<td>Object</td>
<td>String</td>
</tr>
</tbody></table>
<p>appliation å…¨å±€å¯¹è±¡</p>
<p>String getContextPath()	è™šæ‹Ÿè·¯å¾„</p>
<p>String getRealPath(String name): ç»å¯¹è·¯å¾„ï¼ˆè™šæ‹Ÿè·¯å¾„ ç›¸å¯¹çš„ç»å¯¹è·¯å¾„ï¼‰</p>
<p>å››ç§èŒƒå›´å¯¹è±¡ï¼ˆå°-&gt;å¤§ï¼‰</p>
<table>
<thead>
<tr>
<th>å¯¹è±¡å</th>
<th>è¯´æ˜</th>
<th>ä½œç”¨èŒƒå›´</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>JSPé¡µé¢å®¹å™¨   ï¼ˆpageå¯¹è±¡ï¼‰</td>
<td>å½“å‰é¡µé¢æœ‰æ•ˆ,é¡µé¢è·³è½¬åæ— æ•ˆ</td>
</tr>
<tr>
<td>request</td>
<td>è¯·æ±‚å¯¹è±¡</td>
<td>åŒä¸€æ¬¡è¯·æ±‚æœ‰æ•ˆï¼Œè¯·æ±‚è½¬å‘åæœ‰æ•ˆï¼Œé‡å®šå‘åæ— æ•ˆ</td>
</tr>
<tr>
<td>session</td>
<td>ä¼šè¯å¯¹è±¡</td>
<td>åŒä¸€æ¬¡ä¼šè¯æœ‰æ•ˆï¼Œæ— è®ºæ€ä¹ˆè·³è½¬ï¼Œéƒ½æœ‰æ•ˆï¼›å…³é—­&#x2F;åˆ‡æ¢æµè§ˆå™¨åæ— æ•ˆ ï¼› ä» ç™»é™†-&gt;é€€å‡º ä¹‹é—´ å…¨éƒ¨æœ‰æ•ˆ</td>
</tr>
<tr>
<td>appliation</td>
<td>å…¨å±€å¯¹è±¡</td>
<td>å…¨å±€æœ‰æ•ˆï¼ˆæ•´ä¸ªé¡¹ç›®æœ‰æ•ˆï¼‰åˆ‡æ¢æµè§ˆå™¨ ä»ç„¶æœ‰æ•ˆï¼›å…³é—­æœåŠ¡ã€å…¶ä»–é¡¹ç›® æ— æ•ˆ  -&gt;  æƒ³è¦å¤šä¸ªé¡¹ç›®å…±äº«ã€é‡å¯åä»ç„¶æœ‰æ•ˆ ï¼šä½¿ç”¨JNDI</td>
</tr>
</tbody></table>
<p>ä»¥ä¸Š4ä¸ªå¯¹è±¡å…±æœ‰çš„æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Object <span class="title function_">getAttribute</span><span class="params">(String name)</span>:æ ¹æ®å±æ€§åï¼Œæˆ–è€…å±æ€§å€¼</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setAttribute</span><span class="params">(String name,Object obj)</span> :è®¾ç½®å±æ€§å€¼ï¼ˆæ–°å¢ï¼Œä¿®æ”¹ï¼‰</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setAttribute</span><span class="params">(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>)</span> ;<span class="comment">//å¦‚æœaå¯¹è±¡ä¹‹å‰ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»ºä¸€ä¸ªaå¯¹è±¡ ï¼›aä¹‹å‰å·²ç»å­˜åœ¨ï¼Œåˆ™å°†açš„å€¼æ”¹ä¸ºb</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">removeAttribute</span><span class="params">(String name)</span>ï¼šæ ¹æ®å±æ€§åï¼Œåˆ é™¤å¯¹è±¡</span><br></pre></td></tr></table></figure>

<p>1.ä»¥ä¸Šçš„4ä¸ªèŒƒå›´å¯¹è±¡ï¼Œé€šè¿‡ setAttribute()å¤åˆ¶ï¼Œé€šè¿‡getAttribute()å–å€¼ï¼›</p>
<p>2.ä»¥ä¸ŠèŒƒå›´å¯¹è±¡ï¼Œ<strong>å°½é‡ä½¿ç”¨æœ€å°çš„èŒƒå›´</strong>ã€‚å› ä¸º å¯¹è±¡çš„èŒƒå›´è¶Šå¤§ï¼Œé€ æˆçš„æ€§èƒ½æŸè€—è¶Šå¤§ã€‚</p>
<h2 id="3-JDBC"><a href="#3-JDBC" class="headerlink" title="3. JDBC"></a>3. JDBC</h2><p>åŸºç¡€çŸ¥è¯†è¯¦æƒ…è§<a href="../JavaSE_JDBC_JVM/JDBC.md">ï¼ªï¼¤ï¼¢ï¼£è¯¦ç»†ç¬”è®°</a></p>
<h3 id="Jspè®¿é—®æ•°æ®åº“"><a href="#Jspè®¿é—®æ•°æ®åº“" class="headerlink" title="Jspè®¿é—®æ•°æ®åº“"></a>Jspè®¿é—®æ•°æ®åº“</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"> &lt;!-- index.jsp --&gt;</span><br><span class="line">	&lt;form action=<span class="string">&quot;check.jsp&quot;</span>&gt;</span><br><span class="line">      ç”¨æˆ·å &lt;input name=<span class="string">&quot;name&quot;</span> type=<span class="string">&quot;text&quot;</span> value=<span class="string">&quot;name&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">      å¯†ç  &lt;input name=<span class="string">&quot;pwd&quot;</span> type=<span class="string">&quot;password&quot;</span> value=<span class="string">&quot;pwd&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;ç™»å½•&quot;</span>/&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- check.jsp --&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="type">String</span> <span class="variable">uname</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">upassword</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;pwd&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/spring&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> <span class="string">&quot;333&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        conn = DriverManager.getConnection(url, name, pwd);</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from t_user where id = ? and password = ?&quot;</span>;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        ps.setString(<span class="number">1</span>, uname);</span><br><span class="line">        ps.setString(<span class="number">2</span>, upassword);</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">        <span class="keyword">if</span> (resultSet.next())&#123;</span><br><span class="line">            out.print(<span class="string">&quot;ç™»å½•æˆåŠŸ&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            out.print(<span class="string">&quot;ç™»å½•å¤±è´¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    %&gt;</span><br></pre></td></tr></table></figure>

<h3 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h3><p>å°† jspä¸­ ç™»å½•æ“ä½œçš„ä»£ç   è½¬ç§»åˆ°äº†LoginDao.javaï¼›å…¶ä¸­LoginDaoç±» å°±ç§°ä¹‹ä¸ºJavaBeanã€‚</p>
<p>JavaBeançš„ä½œç”¨ï¼š</p>
<p>a.å‡è½»çš„jspå¤æ‚åº¦ </p>
<p>b.æé«˜ä»£ç å¤ç”¨ï¼ˆä»¥åä»»ä½•åœ°æ–¹çš„ ç™»å½•æ“ä½œï¼Œéƒ½å¯ä»¥é€šè¿‡è°ƒç”¨LoginDaoå®ç°ï¼‰</p>
<p>JavaBeanï¼ˆå°±æ˜¯ä¸€ä¸ªJavaç±»ï¼‰çš„å®šä¹‰ï¼šæ»¡è¶³ä¸€ä¸‹2ç‚¹ ï¼Œå°±å¯ä»¥ç§°ä¸ºJavaBean</p>
<ol>
<li>public ä¿®é¥°çš„ç±»  ,public æ— å‚æ„é€ </li>
<li>æ‰€æœ‰å±æ€§(å¦‚æœæœ‰) éƒ½æ˜¯privateï¼Œå¹¶ä¸”æä¾›set&#x2F;get   (å¦‚æœboolean åˆ™get å¯ä»¥æ›¿æ¢æˆis)</li>
</ol>
<p>ä½¿ç”¨å±‚é¢ï¼ŒJavaåˆ†ä¸º2å¤§ç±»ï¼š</p>
<ol>
<li>å°è£…ä¸šåŠ¡é€»è¾‘çš„JavaBean (LoginDao.javaå°è£…äº†ç™»å½•é€»è¾‘)å¯ä»¥å°†jspä¸­çš„JDBCä»£ç ï¼Œå°è£…åˆ°Login.javaç±»ä¸­ ï¼ˆLogin.javaï¼‰</li>
<li>å°è£…æ•°æ®çš„JavaBean   ï¼ˆå®ä½“ç±»ï¼ŒStudent.java  Person.java ï¼‰å¯¹åº”äºæ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨</li>
</ol>
<p>Login login &#x3D; new Login(uname,upwd) ;&#x2F;&#x2F;å³ç”¨Loginå¯¹è±¡ å°è£…äº†2ä¸ªæ•°æ®ï¼ˆç”¨æˆ·å å’Œå¯†ç ï¼‰</p>
<p>å°è£…æ•°æ®çš„JavaBean å¯¹åº”äºæ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨   (Login(name,pwd))</p>
<p>å°è£…ä¸šåŠ¡é€»è¾‘çš„JavaBean ç”¨äºæ“ä½œ ä¸€ä¸ªå°è£…æ•°æ®çš„JavaBean </p>
<p>å¯ä»¥å‘ç°ï¼ŒJavaBeanå¯ä»¥ç®€åŒ– ä»£ç (jsp-&gt;jsp+java)ã€æä¾›ä»£ç å¤ç”¨(LoginDao.java)</p>
<h2 id="4-MVC"><a href="#4-MVC" class="headerlink" title="4. MVC"></a>4. MVC</h2><h3 id="ä»‹ç»ä»¥åŠåŸç†"><a href="#ä»‹ç»ä»¥åŠåŸç†" class="headerlink" title="ä»‹ç»ä»¥åŠåŸç†"></a>ä»‹ç»ä»¥åŠåŸç†</h3><p>Mï¼šModel æ¨¡å‹  ï¼šä¸€ä¸ªåŠŸèƒ½ã€‚ç”¨JavaBeanå®ç°ã€‚</p>
<p>Vï¼šView è§†å›¾ï¼š ç”¨äºå±•ç¤ºã€ä»¥åŠä¸ç”¨æˆ·äº¤äº’ã€‚ä½¿ç”¨html  js  css jsp jqueryç­‰å‰ç«¯æŠ€æœ¯å®ç°</p>
<p>Cï¼šController æ§åˆ¶å™¨ ï¼šæ¥å—è¯·æ±‚ï¼Œå°†è¯·æ±‚è·³è½¬åˆ°æ¨¡å‹è¿›è¡Œå¤„ç†ï¼›æ¨¡å‹å¤„ç†å®Œæ¯•åï¼Œå†å°†å¤„ç†çš„ç»“æœè¿”å›ç»™ è¯·æ±‚å¤„ ã€‚ å¯ä»¥ç”¨jspå®ç°ï¼Œ  ä½†æ˜¯ä¸€èˆ¬å»ºè®®ä½¿ç”¨ Servletå®ç°æ§åˆ¶å™¨ã€‚</p>
<p><a href="/img/image-20210107173548122.png" title="image-20210107173548122.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20210107173548122.png" alt="image-20210107173548122.png"></a></p>
<p>å¯¹äºMVCçš„ç†è§£ï¼š</p>
<p><a href="/img/image-20210107190727777.png" title="image-20210107190727777.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20210107190727777.png" alt="image-20210107190727777.png"></a></p>
<p>Jsp-&gt;Java(Servlet)-&gt;JSP</p>
<p>Servletï¼š</p>
<p>Javaç±»å¿…é¡»ç¬¦åˆä¸€å®šçš„ è§„èŒƒï¼Œæ‰æ˜¯ä¸€ä¸ªservletï¼š</p>
<ol>
<li>å¿…é¡»ç»§æ‰¿  javax.servlet.http.HttpServlet</li>
<li>é‡å†™å…¶ä¸­çš„ doGet() <strong>æˆ–</strong> doPost()æ–¹æ³•</li>
</ol>
<p> doGet()ï¼š æ¥å— å¹¶å¤„ æ‰€æœ‰getæäº¤æ–¹å¼çš„è¯·æ±‚</p>
<p> doPost()ï¼šæ¥å— å¹¶å¤„ æ‰€æœ‰postæäº¤æ–¹å¼çš„è¯·æ±‚</p>
<p>Servletè¦æƒ³ä½¿ç”¨ï¼Œå¿…é¡»é…ç½®</p>
<p>Serlvet2.5ï¼šweb.xml</p>
<p>Servle3.0ï¼š @WebServlet</p>
<p>servletæ˜ å°„å…³ç³»</p>
<p>servlet2.5 æ˜ å°„å…³ç³»</p>
<p><a href="/img/image-20210107212542020.png" title="image-20210107212542020.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20210107212542020.png" alt="image-20210107212542020.png"></a></p>
<p>servlet3.0æ˜ å°„å…³ç³»</p>
<p><a href="/img/image-20210107212621395.png" title="image-20210107212621395.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20210107212621395.png" alt="image-20210107212621395.png"></a></p>
<p>é¡¹ç›®çš„æ ¹ç›®å½•ï¼šWebContent ã€src</p>
<p>&lt; a href&#x3D;â€WelcomeServletâ€ &gt;æ‰€åœ¨çš„jspæ˜¯åœ¨ WebContentç›®å½•ä¸­ï¼Œå› æ­¤ å‘å‡ºçš„è¯·æ±‚WelcomeServlet  æ˜¯å»è¯·æ±‚é¡¹ç›®çš„æ ¹ç›®å½•ã€‚</p>
<p>Servletæµç¨‹ï¼šè¯·æ±‚ -&gt;&lt; url-pattern &gt; -&gt; æ ¹æ®&lt; servlet-mapping &gt;ä¸­çš„&lt; servlet-name &gt; å»åŒ¹é…  &lt; servlet &gt; ä¸­çš„&lt; servlet-name &gt;ï¼Œç„¶åå¯»æ‰¾åˆ°&lt; servlet-class &gt;ï¼Œæ±‚ä¸­å°†è¯·æ±‚äº¤ç”±è¯¥&lt; servlet-class &gt;æ‰§è¡Œã€‚</p>
<p>çº¯æ‰‹å·¥æ–¹æ³•åˆ›å»ºç¬¬ä¸€ä¸ªServlet</p>
<p>æ­¥éª¤ï¼š</p>
<ul>
<li><p>ç¼–å†™ä¸€ä¸ªç±»ï¼Œç»§æ‰¿HttpServlet</p>
</li>
<li><p>é‡å†™doGet()ã€doPost()æ–¹æ³•</p>
</li>
<li><p>ç¼–å†™web.xml ä¸­çš„servletæ˜ å°„å…³ç³»</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é¡¹ç›®/web/WEB-INF/web.xml--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>LoginServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>LoginServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>LoginServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/src/LoginServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¡¹ç›®/src/LoginServlet</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

  <figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--é¡¹ç›®/web/index.jsp--&gt;</span><br><span class="line">    &lt;form action=<span class="string">&quot;src/LoginServlet&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">      ç”¨æˆ·å &lt;input name=<span class="string">&quot;name&quot;</span> type=<span class="string">&quot;text&quot;</span> value=<span class="string">&quot;name&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">      å¯†ç  &lt;input name=<span class="string">&quot;pwd&quot;</span> type=<span class="string">&quot;password&quot;</span> value=<span class="string">&quot;pwd&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;ç™»å½•&quot;</span>/&gt;</span><br><span class="line">    &lt;/form&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>å€ŸåŠ©äºEclipseå¿«é€Ÿç”ŸæˆServlet</p>
<p>ç›´æ¥æ–°å»ºServletå³å¯ï¼ï¼ˆç»§æ‰¿ã€é‡å†™ã€web.xml  å¯ä»¥å€ŸåŠ©Eclipseè‡ªåŠ¨ç”Ÿæˆï¼‰</p>
<p>Servlet3.0ï¼Œä¸Servlet2.5çš„åŒºåˆ«ï¼š</p>
<p>Servlet3.0ä¸éœ€è¦åœ¨web.xmlä¸­é…ç½®ï¼Œä½† éœ€è¦åœ¨ Servletç±»çš„å®šä¹‰å¤„ä¹‹ä¸Šç¼–å†™ æ³¨è§£@WebServlet(â€œurl-patternçš„å€¼â€) </p>
<p>åŒ¹é…æµç¨‹ï¼š  è¯·æ±‚åœ°å€ ä¸@WebServletä¸­çš„å€¼ è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…æˆåŠŸ ï¼Œåˆ™è¯´æ˜ è¯·æ±‚çš„å°±æ˜¯è¯¥æ³¨è§£æ‰€å¯¹åº”çš„ç±»</p>
<p>é¡¹ç›®æ ¹ç›®å½•ï¼šWebContentã€srcï¼ˆæ‰€æœ‰çš„æ„å»ºè·¯å¾„ï¼‰</p>
<p>ä¾‹å¦‚ï¼šWebContentä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶index.jsp  &#x2F;  srcä¸­æœ‰ä¸€ä¸ªServlet.java  </p>
<p>å¦‚æœ: index.jspä¸­è¯·æ±‚ &lt; a href&#x3D;â€abcâ€ &gt;â€¦ &lt; &#x2F;a &gt; ï¼Œåˆ™ å¯»æ‰¾èŒƒå›´ï¼šæ—¢ä¼šåœ¨srcæ ¹ç›®å½•ä¸­æ‰¾  ä¹Ÿä¼šåœ¨WebContentæ ¹ç›®å½•ä¸­æ‰¾</p>
<p>å¦‚æœï¼šindex.jspä¸­è¯·æ±‚&lt; a href&#x3D;â€a&#x2F;abcâ€ &gt;&lt; &#x2F;a &gt;ï¼Œå¯»æ‰¾èŒƒå›´ï¼šå…ˆåœ¨srcæˆ–WebContentä¸­æ‰¾aç›®å½•ï¼Œç„¶åå†åœ¨aç›®å½•ä¸­æ‰¾abc</p>
<p>web.xmlä¸­çš„ &#x2F;:ä»£è¡¨é¡¹ç›®æ ¹è·¯å¾„  <a target="_blank" rel="noopener" href="http://localhost:8888/Servlet25Project/">http://localhost:8888/Servlet25Project/</a></p>
<p>jspä¸­çš„&#x2F;: æœåŠ¡å™¨æ ¹è·¯å¾„  <a target="_blank" rel="noopener" href="http://localhost:8888/">http://localhost:8888/</a></p>
<p>æ„å»ºè·¯å¾„ã€WebContent: æ ¹ç›®å½•</p>
<p>Servletç”Ÿå‘½å‘¨æœŸï¼š5ä¸ªé˜¶æ®µ </p>
<ul>
<li>åŠ è½½</li>
<li>åˆå§‹åŒ–ï¼š init()  ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨ Servletè¢«åŠ è½½å¹¶å®ä¾‹åŒ–çš„ä»¥åæ‰§è¡Œ</li>
<li>æœåŠ¡  ï¼šservice() -&gt;doGet()  doPost()</li>
<li>é”€æ¯  ï¼šdestroy()ï¼Œ  Servletè¢«ç³»ç»Ÿå›æ”¶æ—¶æ‰§è¡Œ</li>
<li>å¸è½½</li>
</ul>
<p>init():</p>
<pre><code>a.é»˜è®¤ç¬¬ä¸€æ¬¡è®¿é—® Servletæ—¶ä¼šè¢«æ‰§è¡Œ ï¼ˆåªæ‰§è¡Œè¿™ä¸€æ¬¡ï¼‰

b.å¯ä»¥ä¿®æ”¹ä¸º Tomcatå¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œ

    i.Servlet2.5ï¼š  web.xml
</code></pre>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  	<span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span>			</span><br><span class="line"><span class="comment">&lt;!--å…¶ä¸­çš„â€œ1â€ä»£è¡¨ç¬¬ä¸€ä¸ªã€‚--&gt;</span></span><br></pre></td></tr></table></figure>

<p>ii.Servlet3.0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet( value=&quot;/WelcomeServlet&quot; ,loadOnStartup=1  )</span></span><br></pre></td></tr></table></figure>


<p>service() -&gt;doGet()  doPost() ï¼šè°ƒç”¨å‡ æ¬¡ï¼Œåˆ™æ‰§è¡Œå‡ æ¬¡</p>
<p>destroy()ï¼šå…³é—­tomcatæœåŠ¡æ—¶ï¼Œæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<hr>
<p>Servlet API ï¼š ç”±ä¸¤ä¸ªè½¯ä»¶åŒ…ç»„æˆï¼š å¯¹åº”äºHTTPåè®®çš„è½¯ä»¶åŒ…ã€å¯¹åº”äºé™¤äº†HTTPåè®®ä»¥å¤–çš„å…¶ä»–è½¯ä»¶åŒ…</p>
<p>å³Servlet  APIå¯ä»¥é€‚ç”¨äº ä»»ä½• é€šä¿¡åè®®ã€‚ </p>
<p>æˆ‘ä»¬å­¦ä¹ çš„Servlet,æ˜¯ä½äºjavax.servlet.httpåŒ…ä¸­çš„ç±»å’Œæ¥å£ï¼Œæ˜¯åŸºç¡€HTTPåè®®ã€‚</p>
<p>Servletç»§æ‰¿å…³ç³»</p>
<p><a href="/img/image-20210107214739439.png" title="image-20210107214739439.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20210107214739439.png" alt="image-20210107214739439.png"></a></p>
<p>ServletConfig:æ¥å£ </p>
<p>ServletContext getServletContext():è·å–Servletä¸Šä¸‹æ–‡å¯¹è±¡   application</p>
<p>String  getInitParameter(String name):åœ¨å½“å‰ServletèŒƒå›´å†…ï¼Œè·å–åä¸ºnameçš„å‚æ•°å€¼ï¼ˆåˆå§‹åŒ–å‚æ•°ï¼‰</p>
<p>ServletContextä¸­çš„å¸¸è§æ–¹æ³•(application)ï¼š</p>
<ul>
<li><p>getContextPath():ç›¸å¯¹è·¯å¾„</p>
</li>
<li><p>getRealPath()ï¼šç»å¯¹è·¯å¾„</p>
</li>
<li><p>setAttribute() ã€getAttribute()  â€”&gt;  String getInitParameter(String name); åœ¨å½“å‰Webå®¹å™¨èŒƒå›´å†…ï¼Œè·å–åä¸ºnameçš„å‚æ•°å€¼ï¼ˆåˆå§‹åŒ–å‚æ•°ï¼‰</p>
</li>
</ul>
<p>Servlet3.0æ–¹å¼ ç»™å½“å‰Servletè®¾ç½®åˆå§‹å€¼ï¼š@WebServlet( â€¦. , initParams&#x3D; {@WebInitParam(name&#x3D;â€serveltparaname30â€,value&#x3D;â€servletparavalue30â€)   }   )</p>
<p>æ³¨æ„ï¼Œæ­¤æ³¨è§£åª éš¶å±äºæŸä¸€ä¸ªå…·ä½“çš„Servlet ï¼Œå› æ­¤æ— æ³•ä¸º æ•´ä¸ªwebå®¹å™¨è®¾ç½®åˆå§‹åŒ–å‚æ•° ï¼ˆå¦‚æœè¦é€šè¿‡3.0æ–¹å¼è®¾ç½® webå®¹å™¨çš„åˆå§‹åŒ–å‚æ•°ï¼Œä»ç„¶éœ€è¦åœ¨web.xmlä¸­è®¾ç½®ï¼‰</p>
<p>HttpServletRequestä¸­çš„æ–¹æ³•ï¼š(åŒrequest)ï¼Œä¾‹å¦‚setAttrite()ã€getCookies()ã€getMethod()<br>HttpServletResponseä¸­çš„æ–¹æ³•ï¼šåŒresponse</p>
<p>Servletä½¿ç”¨å±‚é¢ï¼šEclipseä¸­åœ¨srcåˆ›å»ºä¸€ä¸ªServletï¼Œç„¶åé‡å†™doGet()  doPost()å°±å¯ä»¥  ï¼ˆdoGet() doPost()åªéœ€è¦ç¼–å†™ä¸€ä¸ªï¼‰ã€‚</p>
<h3 id="ä¸‰å±‚æ¶æ„"><a href="#ä¸‰å±‚æ¶æ„" class="headerlink" title="ä¸‰å±‚æ¶æ„"></a>ä¸‰å±‚æ¶æ„</h3><p>ä¸‰å±‚ç»„æˆ:</p>
<ul>
<li>è¡¨ç¤ºå±‚ï¼ˆUSLï¼ŒUser Showï¼ŒLayer è§†å›¾å±‚ï¼‰<ul>
<li>å‰å°ï¼šå¯¹åº”MVCä¸­çš„Viewï¼Œç”¨äºå’Œç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œç•Œé¢çš„æ˜¾ç¤ºã€jsp\js\html\css\jqueryâ€¦ã€‘ä½ç½®ï¼šweb</li>
<li>åå°ï¼šå¯¹åº”äºMVCçš„Controllerï¼Œç”¨äºæ§åˆ¶è·³è½¬ï¼Œè°ƒç”¨ä¸šåŠ¡é€»è¾‘å±‚ã€Servlet\SpringMVCã€‘ä½ç½®ï¼šxxx.servletåŒ…å†…</li>
</ul>
</li>
<li>ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBLL, Business Logic Layerï¼ŒServiceå±‚ï¼‰<ul>
<li>æ¥å—è¡¨ç¤ºå±‚çš„è¯·æ±‚ï¼Œè°ƒç”¨</li>
<li>ç»„è£…æ•°æ®è®¿é—®å±‚ï¼Œé€»è¾‘æ€§çš„æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰</li>
<li>ä¸€èˆ¬ä½äº xxx.service åŒ…å†…ï¼ˆxxx.manager  xx.bllï¼‰</li>
</ul>
</li>
<li>æ•°æ®è®¿é—®å±‚ï¼ˆDALï¼ŒData Access Layerï¼ŒDAOå±‚ï¼‰<ul>
<li>ç›´æ¥è®¿é—®æ•°æ®åº“çš„æ“ä½œï¼ŒåŸå­æ€§çš„æ“ä½œã€å¢åˆ æ”¹æŸ¥ã€‘</li>
<li>ä¸€èˆ¬ä½äº xxx.dao åŒ…å†…</li>
</ul>
</li>
</ul>
<p>ä¸‰å±‚ä¹‹é—´çš„å…³ç³»ç¤ºä¾‹</p>
<p><a href="/img/image-20210108084353250.png" title="image-20210108084353250.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20210108084353250.png" alt="image-20210108084353250.png"></a></p>
<p>ä¸‰å±‚æ¶æ„å’ŒMVCçš„å…³ç³»</p>
<p><a href="/img/image-20210108081315318.png" title="image-20210108081315318.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20210108081315318.png" alt="image-20210108081315318.png"></a></p>
<p>jspå†…ç½®å¯¹è±¡å¦‚ä½•åœ¨servletä¸­è·å–ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PrintWrite</span> <span class="variable">out</span> <span class="operator">=</span> responce.getWrite(); <span class="comment">// è·å–outå¯¹è±¡</span></span><br><span class="line"><span class="type">Session</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession(); <span class="comment">// è·å–sessionå¯¹è±¡</span></span><br><span class="line"><span class="type">Application</span> <span class="variable">app</span> <span class="operator">=</span> request.getServletContext(); <span class="comment">// è·å–applicationå¯¹è±¡</span></span><br></pre></td></tr></table></figure>



<p><a href="/img/image-20210108081939431.png" title="image-20210108081939431.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20210108081939431.png" alt="image-20210108081939431.png"></a></p>
<h3 id="MVCä¼˜åŒ–"><a href="#MVCä¼˜åŒ–" class="headerlink" title="MVCä¼˜åŒ–"></a>MVCä¼˜åŒ–</h3><p>æºç è§ï¼š<code>Learning\JavaWeb\Jsp&amp;Servlet</code></p>
<p>åŠ å…¥æ¥å£ï¼Œä¸ºserviceã€daoåŠ å…¥æ¥å£</p>
<p>å»ºè®®é¢å‘æ¥å£å¼€å‘ï¼šå…ˆæ¥å£-å†å®ç°ç±»</p>
<p>æ¥å£ä¸å®ç°ç±»çš„å‘½åè§„èŒƒ</p>
<ul>
<li><p>æ¥å£ï¼šinterfaceï¼Œ	èµ·åæ ¼å¼ï¼š <code>Iå®ä½“ç±»Service</code> æ¯”å¦‚<code>IStudentService</code>ã€	<code>IStudentDao</code>	</p>
</li>
<li><p>å®ç°ç±»ï¼šimplements	èµ·åæ ¼å¼  <code>å®ä½“ç±»ServiceImpl</code> æ¯”å¦‚<code>StudentServiceImpl</code>ã€<code>StudentDaoImpl</code></p>
</li>
<li><p>æ¥å£æ‰€åœ¨çš„åŒ…ï¼š  xxx.service		xx.dao</p>
</li>
<li><p>å®ç°ç±»ï¼šèµ·åæ ¼å¼ï¼š<code>å®ä½“ç±»å±‚æ‰€åœ¨åŒ…åImpl</code> æ¯”å¦‚ï¼š<code>StudentServiceImpl</code>ã€<code>StudentDaoImpl</code></p>
</li>
<li><p>å®ç°ç±»æ‰€åœ¨çš„åŒ…ï¼šxxx.service.impl  xx.dao.impl</p>
</li>
</ul>
<p>ä»¥åä½¿ç”¨æ¥å£&#x2F;å®ç°ç±»æ—¶ï¼Œæ¨èå†™æ³•ï¼š</p>
<p>æ¥å£ x &#x3D; new å®ç°ç±»();</p>
<p>IStudentDao studentDao &#x3D; new StudentDaoImpl();</p>
<p>DBUtil é€šç”¨çš„æ•°æ®åº“å¸®åŠ©ç±»ï¼Œå¯ä»¥ç®€åŒ–Daoå±‚çš„ä»£ç é‡ï¼Œå¸®åŠ©ç±» ä¸€èˆ¬å»ºè®®å†™åœ¨  xxx.utilåŒ…</p>
<p>æ–¹æ³•é‡æ„ï¼š  å°†å¤šä¸ªæ–¹æ³• çš„å…±åŒä»£ç  æç‚¼å‡ºæ¥ï¼Œå•ç‹¬å†™åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œç„¶åå¼•å…¥è¯¥æ–¹æ³•å³å¯</p>
<p>Webè°ƒè¯•ï¼šä¸javaä»£ç çš„è°ƒè¯• åŒºåˆ«ï¼šå¯åŠ¨æ–¹å¼ä¸åŒ</p>
<p>index.jsp -&gt;index_jsp.java -&gt;index_jsp.class </p>
<p>jsp-&gt;java-&gt;class<br>jspç¿»è¯‘æˆçš„Java ä»¥åŠç¼–è¯‘åçš„classæ–‡ä»¶ å­˜åœ¨äºtomcatä¸­çš„workç›®å½•ä¸­</p>
<p><strong>daoå’ŒDBUtilçš„åŒºåˆ«ï¼š</strong></p>
<p>dao æ˜¯å¤„ç†ç‰¹å®š ç±»çš„ æ•°æ®åº“æ“ä½œç±»ï¼š</p>
<p>DBUtilæ˜¯é€šç”¨  æ•°æ®åº“æ“ä½œç±»</p>
<h4 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h4><p>è¦å®ç°åˆ†é¡µï¼Œå¿…é¡»çŸ¥é“  æŸä¸€é¡µçš„ æ•°æ® ä»å“ªé‡Œå¼€å§‹ åˆ°å“ªé‡Œç»“æŸ</p>
<p>é¡µé¢å¤§å°ï¼šæ¯é¡µæ˜¾ç¤ºçš„æ•°æ®é‡</p>
<p>å‡è®¾æ¯é¡µæ˜¾ç¤º10æ¡æ•°æ®</p>
<p>mysqlåˆ†é¡µï¼š</p>
<p><strong>mysql : ä»0å¼€å§‹è®¡æ•°</strong></p>
<p>åˆ†é¡µï¼š</p>
<p>ç¬¬né¡µçš„æ•°æ®ï¼š  ç¬¬(n - 1) * 10 + 1æ¡  â€“ ç¬¬n * 10æ¡</p>
<p>MYSQLå®ç°åˆ†é¡µçš„sqlï¼š</p>
<p>limit  å¼€å§‹,å¤šå°‘æ¡</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ç¬¬0é¡µ</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student limit <span class="number">0</span>,<span class="number">10</span> ;</span><br><span class="line"><span class="comment">-- ç¬¬1é¡µ</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student limit <span class="number">10</span>,<span class="number">10</span> ;</span><br><span class="line"><span class="comment">-- ç¬¬2é¡µ</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student limit  <span class="number">20</span>,<span class="number">10</span> ;</span><br><span class="line"><span class="comment">-- ç¬¬né¡µ</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student limit n<span class="operator">*</span><span class="number">10</span>,<span class="number">10</span></span><br></pre></td></tr></table></figure>

<p>mysqlçš„åˆ†é¡µè¯­å¥ï¼š</p>
<p>select * from student limit é¡µæ•°*é¡µé¢å¤§å°,é¡µé¢å¤§å°</p>
<p>oracleåˆ†é¡µï¼š</p>
<p><strong>sqlserver&#x2F;oracle:ä»1å¼€å§‹è®¡æ•°</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> student  <span class="keyword">where</span> sno <span class="operator">&gt;=</span>(n<span class="number">-1</span>)<span class="operator">*</span><span class="number">10</span><span class="operator">+</span><span class="number">1</span> <span class="keyword">and</span> sno <span class="operator">&lt;=</span>n<span class="operator">*</span><span class="number">10</span> ; </span><br><span class="line"><span class="comment">-- æ­¤ç§å†™æ³•çš„å‰æï¼šå¿…é¡»æ˜¯Idè¿ç»­ ï¼Œå¦åˆ™ æ— æ³•æ»¡è¶³æ¯é¡µæ˜¾ç¤º10æ¡æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> rownum,t.<span class="operator">*</span><span class="keyword">from</span> student t <span class="keyword">where</span> rownum <span class="operator">&gt;=</span>(n<span class="number">-1</span>)<span class="operator">*</span><span class="number">10</span><span class="operator">+</span><span class="number">1</span> <span class="keyword">and</span> rownum <span class="operator">&lt;=</span>n<span class="operator">*</span><span class="number">10</span>  <span class="keyword">order</span> <span class="keyword">by</span> sno;</span><br><span class="line"><span class="comment">--1.å¦‚æœæ ¹æ®snoæ’åºåˆ™rownumä¼šæ··ä¹±ï¼ˆè§£å†³æ–¹æ¡ˆï¼šåˆ†å¼€ä½¿ç”¨-&gt;å…ˆåªæ’åºï¼Œå†åªæŸ¥è¯¢rownumï¼‰ 2.rownumä¸èƒ½æŸ¥è¯¢&gt;çš„æ•°æ® </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ORACLE\sqlserveréƒ½æ˜¯ä»1å¼€å§‹è®¡æ•°ï¼š  (n-1)*10+1    ---  n*10 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ã€æœ€ç»ˆç‰ˆæœ¬ã€‘ä¼˜åŒ–ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> </span><br><span class="line">(</span><br><span class="line">	<span class="keyword">select</span> rownum r, t.<span class="operator">*</span> <span class="keyword">from</span></span><br><span class="line">	(<span class="keyword">select</span> s.<span class="operator">*</span> <span class="keyword">from</span> student s <span class="keyword">order</span> <span class="keyword">by</span> sno <span class="keyword">asc</span>) t 		</span><br><span class="line">	<span class="keyword">where</span> rownum<span class="operator">&lt;=</span>n<span class="operator">*</span><span class="number">10</span> </span><br><span class="line">)</span><br><span class="line"><span class="keyword">where</span> r<span class="operator">&gt;=</span>(n <span class="operator">-</span> <span class="number">1</span>) <span class="operator">*</span> <span class="number">10</span> <span class="operator">+</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä¹Ÿå°±æ˜¯è¯´</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> </span><br><span class="line">(</span><br><span class="line">	<span class="keyword">select</span> rownum r, t.<span class="operator">*</span> <span class="keyword">from</span></span><br><span class="line">	(<span class="keyword">select</span> s.<span class="operator">*</span> <span class="keyword">from</span> student s <span class="keyword">order</span> <span class="keyword">by</span> sno <span class="keyword">asc</span>) t 		</span><br><span class="line">	<span class="keyword">where</span>  rownum<span class="operator">&lt;=</span>é¡µæ•°<span class="operator">*</span>é¡µé¢å¤§å° </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">where</span> r <span class="operator">&gt;=</span> (é¡µæ•°<span class="number">-1</span>)<span class="operator">*</span>é¡µé¢å¤§å°<span class="operator">+</span><span class="number">1</span>  ;	</span><br></pre></td></tr></table></figure>



<p>SQLServeråˆ†é¡µï¼š  3ç§åˆ†é¡µsql</p>
<p>row_number()	over(å­—æ®µ) ;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">sqlserver2003:top  <span class="comment">--æ­¤ç§åˆ†é¡µSQLå­˜åœ¨å¼Šç«¯ï¼ˆå¦‚æœidå€¼ä¸è¿ç»­ï¼Œåˆ™ä¸èƒ½ä¿è¯æ¯é¡µæ•°æ®é‡ç›¸ç­‰ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> top é¡µé¢å¤§å° <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> id <span class="keyword">not</span> <span class="keyword">in</span> </span><br><span class="line">( <span class="keyword">select</span> top (é¡µæ•°<span class="number">-1</span>)<span class="operator">*</span>é¡µé¢å¤§å° id <span class="keyword">from</span> student  <span class="keyword">order</span> <span class="keyword">by</span> sno <span class="keyword">asc</span> )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sqlserver2005ä¹‹åæ”¯æŒï¼š</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">row_number</span>()  <span class="keyword">over</span> (sno <span class="keyword">order</span> <span class="keyword">by</span> sno <span class="keyword">asc</span>) <span class="keyword">as</span> r, <span class="operator">*</span> <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> r<span class="operator">&lt;=</span>n<span class="operator">*</span><span class="number">10</span> </span><br><span class="line">)</span><br><span class="line"><span class="keyword">where</span> r<span class="operator">&gt;=</span>(n<span class="number">-1</span>) <span class="operator">*</span><span class="number">10</span><span class="operator">+</span><span class="number">1</span> <span class="keyword">and</span>  ;	</span><br><span class="line"></span><br><span class="line"><span class="comment">-- SQLServeræ­¤ç§åˆ†é¡µsqlä¸oralceåˆ†é¡µsqlçš„åŒºåˆ«ï¼š </span></span><br><span class="line"><span class="comment">-- 1.rownum  ï¼Œrow_number()   </span></span><br><span class="line"><span class="comment">-- 2.oracleéœ€è¦æ’åºï¼ˆä¸ºäº†æ’åºï¼Œå•ç‹¬å†™äº†ä¸€ä¸ªå­æŸ¥è¯¢ï¼‰ï¼Œä½†æ˜¯åœ¨sqlserver ä¸­å¯ä»¥çœç•¥è¯¥æ’åºçš„å­æŸ¥è¯¢  å› ä¸ºsqlserverä¸­å¯ä»¥é€šè¿‡overç›´æ¥æ’åº</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- sqlserver2012ä¹‹åæ”¯æŒï¼šoffset fetch next only</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student  oreder <span class="keyword">by</span> sno </span><br><span class="line"><span class="keyword">offset</span> (é¡µæ•°<span class="number">-1</span>)<span class="operator">*</span>é¡µé¢å¤§å°<span class="operator">+</span><span class="number">1</span>  <span class="keyword">rows</span> <span class="keyword">fetch</span> next é¡µé¢å¤§å°  <span class="keyword">rows</span> <span class="keyword">only</span> ;</span><br></pre></td></tr></table></figure>


<h2 id="5-ä¸Šä¼ ä¸ä¸‹è½½"><a href="#5-ä¸Šä¼ ä¸ä¸‹è½½" class="headerlink" title="5. ä¸Šä¼ ä¸ä¸‹è½½"></a>5. ä¸Šä¼ ä¸ä¸‹è½½</h2><p>1.ä¸Šä¼ æ–‡ä»¶</p>
<p>a.å¼•å…¥2ä¸ªjar</p>
<p>apache: commons-fileupload.jarç»„ä»¶</p>
<p>commons-fileupload.jarä¾èµ– commons-io.jar</p>
<p>b.</p>
<p>ä»£ç ï¼š</p>
<p>å‰å°jspï¼š</p>
<p>&lt; input type&#x3D;â€fileâ€  name&#x3D;â€spictureâ€&#x2F; &gt;</p>
<p>è¡¨å•æäº¤æ–¹å¼<strong>å¿…é¡»ä¸ºpost</strong></p>
<p>åœ¨è¡¨å•ä¸­å¿…é¡»å¢åŠ ä¸€ä¸ªå±æ€§ <strong>entype&#x3D;â€multipart&#x2F;form-dataâ€</strong></p>
<p>åå°servletï¼š</p>
<p>æ³¨æ„çš„é—®é¢˜ï¼š</p>
<p>ä¸Šä¼ çš„ç›®å½•  upload ï¼š</p>
<p>1.å¦‚æœä¿®æ”¹ä»£ç ï¼Œåˆ™åœ¨tomcaté‡æ–°å¯åŠ¨æ—¶ä¼šè¢«åˆ é™¤</p>
<p>åŸå› ï¼šå½“ä¿®æ”¹ä»£ç çš„æ—¶å€™,tomcatä¼šé‡æ–°ç¼–è¯‘ä¸€ä»½class å¹¶ä¸”é‡æ–°éƒ¨ç½²ï¼ˆé‡æ–°åˆ›å»ºå„ç§ç›®å½•ï¼‰</p>
<p>2.å¦‚æœä¸ä¿®æ”¹ä»£ç ï¼Œåˆ™ä¸ä¼šåˆ é™¤<br>åŸå› ï¼š æ²¡æœ‰ä¿®æ”¹ä»£ç ï¼Œclassä»ç„¶æ˜¯ä¹‹å‰çš„class</p>
<p>å› æ­¤ï¼Œä¸ºäº†é˜²æ­¢ ä¸Šä¼ ç›®å½•ä¸¢å¤±ï¼š a.è™šæ‹Ÿè·¯å¾„	b.ç›´æ¥æ›´æ¢ä¸Šä¼ ç›®å½• åˆ°étomcatç›®å½•</p>
<p>é™åˆ¶ä¸Šä¼ ï¼šç±»å‹ã€å¤§å°<br>æ³¨æ„ å¯¹æ–‡ä»¶çš„é™åˆ¶æ¡ä»¶ å†™å†parseRequestä¹‹å‰</p>
<p>2.ä¸‹è½½ï¼šä¸éœ€è¦ä¾èµ–ä»»ä½•jar	<br>    a.è¯·æ±‚ï¼ˆåœ°å€a  formï¼‰ï¼Œè¯·æ±‚Servlet	<br>    b.Servleté€šè¿‡æ–‡ä»¶çš„åœ°å€  å°†æ–‡ä»¶è½¬ä¸ºè¾“å…¥æµ è¯»åˆ°Servletä¸­<br>    c.é€šè¿‡è¾“å‡ºæµ å°† åˆšæ‰å·²ç»è½¬ä¸ºè¾“å…¥æµçš„æ–‡ä»¶  è¾“å‡ºç»™ç”¨æˆ·<br>æ³¨æ„ï¼šä¸‹è½½æ–‡ä»¶ éœ€è¦è®¾ç½®2ä¸ª å“åº”å¤´ï¼š<br>response.addHeader(â€œcontent-Typeâ€,â€application&#x2F;octet-streamâ€ );&#x2F;&#x2F;MIMEç±»å‹:äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆä»»æ„æ–‡ä»¶ï¼‰<br>response.addHeader(â€œcontent-Dispositionâ€,â€attachement;filename&#x3D;â€+fileName );&#x2F;&#x2F;fileNameåŒ…å«äº†æ–‡ä»¶åç¼€ï¼šabc.txt</p>
<p>1.ä¸‹è½½æ—¶ ï¼Œæ–‡ä»¶åä¹±ç é—®é¢˜ï¼š<br>edgeï¼š</p>
<p>URLEncoder.encode(fileName,â€UTF-8â€) </p>
<p>firefoxï¼š<br>ç»™æ–‡ä»¶å åŠ ï¼š<br>å‰ç¼€   &#x3D;?UTF-8?B?</p>
<p>Stringæ„é€ æ–¹æ³•<br>Base64.encode<br>åç¼€   ?&#x3D;<br>ç¤ºä¾‹ï¼š<br>    response.addHeader(â€œcontent-Dispositionâ€,â€attachment;filename&#x3D;&#x3D;?UTF-8?B?â€+   new String(  Base64.encodeBase64(fileName.getBytes(â€œUTF-8â€))  ) +â€?&#x3D;â€ );&#x2F;&#x2F;fileNameåŒ…å«äº†æ–‡ä»¶åç¼€ï¼šabc.txt</p>
<p>2</p>
<p>EL ï¼šä¸ºäº†æ¶ˆé™¤jspä¸­çš„Javaä»£ç </p>
<p>è¯­æ³•ï¼š<br>${ELè¡¨è¾¾å¼}<br>a.ELä¸éœ€è¦å¯¼åŒ…<br>b.åœ¨elä¸­è°ƒç”¨å±æ€§ï¼Œå…¶å®æ˜¯è°ƒç”¨çš„getXxx()æ–¹æ³•</p>
<p>${èŒƒå›´.å¯¹è±¡.å±æ€§.å±æ€§çš„å±æ€§ }</p>
<p>æ“ä½œç¬¦ï¼šæ“ä½œï¼šå±æ€§ï¼Œä¸æ˜¯å¯¹è±¡<br>. : ä½¿ç”¨æ–¹ä¾¿<br>[] : å¦‚æœæ˜¯å¸¸é‡å±æ€§ï¼Œéœ€è¦ä½¿ç”¨åŒå¼•å·&#x2F;å•å¼•å· å¼•èµ·æ¥;æ¯”ç‚¹æ“ä½œç¬¦æ›´åŠ å¼ºå¤§</p>
<p>[]å¼ºå¤§ä¹‹å¤„ï¼š<br>a.å¯ä»¥å®¹çº³ä¸€äº› ç‰¹æ®Šç¬¦å· ï¼ˆ.  ?   -ï¼‰<br>b.[]å¯ä»¥å®¹çº³ å˜é‡å±æ€§ ï¼ˆå¯ä»¥åŠ¨æ€èµ‹å€¼ï¼‰<br>String x &#x3D; â€œaâ€;<br>${requestScope.a}ç­‰ä»·äº${requestScope[â€œaâ€]}ç­‰ä»·äº${${requestScope[x]}</p>
<p>c.å¯ä»¥å¤„ç†æ•°ç»„<br>${requestScope.arr[0] }</p>
<p>æ™®é€šå¯¹è±¡ã€mapä¸­çš„å˜é‡</p>
<p>é€šè¿‡ELè·å–JSP  ä¹å¤§å†…ç½®å¯¹è±¡</p>
<p>${pageContext }<br>${pageContext.request }<br>${pageContext.sessoin }</p>
<p>JSTLï¼šæ¯”ELæ›´åŠ å¼ºå¤§<br>éœ€è¦å¼•å…¥2ä¸ªjar ï¼šjstl.jar   standard.jar<br>å¼•å…¥tablib  :<br>&lt;%@ taglib uri&#x3D;â€<a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/core">http://java.sun.com/jsp/jstl/core</a>â€œ prefix&#x3D;â€câ€ %&gt;<br>å…¶ä¸­prefix&#x3D;â€câ€ :å‰ç¼€</p>
<p>æ ¸å¿ƒæ ‡ç­¾åº“ï¼š  é€šç”¨æ ‡ç­¾åº“ã€æ¡ä»¶æ ‡ç­¾åº“  è¿­ä»£æ ‡ç­¾åº“</p>
<p>a.é€šç”¨æ ‡ç­¾åº“<br>&lt; c:set &gt;èµ‹å€¼<br>i:<br>åœ¨æŸä¸ªä½œç”¨åŸŸä¹‹ä¸­ï¼ˆ4ä¸ªèŒƒå›´å¯¹è±¡ï¼‰ï¼Œç»™æŸä¸ªå˜é‡èµ‹å€¼<br>    &lt;%â€“<br>        request.setAttribute(â€œnameâ€, â€œzhangsanâ€) ;<br>    â€“%&gt;<br>        &lt;c:set var&#x3D;â€nameâ€    value&#x3D;â€zhangsanâ€   scope&#x3D;â€requestâ€&#x2F;&gt;<br>        ${requestScope.name }</p>
<p>&lt;c:set var&#x3D;â€å˜é‡åâ€    value&#x3D;â€å˜é‡å€¼â€   scope&#x3D;â€4ä¸ªèŒƒå›´å¯¹è±¡çš„ä½œç”¨åŸŸâ€&#x2F;&gt;</p>
<p>ii:<br>ç»™æ™®é€šå¯¹è±¡èµ‹å€¼<br>åœ¨æŸä¸ªä½œç”¨åŸŸä¹‹ä¸­ï¼ˆ4ä¸ªèŒƒå›´å¯¹è±¡ï¼‰ï¼Œç»™æŸä¸ªå¯¹è±¡çš„å±æ€§å¤åˆ¶ ï¼ˆæ­¤ç§å†™æ³•ï¼Œä¸èƒ½æŒ‡å®šscopeå±æ€§ï¼‰</p>
<pre><code>    &lt;c:set target=&quot;$&#123;requestScope.student&#125;&quot; property=&quot;sname&quot;  value=&quot;zxs&quot; /&gt;
</code></pre>
<p>ç»™mapå¯¹è±¡èµ‹å€¼<br>        &lt;c:set target&#x3D;â€${requestScope.countries}â€ property&#x3D;â€cnâ€  value&#x3D;â€ä¸­å›½â€ &#x2F;&gt;</p>
<p>&lt;c:set target&#x3D;â€å¯¹è±¡â€ property&#x3D;â€å¯¹è±¡çš„å±æ€§â€  value&#x3D;â€èµ‹å€¼â€ &#x2F;&gt;</p>
<p>æ³¨æ„ &lt;c:set&gt;å¯ä»¥ç»™ä¸å­˜åœ¨çš„å˜é‡èµ‹å€¼ ï¼ˆä½†ä¸èƒ½ç»™ä¸å­˜åœ¨çš„å¯¹è±¡èµ‹å€¼ï¼‰</p>
<p>&lt;c:out&gt;  ï¼šæ˜¾ç¤º<br>true:&lt;c:out value&#x3D;â€™<a target="_blank" rel="noopener" href="https://www.baidu.com">ç™¾åº¦</a>â€˜ default&#x3D;â€å½“valueä¸ºç©ºçš„ï¼Œæ˜¾ç¤ºçš„é»˜è®¤å€¼â€ escapeXml&#x3D;â€trueâ€ &#x2F;&gt;<br>falseï¼š	&lt;c:out value&#x3D;â€™<a target="_blank" rel="noopener" href="https://www.baidu.com">ç™¾åº¦</a>â€˜ escapeXml&#x3D;â€falseâ€ &#x2F;&gt;</p>
<p>&lt;c:remove &gt;ï¼šåˆ é™¤å±æ€§<br>&lt;c:remove var&#x3D;â€aâ€ scope&#x3D;â€requestâ€&#x2F;&gt;</p>
<p>é€‰æ‹©ï¼š<br>if(boolean)<br>å•é‡é€‰æ‹©<br>&lt;c:if test&#x3D;â€â€ &gt;</p>
<p>if else ifâ€¦ esle ifâ€¦ else  &#x2F;switch</p>
<p>&lt;c:choose&gt;<br>    &lt;c:when test&#x3D;â€â€¦â€&gt;   </c:when><br>    &lt;c:when test&#x3D;â€â€¦â€&gt;   </c:when><br>    &lt;c:when test&#x3D;â€â€¦â€&gt;   </c:when><br>    &lt;c:otherwise&gt;   </c:otherwise><br></c:choose></p>
<p>åœ¨ä½¿ç”¨ test&#x3D;â€â€ ä¸€å®šè¦æ³¨æ„åé¢æ˜¯å¦æœ‰ç©ºæ ¼<br>ä¾‹å¦‚ï¼štest&#x3D;â€${10&gt;2 }â€   true<br>     test&#x3D;â€${10&gt;2 } â€œ  étrue</p>
<p>å¾ªç¯ï¼ˆè¿­ä»£æ ‡ç­¾åº“ï¼‰<br>for(int i&#x3D;0;i&lt;5;i++)<br>    &lt;c:forEach  var&#x3D;â€nameâ€ items&#x3D;â€${requestScope.names }â€ &gt;<br>        -${name }-<br>    </c:forEach></p>
<p>for(String str:names)<br>    &lt;c:forEach  var&#x3D;â€studentâ€ items&#x3D;â€${requestScope.students }â€ &gt;<br>        ${student.sname }-${student.sno }</p>
<pre><code>&lt;/c:forEach&gt;
</code></pre>
<p>è¿‡æ»¤å™¨ï¼š<br>å®ç°ä¸€ä¸ªFilteræ¥å£<br>init()ã€destroy() åŸç†ã€æ‰§è¡Œæ—¶æœº åŒServlet<br>é…ç½®è¿‡æ»¤å™¨ï¼Œç±»ä¼¼servlet<br>é€šè¿‡doFilter()å¤„ç†æ‹¦æˆªï¼Œå¹¶ä¸”é€šè¿‡chain.doFilter(request, response);æ”¾è¡Œ</p>
<p>filteræ˜ å°„</p>
<p>åªæ‹¦æˆª è®¿é—®MyServletçš„è¯·æ±‚<br>    <url-pattern>&#x2F;MyServlet</url-pattern><br>æ‹¦æˆªä¸€åˆ‡è¯·æ±‚ï¼ˆæ¯ä¸€æ¬¡è®¿é—® éƒ½ä¼šè¢«æ‹¦æˆªï¼‰<br><url-pattern>&#x2F;*</url-pattern></p>
<p>é€šé…ç¬¦</p>
<p>dispatcherè¯·æ±‚æ–¹å¼ï¼š<br>REQUESTï¼šæ‹¦æˆªHTTPè¯·æ±‚ get post<br>FORWARDï¼šåªæ‹¦æˆª é€šè¿‡ è¯·æ±‚è½¬å‘æ–¹å¼çš„è¯·æ±‚</p>
<p>INCLUDE:åªæ‹¦æˆªæ‹¦æˆªé€šè¿‡ request.getRequestDispatcher(â€œâ€).include()  ã€é€šè¿‡&lt;jsp:include page&#x3D;â€â€¦â€ &#x2F;&gt;æ­¤ç§æ–¹å¼å‘å‡ºçš„è¯·æ±‚<br>ERRORï¼šåªæ‹¦æˆª<error-page>å‘å‡ºçš„è¯·æ±‚</p>
<p>è¿‡æ»¤å™¨ä¸­doFilteræ–¹æ³•å‚æ•°ï¼šServletRequest<br>åœ¨Servletä¸­çš„æ–¹æ³•å‚æ•°ï¼šHttpServletRequest</p>
<p>è¿‡æ»¤å™¨é“¾<br>å¯ä»¥é…ç½®å¤šä¸ªè¿‡æ»¤å™¨ï¼Œè¿‡æ»¤å™¨çš„å…ˆåé¡ºåº æ˜¯ç”± <filter-mapping>çš„ä½ç½® å†³å®š</p>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2020-11-28</span>
            
            
             
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2021/01/04/Spring5/'>ç¬”è®° | Spring5</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2020/11/20/JavaScript-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">ç¬”è®° | JavaScript</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
             

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>Change And Challenge</span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>