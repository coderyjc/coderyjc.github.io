<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="ç¬”è®° | Vue-Router" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/avatar.png">
    <title>Jingcun Yan</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    
        <style>
            .index-main{
                max-width:  880px;
            }
        </style>

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/avatar.png" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Jingcun Yan</a> 
            <span class="description"></span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    ç¬”è®° | Vue-Router
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                
                    
                     <span>å­—æ•°æ€»è®¡ï¼š3.2k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š12åˆ†é’Ÿ</span>
                
                
            </div>
    

    <div class="post-md">
        
        <div class=".article-gallery"><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><h3 id="åç«¯è·¯ç”±é˜¶æ®µ"><a href="#åç«¯è·¯ç”±é˜¶æ®µ" class="headerlink" title="åç«¯è·¯ç”±é˜¶æ®µ"></a>åç«¯è·¯ç”±é˜¶æ®µ</h3><p>æ—©æœŸçš„ç½‘ç«™å¼€å‘æ•´ä¸ªHTMLé¡µé¢æ˜¯ç”±æœåŠ¡å™¨æ¥æ¸²æŸ“çš„. æœåŠ¡å™¨ç›´æ¥ç”Ÿäº§æ¸²æŸ“å¥½å¯¹åº”çš„HTMLé¡µé¢, è¿”å›ç»™å®¢æˆ·ç«¯è¿›è¡Œå±•ç¤º.</p>
<p>ä½†æ˜¯, ä¸€ä¸ªç½‘ç«™, è¿™ä¹ˆå¤šé¡µé¢æœåŠ¡å™¨å¦‚ä½•å¤„ç†å‘¢?</p>
<ul>
<li>ä¸€ä¸ªé¡µé¢æœ‰è‡ªå·±å¯¹åº”çš„ç½‘å€, ä¹Ÿå°±æ˜¯URLï¼›</li>
<li>URLä¼šå‘é€åˆ°æœåŠ¡å™¨, æœåŠ¡å™¨ä¼šé€šè¿‡æ­£åˆ™å¯¹è¯¥URLè¿›è¡ŒåŒ¹é…, å¹¶ä¸”æœ€åäº¤ç»™ä¸€ä¸ªControllerè¿›è¡Œå¤„ç†ï¼›</li>
<li>Controllerè¿›è¡Œå„ç§å¤„ç†, æœ€ç»ˆç”ŸæˆHTMLæˆ–è€…æ•°æ®, è¿”å›ç»™å‰ç«¯.</li>
</ul>
<p>ä¸Šé¢çš„è¿™ç§æ“ä½œ, å°±æ˜¯åç«¯è·¯ç”±ï¼š</p>
<ul>
<li>å½“æˆ‘ä»¬é¡µé¢ä¸­éœ€è¦è¯·æ±‚ä¸åŒçš„è·¯å¾„å†…å®¹æ—¶, äº¤ç»™æœåŠ¡å™¨æ¥è¿›è¡Œå¤„ç†, æœåŠ¡å™¨æ¸²æŸ“å¥½æ•´ä¸ªé¡µé¢, å¹¶ä¸”å°†é¡µé¢è¿”å›ç»™å®¢æˆ·ç«¯.</li>
<li>è¿™ç§æƒ…å†µä¸‹æ¸²æŸ“å¥½çš„é¡µé¢, ä¸éœ€è¦å•ç‹¬åŠ è½½ä»»ä½•çš„jså’Œcss, å¯ä»¥ç›´æ¥äº¤ç»™æµè§ˆå™¨å±•ç¤º, è¿™æ ·ä¹Ÿæœ‰åˆ©äºSEOçš„ä¼˜åŒ–.</li>
</ul>
<p>åç«¯è·¯ç”±çš„ç¼ºç‚¹:</p>
<ul>
<li>ä¸€ç§æƒ…å†µæ˜¯æ•´ä¸ªé¡µé¢çš„æ¨¡å—ç”±åç«¯äººå‘˜æ¥ç¼–å†™å’Œç»´æŠ¤çš„ï¼›</li>
<li>å¦ä¸€ç§æƒ…å†µæ˜¯å‰ç«¯å¼€å‘äººå‘˜å¦‚æœè¦å¼€å‘é¡µé¢, éœ€è¦é€šè¿‡PHPå’ŒJavaç­‰è¯­è¨€æ¥ç¼–å†™é¡µé¢ä»£ç ï¼›</li>
<li>è€Œä¸”é€šå¸¸æƒ…å†µä¸‹HTMLä»£ç å’Œæ•°æ®ä»¥åŠå¯¹åº”çš„é€»è¾‘ä¼šæ··åœ¨ä¸€èµ·, ç¼–å†™å’Œç»´æŠ¤éƒ½æ˜¯éå¸¸ç³Ÿç³•çš„äº‹æƒ…ï¼›</li>
</ul>
<h3 id="å‰åç«¯åˆ†ç¦»é˜¶æ®µ"><a href="#å‰åç«¯åˆ†ç¦»é˜¶æ®µ" class="headerlink" title="å‰åç«¯åˆ†ç¦»é˜¶æ®µ"></a>å‰åç«¯åˆ†ç¦»é˜¶æ®µ</h3><p>å‰ç«¯æ¸²æŸ“çš„ç†è§£ï¼š</p>
<ul>
<li>æ¯æ¬¡è¯·æ±‚æ¶‰åŠåˆ°çš„é™æ€èµ„æºéƒ½ä¼šä»é™æ€èµ„æºæœåŠ¡å™¨è·å–ï¼Œè¿™äº›èµ„æºåŒ…æ‹¬HTML+CSS+JSï¼Œç„¶ååœ¨å‰ç«¯å¯¹è¿™äº›è¯·æ±‚å›æ¥çš„èµ„æºè¿›è¡Œæ¸²æŸ“ï¼›</li>
<li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®¢æˆ·ç«¯çš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½ä¼šä»é™æ€èµ„æºæœåŠ¡å™¨è¯·æ±‚æ–‡ä»¶ï¼›</li>
<li>åŒæ—¶å¯ä»¥çœ‹åˆ°ï¼Œå’Œä¹‹å‰çš„åç«¯è·¯ç”±ä¸åŒï¼Œè¿™æ—¶åç«¯åªæ˜¯è´Ÿè´£æä¾›APIäº†ï¼›</li>
</ul>
<p>å‰åç«¯åˆ†ç¦»é˜¶æ®µï¼š</p>
<ul>
<li>éšç€Ajaxçš„å‡ºç°, æœ‰äº†å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ï¼›</li>
<li>åç«¯åªæä¾›APIæ¥è¿”å›æ•°æ®ï¼Œå‰ç«¯é€šè¿‡Ajaxè·å–æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡JavaScriptå°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼›</li>
<li>è¿™æ ·åšæœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯å‰åç«¯è´£ä»»çš„æ¸…æ™°ï¼Œåç«¯ä¸“æ³¨äºæ•°æ®ä¸Šï¼Œå‰ç«¯ä¸“æ³¨äºäº¤äº’å’Œå¯è§†åŒ–ä¸Šï¼›</li>
<li>å¹¶ä¸”å½“ç§»åŠ¨ç«¯(iOS&#x2F;Android)å‡ºç°åï¼Œåç«¯ä¸éœ€è¦è¿›è¡Œä»»ä½•å¤„ç†ï¼Œä¾ç„¶ä½¿ç”¨ä¹‹å‰çš„ä¸€å¥—APIå³å¯ï¼›</li>
<li>ç›®å‰æ¯”è¾ƒå°‘çš„ç½‘ç«™é‡‡ç”¨è¿™ç§æ¨¡å¼å¼€å‘ï¼›</li>
</ul>
<p>å•é¡µé¢å¯Œåº”ç”¨é˜¶æ®µ:</p>
<ul>
<li>å…¶å®SPAæœ€ä¸»è¦çš„ç‰¹ç‚¹å°±æ˜¯åœ¨å‰åç«¯åˆ†ç¦»çš„åŸºç¡€ä¸ŠåŠ äº†ä¸€å±‚å‰ç«¯è·¯ç”±.</li>
<li>ä¹Ÿå°±æ˜¯å‰ç«¯æ¥ç»´æŠ¤ä¸€å¥—è·¯ç”±è§„åˆ™.</li>
</ul>
<p>å‰ç«¯è·¯ç”±çš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ”¹å˜URLï¼Œä½†æ˜¯é¡µé¢ä¸è¿›è¡Œæ•´ä½“çš„åˆ·æ–°ã€‚</p>
<p>å‰ç«¯è·¯ç”±æ˜¯å¦‚ä½•åšåˆ°URLå’Œå†…å®¹è¿›è¡Œæ˜ å°„å‘¢ï¼Ÿç›‘å¬URLçš„æ”¹å˜ã€‚</p>
<h3 id="ä¸¤ç§è·¯ç”±æ¨¡å¼"><a href="#ä¸¤ç§è·¯ç”±æ¨¡å¼" class="headerlink" title="ä¸¤ç§è·¯ç”±æ¨¡å¼"></a>ä¸¤ç§è·¯ç”±æ¨¡å¼</h3><p>URLçš„hashä¹Ÿå°±æ˜¯é”šç‚¹(#), æœ¬è´¨ä¸Šæ˜¯æ”¹å˜window.locationçš„hrefå±æ€§ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥èµ‹å€¼location.hashæ¥æ”¹å˜href, ä½†æ˜¯é¡µé¢ä¸å‘ç”Ÿåˆ·æ–°ï¼›</p>
<p>hashçš„ä¼˜åŠ¿å°±æ˜¯å…¼å®¹æ€§æ›´å¥½ï¼Œåœ¨è€ç‰ˆIEä¸­éƒ½å¯ä»¥è¿è¡Œï¼Œä½†æ˜¯**ç¼ºé™·æ˜¯æœ‰ä¸€ä¸ª#**ï¼Œæ˜¾å¾—ä¸åƒä¸€ä¸ªçœŸå®çš„è·¯å¾„ã€‚</p>
<p><a href="/img/image-20230308132326.png" title="image-20230308132326.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20230308132326.png" alt="image-20230308132326.png"></a></p>
<p>historyæ¥å£æ˜¯HTML5æ–°å¢çš„, å®ƒæœ‰å…­ç§æ¨¡å¼æ”¹å˜URLè€Œä¸åˆ·æ–°é¡µé¢ï¼š</p>
<ul>
<li>replaceStateï¼šæ›¿æ¢åŸæ¥çš„è·¯å¾„ï¼›</li>
<li>pushStateï¼šä½¿ç”¨æ–°çš„è·¯å¾„ï¼›</li>
<li>popStateï¼šè·¯å¾„çš„å›é€€ï¼›</li>
<li>goï¼šå‘å‰æˆ–å‘åæ”¹å˜è·¯å¾„ï¼›</li>
<li>forwardï¼šå‘å‰æ”¹å˜è·¯å¾„ï¼›</li>
<li>backï¼šå‘åæ”¹å˜è·¯å¾„</li>
</ul>
<p>historyæ¨¡å¼ä¸æ˜¾ç¤ºè·¯å¾„</p>
<p><a href="/img/image-20230308134752.png" title="image-20230308134752.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20230308134752.png" alt="image-20230308134752.png"></a></p>
<h3 id="è®¤è¯†vue-router"><a href="#è®¤è¯†vue-router" class="headerlink" title="è®¤è¯†vue-router"></a>è®¤è¯†vue-router</h3><p>ç›®å‰å‰ç«¯æµè¡Œçš„ä¸‰å¤§æ¡†æ¶, éƒ½æœ‰è‡ªå·±çš„è·¯ç”±å®ç°:</p>
<ul>
<li>Angularçš„ngRouter</li>
<li>Reactçš„ReactRouter</li>
<li>Vueçš„vue-router</li>
</ul>
<p>Vue Router æ˜¯ Vue.js çš„å®˜æ–¹è·¯ç”±ï¼š</p>
<ul>
<li>å®ƒä¸ Vue.js æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©ç”¨ Vue.js æ„å»ºå•é¡µåº”ç”¨ï¼ˆSPAï¼‰å˜å¾—éå¸¸å®¹æ˜“ï¼›</li>
<li>ç›®å‰Vueè·¯ç”±æœ€æ–°çš„ç‰ˆæœ¬æ˜¯4.xç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¸Šè¯¾ä¼šåŸºäºæœ€æ–°çš„ç‰ˆæœ¬è®²è§£ï¼›</li>
</ul>
<p>vue-routeræ˜¯åŸºäºè·¯ç”±å’Œç»„ä»¶çš„</p>
<ul>
<li>è·¯ç”±ç”¨äºè®¾å®šè®¿é—®è·¯å¾„, å°†è·¯å¾„å’Œç»„ä»¶æ˜ å°„èµ·æ¥ï¼›</li>
<li>åœ¨vue-routerçš„å•é¡µé¢åº”ç”¨ä¸­, é¡µé¢çš„è·¯å¾„çš„æ”¹å˜å°±æ˜¯ç»„ä»¶çš„åˆ‡æ¢ï¼›</li>
</ul>
<p>å®‰è£…vue-router</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router</span><br></pre></td></tr></table></figure>

<h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><h3 id="ä½¿ç”¨æ­¥éª¤"><a href="#ä½¿ç”¨æ­¥éª¤" class="headerlink" title="ä½¿ç”¨æ­¥éª¤"></a>ä½¿ç”¨æ­¥éª¤</h3><ol>
<li>å®‰è£…vue-router <code>npm install vue-router</code></li>
<li>åˆ›å»ºè·¯ç”±éœ€è¦æ˜ å°„çš„ç»„ä»¶ï¼ˆæ‰“ç®—æ˜¾ç¤ºçš„é¡µé¢ï¼‰</li>
<li>é€šè¿‡createRouteråˆ›å»ºè·¯ç”±å¯¹è±¡ï¼Œå¹¶ä¸”ä¼ å…¥routeså’Œhistoryæ¨¡å¼<ul>
<li>é…ç½®è·¯ç”±æ˜ å°„: ç»„ä»¶å’Œè·¯å¾„æ˜ å°„å…³ç³»çš„routesæ•°ç»„</li>
<li>åˆ›å»ºåŸºäºhashæˆ–è€…historyçš„æ¨¡å¼</li>
</ul>
</li>
<li>ä½¿ç”¨appæ³¨å†Œè·¯ç”±å¯¹è±¡ï¼ˆuseæ–¹æ³•ï¼‰</li>
<li>è·¯ç”±ä½¿ç”¨: é€šè¿‡<code>&lt;router-link&gt;</code>å’Œ<code>&lt;router-view&gt;</code></li>
</ol>
<p>åœ¨<code>src/router/index.js</code>ä¸­ç»´æŠ¤æ˜ å°„å…³ç³»</p>
<p>index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../Views/Home.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;../Views/About.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºæ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>, <span class="attr">component</span>: <span class="title class_">Home</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>, <span class="attr">component</span>: <span class="title class_">About</span> &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">Â  <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºæ¨¡å—</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<p>main.js æ³¨å†Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br></pre></td></tr></table></figure>

<p>app.vue ä½¿ç”¨router-view</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;App Content&lt;/h2&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>


<h2 id="router-link"><a href="#router-link" class="headerlink" title="router-link"></a>router-link</h2><h3 id="é»˜è®¤è·¯å¾„"><a href="#é»˜è®¤è·¯å¾„" class="headerlink" title="é»˜è®¤è·¯å¾„"></a>é»˜è®¤è·¯å¾„</h3><p>é»˜è®¤æƒ…å†µä¸‹, è¿›å…¥ç½‘ç«™çš„é¦–é¡µ, æˆ‘ä»¬å¸Œæœ›<code>&lt;router-view&gt;</code>æ¸²æŸ“é¦–é¡µçš„å†…å®¹ï¼Œä½†æ˜¯æˆ‘ä»¬çš„å®ç°ä¸­, é»˜è®¤æ²¡æœ‰æ˜¾ç¤ºé¦–é¡µç»„ä»¶, å¿…é¡»è®©ç”¨æˆ·ç‚¹å‡»æ‰å¯ä»¥</p>
<p>å¦‚ä½•å¯ä»¥è®©è·¯å¾„é»˜è®¤è·³åˆ°åˆ°é¦–é¡µ, å¹¶ä¸”<code>&lt;router-view&gt;</code>æ¸²æŸ“é¦–é¡µç»„ä»¶å‘¢?</p>
<p><a href="/img/image-20230308134633.png" title="image-20230308134633.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20230308134633.png" alt="image-20230308134633.png"></a></p>
<p>pathé…ç½®çš„æ˜¯æ ¹è·¯å¾„: &#x2F;ï¼Œredirectæ˜¯é‡å®šå‘, ä¹Ÿå°±æ˜¯æˆ‘ä»¬å°†æ ¹è·¯å¾„é‡å®šå‘åˆ°&#x2F;homeçš„è·¯å¾„ä¸‹</p>
<h3 id="router-linkçš„å±æ€§"><a href="#router-linkçš„å±æ€§" class="headerlink" title="router-linkçš„å±æ€§"></a>router-linkçš„å±æ€§</h3><p>toå±æ€§ï¼š</p>
<ul>
<li>æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå¯¹è±¡</li>
</ul>
<p>replaceå±æ€§ï¼š</p>
<ul>
<li>è®¾ç½® replace å±æ€§çš„è¯ï¼Œå½“ç‚¹å‡»æ—¶ï¼Œä¼šè°ƒç”¨ router.replace()ï¼Œè€Œä¸æ˜¯ router.push()ï¼›</li>
</ul>
<p>active-classå±æ€§ï¼š</p>
<ul>
<li>è®¾ç½®æ¿€æ´»aå…ƒç´ ååº”ç”¨çš„classï¼Œé»˜è®¤æ˜¯router-link-active</li>
</ul>
<p>exact-active-classå±æ€§ï¼š</p>
<ul>
<li>é“¾æ¥ç²¾å‡†æ¿€æ´»æ—¶ï¼Œåº”ç”¨äºæ¸²æŸ“çš„ <code>&lt;a&gt;</code> çš„ classï¼Œé»˜è®¤æ˜¯router-link-exact-active</li>
</ul>
<h2 id="è·¯ç”±æ‡’åŠ è½½"><a href="#è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="è·¯ç”±æ‡’åŠ è½½"></a>è·¯ç”±æ‡’åŠ è½½</h2><p>å½“æ‰“åŒ…æ„å»ºåº”ç”¨æ—¶ï¼ŒJavaScript åŒ…ä¼šå˜å¾—éå¸¸å¤§ï¼Œå½±å“é¡µé¢åŠ è½½ï¼Œå¦‚æœæˆ‘ä»¬èƒ½æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰åŠ è½½å¯¹åº”ç»„ä»¶ï¼Œè¿™æ ·å°±ä¼šæ›´åŠ é«˜æ•ˆï¼Œä¹Ÿå¯ä»¥æé«˜é¦–å±çš„æ¸²æŸ“æ•ˆç‡ï¼›</p>
<p>è¿™é‡Œè¿˜æ˜¯æˆ‘ä»¬å‰é¢è®²åˆ°è¿‡çš„webpackçš„åˆ†åŒ…çŸ¥è¯†ï¼Œè€ŒVue Routeré»˜è®¤å°±æ”¯æŒåŠ¨æ€æ¥å¯¼å…¥ç»„ä»¶ï¼š<br>å› ä¸ºcomponentå¯ä»¥ä¼ å…¥ä¸€ä¸ªç»„ä»¶ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªPromiseï¼Œè€Œimportå‡½æ•°å°±æ˜¯è¿”å›ä¸€ä¸ªPromiseï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·¯ç”±çš„æ‡’åŠ è½½</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Home</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&quot;../Views/Home.vue&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">About</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&quot;../Views/About.vue&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥è¿™æ ·å†™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>, <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../Views/Home.vue&quot;</span>) &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>, <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../Views/About.vue&quot;</span>) &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="åŠ¨æ€è·¯ç”±å’Œè·¯ç”±åµŒå¥—"><a href="#åŠ¨æ€è·¯ç”±å’Œè·¯ç”±åµŒå¥—" class="headerlink" title="åŠ¨æ€è·¯ç”±å’Œè·¯ç”±åµŒå¥—"></a>åŠ¨æ€è·¯ç”±å’Œè·¯ç”±åµŒå¥—</h2><h3 id="åŠ¨æ€è·¯ç”±åŸºæœ¬åŒ¹é…"><a href="#åŠ¨æ€è·¯ç”±åŸºæœ¬åŒ¹é…" class="headerlink" title="åŠ¨æ€è·¯ç”±åŸºæœ¬åŒ¹é…"></a>åŠ¨æ€è·¯ç”±åŸºæœ¬åŒ¹é…</h3><p>æ¸²æŸ“ç”¨æˆ·id</p>
<p>Vue Routerä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è·¯å¾„ä¸­ä½¿ç”¨ä¸€ä¸ªåŠ¨æ€å­—æ®µæ¥å®ç°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º <strong>è·¯å¾„å‚æ•°</strong>ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">path</span>: <span class="string">&#x27;/user/:id&#x27;</span>,</span><br><span class="line">	<span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../pages/User.vue&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨router&#x2F;linkä¸­å®ç°è·³è½¬</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/user/123&quot;</span>&gt;</span>ç”¨æˆ·123<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="è·å–åŠ¨æ€è·¯ç”±çš„å€¼"><a href="#è·å–åŠ¨æ€è·¯ç”±çš„å€¼" class="headerlink" title="è·å–åŠ¨æ€è·¯ç”±çš„å€¼"></a>è·å–åŠ¨æ€è·¯ç”±çš„å€¼</h3><p>åœ¨templateä¸­ï¼Œç›´æ¥é€šè¿‡ <code>$route.params</code> è·å–å€¼ï¼›æ˜¯routeï¼Œä¸æ˜¯routerï¼Œrouteræ˜¯å¤§å¯¹è±¡ï¼Œrouteæ˜¯å°å¯¹è±¡</p>
<p>åœ¨createdä¸­ï¼Œé€šè¿‡ <code>this.$route.params</code> è·å–å€¼ï¼›</p>
<p>åœ¨setupä¸­ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ vue-routeråº“ç»™æˆ‘ä»¬æä¾›çš„ä¸€ä¸ªhook useRouteï¼›è¯¥Hookä¼šè¿”å›ä¸€ä¸ªRouteå¯¹è±¡ï¼Œå¯¹è±¡ä¸­ä¿å­˜ç€å½“å‰è·¯ç”±ç›¸å…³çš„å€¼ï¼›</p>
<p><strong>å¦‚ä½•åœ¨è·³è½¬çš„æ—¶å€™åŒæ—¶è·å–åˆ°è·³è½¬ä¹‹å‰å’Œè·³è½¬ä¹‹åçš„å€¼åŠ¨æ€è·¯ç”±çš„å€¼ï¼Ÿ</strong></p>
<p>ä½¿ç”¨<code>onBeforeRouteUpdate</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="keyword">import</span> &#123; useRoute, onBeforeRouteUpdate &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line">Â  </span><br><span class="line"><span class="comment">// è·å–routeè·³è½¬id</span></span><br><span class="line"><span class="title function_">onBeforeRouteUpdate</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;from:&quot;</span>, <span class="keyword">from</span>.<span class="property">params</span>.<span class="property">id</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;to:&quot;</span>, to.<span class="property">params</span>.<span class="property">id</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="NotFound"><a href="#NotFound" class="headerlink" title="NotFound"></a>NotFound</h3><p>å¯¹äºå“ªäº›æ²¡æœ‰åŒ¹é…åˆ°çš„è·¯ç”±ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåŒ¹é…åˆ°å›ºå®šçš„æŸä¸ªé¡µé¢ï¼Œæ¯”å¦‚NotFoundçš„é”™è¯¯é¡µé¢ä¸­ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ç¼–å†™ä¸€ä¸ªåŠ¨æ€è·¯ç”±ç”¨äºåŒ¹é…æ‰€æœ‰çš„é¡µé¢ï¼›</p>
<p>åœ¨è·¯ç”±è¡¨çš„æœ€åæ·»åŠ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&quot;/:pathMatch(.*)*&quot;</span>,</span><br><span class="line">  <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../Views/NotFound.vue&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¡¨ç¤ºå½“åŒ¹é…ä»¥ä¸ŠåŒ¹é…ä¸åˆ°çš„æ‰€æœ‰url</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ³¨æ„ï¼šæˆ‘åœ¨/:pathMatch(.*)åé¢åˆåŠ äº†ä¸€ä¸ª *ï¼›</span><br><span class="line">å®ƒä»¬çš„åŒºåˆ«åœ¨äºè§£æçš„æ—¶å€™ï¼Œæ˜¯å¦è§£æ / </span><br><span class="line">åŠ ä¸Šä¼šè½¬åŒ–ä¸ºæ•°ç»„ï¼Œä¸åŠ å°±æ˜¯urlæ ¼å¼</span><br><span class="line"></span><br><span class="line">![image-20230308142319.png](img/image-20230308142319.png)</span><br></pre></td></tr></table></figure>

<p>åœ¨404ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡ <code>$route.params.pathMatch</code>è·å–åˆ°ä¼ å…¥çš„å‚æ•°ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>NotFound: æ‚¨å½“å‰çš„è·¯å¾„&#123;&#123; $route.params.pathMatch &#125;&#125;ä¸æ­£ç¡®, è¯·è¾“å…¥æ­£ç¡®çš„è·¯å¾„!<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="ç¼–ç¨‹å¼å¯¼èˆª"><a href="#ç¼–ç¨‹å¼å¯¼èˆª" class="headerlink" title="ç¼–ç¨‹å¼å¯¼èˆª"></a>ç¼–ç¨‹å¼å¯¼èˆª</h2><p>è·å–router</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRoute &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line">route = <span class="title function_">useRoute</span>()</span><br></pre></td></tr></table></figure>


<p>ä½¿ç”¨å‡½æ•°æ§åˆ¶è·³è½¬å…³ç³»</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›‘å¬å…ƒç´ çš„ç‚¹å‡»</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">homeSpanClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// è·³è½¬åˆ°é¦–é¡µ</span></span><br><span class="line">  <span class="comment">// router.push(&quot;/home&quot;)</span></span><br><span class="line">  router.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="comment">// name: &quot;home&quot;</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">aboutBtnClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// è·³è½¬åˆ°å…³äº</span></span><br><span class="line">  router.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    <span class="attr">query</span>: &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>queryæ˜¯è¿›è¡Œè·³è½¬çš„æ—¶å€™è¿›è¡Œå‚æ•°ä¼ é€’çš„æ–¹å¼ã€‚</p>
<p>åœ¨é¡µé¢ä¸­é€šè¿‡ <code>$route.query</code> æ¥è·å–å‚æ•°ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>query &#123;&#123; $route.query.name &#125;&#125;<span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="è·¯ç”±æ›¿æ¢"><a href="#è·¯ç”±æ›¿æ¢" class="headerlink" title="è·¯ç”±æ›¿æ¢"></a>è·¯ç”±æ›¿æ¢</h3><p>ä½¿ç”¨pushçš„ç‰¹ç‚¹æ˜¯å‹å…¥ä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œé‚£ä¹ˆåœ¨ç”¨æˆ·ç‚¹å‡»è¿”å›æ—¶ï¼Œä¸Šä¸€ä¸ªé¡µé¢è¿˜å¯ä»¥å›é€€ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å¸Œæœ›å½“å‰é¡µé¢æ˜¯ä¸€ä¸ªæ›¿æ¢æ“ä½œï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨replace</p>
<p><a href="/img/image-20230308143243.png" title="image-20230308143243.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20230308143243.png" alt="image-20230308143243.png"></a></p>
<h3 id="é¡µé¢çš„å‰è¿›åé€€"><a href="#é¡µé¢çš„å‰è¿›åé€€" class="headerlink" title="é¡µé¢çš„å‰è¿›åé€€"></a>é¡µé¢çš„å‰è¿›åé€€</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘å‰ç§»åŠ¨ä¸€æ¡è®°å½•ï¼Œå’Œrouter.forward()ç›¸åŒ</span></span><br><span class="line">router.<span class="title function_">go</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘åç§»åŠ¨ä¸€æ¡è®°å½•ï¼Œå’Œrouter.back()ç›¸åŒ</span></span><br><span class="line">router.<span class="title function_">go</span>(-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœä¼ é€’çš„å‚æ•°è¿‡å¤§æˆ–è€…è¿‡å°ï¼Œä¸ä¼šæŒ‰ç…§æœ€å¤§æˆ–è€…æœ€å°çš„è¿›è¡Œè·¯ç”±ï¼Œè€Œæ˜¯ç›´æ¥æ˜¾ç¤ºå¤±è´¥ã€‚</span></span><br></pre></td></tr></table></figure>

<h2 id="åŠ¨æ€ç®¡ç†è·¯ç”±å¯¹è±¡"><a href="#åŠ¨æ€ç®¡ç†è·¯ç”±å¯¹è±¡" class="headerlink" title="åŠ¨æ€ç®¡ç†è·¯ç”±å¯¹è±¡"></a>åŠ¨æ€ç®¡ç†è·¯ç”±å¯¹è±¡</h2><h3 id="åŠ¨æ€æ·»åŠ è·¯ç”±å¯¹è±¡"><a href="#åŠ¨æ€æ·»åŠ è·¯ç”±å¯¹è±¡" class="headerlink" title="åŠ¨æ€æ·»åŠ è·¯ç”±å¯¹è±¡"></a>åŠ¨æ€æ·»åŠ è·¯ç”±å¯¹è±¡</h3><p>æŸäº›æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½éœ€è¦åŠ¨æ€çš„æ¥æ·»åŠ è·¯ç”±ï¼šæ¯”å¦‚æ ¹æ®ç”¨æˆ·ä¸åŒçš„æƒé™ï¼Œæ³¨å†Œä¸åŒçš„è·¯ç”±ï¼›è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ–¹æ³• addRouteï¼›</p>
<p>æ ¹æ®ç”¨æˆ·è§’è‰²åˆ¤æ–­æ˜¯å¦æ·»åŠ è·¯ç”±ï¼š</p>
<p>router&#x2F;index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (isAdmin) &#123;</span><br><span class="line">  <span class="comment">// ä¸€çº§è·¯ç”±</span></span><br><span class="line">  router.<span class="title function_">addRoute</span>(&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/admin&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../Views/Admin.vue&quot;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ·»åŠ vipé¡µé¢</span></span><br><span class="line">  router.<span class="title function_">addRoute</span>(<span class="string">&quot;home&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;vip&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../Views/HomeVip.vue&quot;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="äºŒçº§è·¯ç”±"><a href="#äºŒçº§è·¯ç”±" class="headerlink" title="äºŒçº§è·¯ç”±"></a>äºŒçº§è·¯ç”±</h3><p>router&#x2F;index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/user/:id&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">User</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// å½“ /user/:id/profile åŒ¹é…æˆåŠŸ</span></span><br><span class="line">        <span class="comment">// UserProfile å°†è¢«æ¸²æŸ“åˆ° User çš„ &lt;router-view&gt; å†…éƒ¨</span></span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;profile&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">UserProfile</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// å½“ /user/:id/posts åŒ¹é…æˆåŠŸ</span></span><br><span class="line">        <span class="comment">// UserPosts å°†è¢«æ¸²æŸ“åˆ° User çš„ &lt;router-view&gt; å†…éƒ¨</span></span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;posts&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">UserPosts</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å…¶ä»–æ–¹æ³•"><a href="#å…¶ä»–æ–¹æ³•" class="headerlink" title="å…¶ä»–æ–¹æ³•"></a>å…¶ä»–æ–¹æ³•</h3><p>åˆ é™¤è·¯ç”±æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š</p>
<ul>
<li>æ–¹å¼ä¸€ï¼šæ·»åŠ ä¸€ä¸ªnameç›¸åŒçš„è·¯ç”±ï¼›</li>
<li>æ–¹å¼äºŒï¼šé€šè¿‡removeRouteæ–¹æ³•ï¼Œä¼ å…¥è·¯ç”±çš„åç§°ï¼›</li>
<li>æ–¹å¼ä¸‰ï¼šé€šè¿‡addRouteæ–¹æ³•çš„è¿”å›å€¼å›è°ƒï¼›</li>
</ul>
<p><a href="/img/image-20230308150709.png" title="image-20230308150709.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20230308150709.png" alt="image-20230308150709.png"></a></p>
<p><a href="/img/image-20230308150712.png" title="image-20230308150712.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20230308150712.png" alt="image-20230308150712.png"></a></p>
<p><a href="/img/image-20230308150719.png" title="image-20230308150719.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/image-20230308150719.png" alt="image-20230308150719.png"></a></p>
<p>è·¯ç”±çš„å…¶ä»–æ–¹æ³•è¡¥å……ï¼š</p>
<ul>
<li>router.hasRoute()ï¼šæ£€æŸ¥è·¯ç”±æ˜¯å¦å­˜åœ¨ã€‚</li>
<li>router.getRoutes()ï¼šè·å–ä¸€ä¸ªåŒ…å«æ‰€æœ‰è·¯ç”±è®°å½•çš„æ•°ç»„ã€‚</li>
</ul>
<h2 id="è·¯ç”±å¯¼èˆªå®ˆå«é’©å­"><a href="#è·¯ç”±å¯¼èˆªå®ˆå«é’©å­" class="headerlink" title="è·¯ç”±å¯¼èˆªå®ˆå«é’©å­"></a>è·¯ç”±å¯¼èˆªå®ˆå«é’©å­</h2><h3 id="è·¯ç”±å¯¼èˆªå®ˆå«"><a href="#è·¯ç”±å¯¼èˆªå®ˆå«" class="headerlink" title="è·¯ç”±å¯¼èˆªå®ˆå«"></a>è·¯ç”±å¯¼èˆªå®ˆå«</h3><p>vue-router æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆªã€‚<br>å…¨å±€çš„å‰ç½®å®ˆå«beforeEachæ˜¯åœ¨å¯¼èˆªè§¦å‘æ—¶ä¼šè¢«å›è°ƒçš„ï¼š<br>å®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>toï¼šå³å°†è¿›å…¥çš„è·¯ç”±Routeå¯¹è±¡ï¼›</li>
<li>fromï¼šå³å°†ç¦»å¼€çš„è·¯ç”±Routeå¯¹è±¡ï¼›</li>
</ul>
<p>å®ƒæœ‰è¿”å›å€¼ï¼š</p>
<ul>
<li>falseï¼šå–æ¶ˆå½“å‰å¯¼èˆªï¼›</li>
<li>ä¸è¿”å›æˆ–è€…undefinedï¼šè¿›è¡Œé»˜è®¤å¯¼èˆªï¼›</li>
<li>è¿”å›ä¸€ä¸ªè·¯ç”±åœ°å€ï¼š<ul>
<li>å¯ä»¥æ˜¯ä¸€ä¸ªstringç±»å‹çš„è·¯å¾„ï¼›</li>
<li>å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­åŒ…å«pathã€queryã€paramsç­‰ä¿¡æ¯ï¼›</li>
</ul>
</li>
<li>å¯é€‰çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šnextï¼ˆä¸æ¨èä½¿ç”¨ï¼‰</li>
<li>åœ¨Vue2ä¸­æˆ‘ä»¬æ˜¯é€šè¿‡nextå‡½æ•°æ¥å†³å®šå¦‚ä½•è¿›è¡Œè·³è½¬çš„ï¼›</li>
<li>ä½†æ˜¯åœ¨Vue3ä¸­æˆ‘ä»¬æ˜¯é€šè¿‡è¿”å›å€¼æ¥æ§åˆ¶çš„ï¼Œä¸å†æ¨èä½¿ç”¨nextå‡½æ•°ï¼Œè¿™æ˜¯å› ä¸ºå¼€å‘ä¸­å¾ˆå®¹æ˜“è°ƒç”¨å¤šæ¬¡nextï¼›</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(to);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">from</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ç™»å½•çš„è·¯ç”±å¯¼èˆªå®ˆå«"><a href="#ç™»å½•çš„è·¯ç”±å¯¼èˆªå®ˆå«" class="headerlink" title="ç™»å½•çš„è·¯ç”±å¯¼èˆªå®ˆå«"></a>ç™»å½•çš„è·¯ç”±å¯¼èˆªå®ˆå«</h3><p>åªæœ‰ç”¨æˆ·ç™»å½•ä¹‹åæ‰èƒ½çœ‹åˆ°å…¶ä»–é¡µé¢</p>
<p>router&#x2F;index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2.è·¯ç”±å¯¼èˆªå®ˆå«</span></span><br><span class="line"><span class="comment">// è¿›è¡Œä»»ä½•çš„è·¯ç”±è·³è½¬ä¹‹å‰, ä¼ å…¥çš„beforeEachä¸­çš„å‡½æ•°éƒ½ä¼šè¢«å›è°ƒ</span></span><br><span class="line"><span class="comment">// éœ€æ±‚: è¿›å…¥åˆ°è®¢å•(order)é¡µé¢æ—¶, åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•(isLogin -&gt; localStorageä¿å­˜token)</span></span><br><span class="line"><span class="comment">// æƒ…å†µä¸€: ç”¨æˆ·æ²¡æœ‰ç™»å½•, é‚£ä¹ˆè·³è½¬åˆ°ç™»å½•é¡µé¢, è¿›è¡Œç™»å½•çš„æ“ä½œ</span></span><br><span class="line"><span class="comment">// æƒ…å†µäºŒ: ç”¨æˆ·å·²ç»ç™»å½•, é‚£ä¹ˆç›´æ¥è¿›å…¥åˆ°è®¢å•é¡µé¢</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.è¿›å…¥åˆ°ä»»ä½•åˆ«çš„é¡µé¢æ—¶, éƒ½è·³è½¬åˆ°loginé¡µé¢</span></span><br><span class="line">  <span class="comment">// if (to.path !== &quot;/login&quot;) &#123;</span></span><br><span class="line">  <span class="comment">//   return &quot;/login&quot;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.è¿›å…¥åˆ°è®¢å•é¡µé¢æ—¶, åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•</span></span><br><span class="line">  <span class="keyword">const</span> token = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;token&quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">path</span> === <span class="string">&quot;/order&quot;</span> &amp;&amp; !token) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;/login&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-03-18</span>
            
            
             
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2023/04/06/Vuex/'>ç¬”è®° | VueX</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2023/03/08/Vue2/">ç¬”è®° | Vue2.x</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
             

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>Change And Challenge</span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>