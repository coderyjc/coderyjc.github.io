<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="ç¬”è®° | Django" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/avatar.png">
    <title>Jingcun Yan</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    
        <style>
            .index-main{
                max-width:  880px;
            }
        </style>

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/avatar.png" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Jingcun Yan</a> 
            <span class="description"></span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    ç¬”è®° | Django
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                
                    
                     <span>å­—æ•°æ€»è®¡ï¼š10.4k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š46åˆ†é’Ÿ</span>
                
                
            </div>
    

    <div class="post-md">
        
        <div class=".article-gallery"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å­¦ä¹ ç¬”è®°æ¥è‡ª[https://kgithub.com/pythonzhichan/django-beginners-guide](https://kgithub.com/pythonzhichan/django-beginners-guide)</span><br></pre></td></tr></table></figure>

<h1 id="Djangoç¯å¢ƒæ­å»º"><a href="#Djangoç¯å¢ƒæ­å»º" class="headerlink" title="Djangoç¯å¢ƒæ­å»º"></a>Djangoç¯å¢ƒæ­å»º</h1><p>å…ˆæ£€æŸ¥ä¸€ä¸‹Pythonç¯å¢ƒæ˜¯å¦æ­£ç¡®å®‰è£…ã€‚</p>
<p>cmdè¾“å…¥<code>python --version</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;python --version</span><br><span class="line">Python 3.9.13</span><br></pre></td></tr></table></figure>

<p>å°±å¯ä»¥å¼€å§‹äº†ã€‚</p>
<h2 id="å®‰è£…virtualenvè™šæ‹Ÿç¯å¢ƒ"><a href="#å®‰è£…virtualenvè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="å®‰è£…virtualenvè™šæ‹Ÿç¯å¢ƒ"></a>å®‰è£…virtualenvè™šæ‹Ÿç¯å¢ƒ</h2><p>å®‰è£…è™šæ‹Ÿç¯å¢ƒ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install virtualenv</span><br></pre></td></tr></table></figure>

<p>![[assets&#x2F;Pasted image 20230226084152.png]]</p>
<p>åˆ›å»ºæ–‡ä»¶å¤¹<code>backend</code></p>
<p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…è™šæ‹Ÿç¯å¢ƒ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virtualenv venv -p python3</span><br></pre></td></tr></table></figure>

<p>![[assets&#x2F;Pasted image 20230226084238.png]]</p>
<p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</p>
<p>æ¿€æ´»ä¹‹åå‘½ä»¤è¡Œå‰é¢å‡ºç°ï¼ˆvenvï¼‰å³ä¸ºæˆåŠŸ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">venv\Scripts\activate.bat</span><br><span class="line"></span><br><span class="line">(venv) D:\code\github\certificate_analysis\certificate_analysis\backend&gt;</span><br></pre></td></tr></table></figure>

<p>![[assets&#x2F;Pasted image 20230226084533.png]]</p>
<p>åœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º<strong>venv</strong>çš„ç‰¹æ®Šæ–‡ä»¶å¤¹ã€‚è¯¥æ–‡ä»¶å¤¹å†…åŒ…å«äº†ä¸€ä¸ªpythonçš„å‰¯æœ¬ã€‚åœ¨æˆ‘ä»¬æ¿€æ´»äº†<strong>venv</strong>ç¯å¢ƒä¹‹åï¼Œå½“æˆ‘ä»¬è¿è¡Œ<code>Python</code>å‘½ä»¤æ—¶ï¼Œå®ƒå°†ä½¿ç”¨æˆ‘ä»¬å­˜å‚¨åœ¨venvé‡Œé¢çš„æœ¬åœ°å‰¯æœ¬ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬ä¹‹å‰åœ¨æ“ä½œç³»ç»Ÿä¸­å®‰è£…çš„é‚£ä¸ªã€‚</p>
<p>å¦ä¸€ä¸ªé‡è¦çš„äº‹æƒ…æ˜¯ï¼Œ<strong>pip</strong>ç¨‹åºä¹Ÿå·²ç»å®‰è£…å¥½äº†ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å®ƒæ¥å®‰è£…Pythonçš„è½¯ä»¶åŒ…ï¼ˆæ¯”å¦‚Djangoï¼‰æ—¶ï¼Œå®ƒå°†è¢«å®‰è£…åœ¨<strong>venv</strong>ç¯å¢ƒä¸­ã€‚</p>
<p>é¡ºä¾¿è¯´ä¸€å¥ï¼Œè¦æƒ³é€€å‡º<strong>venv</strong>ç¯å¢ƒï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deactivate</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å…ˆä¿æŒæ¿€æ´»çŠ¶æ€æ¥è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p>
<h2 id="å®‰è£…Django"><a href="#å®‰è£…Django" class="headerlink" title="å®‰è£…Django"></a>å®‰è£…Django</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django</span><br></pre></td></tr></table></figure>

<p>![[assets&#x2F;Pasted image 20230226084722.png]]</p>
<h1 id="åˆ›å»ºDjangoé¡¹ç›®"><a href="#åˆ›å»ºDjangoé¡¹ç›®" class="headerlink" title="åˆ›å»ºDjangoé¡¹ç›®"></a>åˆ›å»ºDjangoé¡¹ç›®</h1><h2 id="åˆ›å»ºDjangoé¡¹ç›®-1"><a href="#åˆ›å»ºDjangoé¡¹ç›®-1" class="headerlink" title="åˆ›å»ºDjangoé¡¹ç›®"></a>åˆ›å»ºDjangoé¡¹ç›®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">django-admin startproject certificate_analysis</span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤è¡Œå·¥å…·<strong>django-admin</strong>ä¼šåœ¨å®‰è£…Djangoçš„æ—¶å€™ä¸€èµ·è‡ªåŠ¨å®‰è£…å¥½ã€‚</p>
<p>æ‰§è¡Œäº†ä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œç³»ç»Ÿä¼šä¸ºDjangoé¡¹ç›®ç”ŸæˆåŸºç¡€æ–‡ä»¶å¤¹ç»“æ„ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">certificate_analysis/                  &lt;-- é«˜çº§åˆ«çš„æ–‡ä»¶å¤¹</span><br><span class="line"> |-- certificate_analysis/             &lt;-- Djangoé¡¹ç›®æ–‡ä»¶å¤¹</span><br><span class="line"> |    |-- certificate_analysis/</span><br><span class="line"> |    |    |-- __init__.py</span><br><span class="line"> |    |    |-- settings.py</span><br><span class="line"> |    |    |-- urls.py</span><br><span class="line"> |    |    |-- wsgi.py</span><br><span class="line"> |    +-- manage.py</span><br><span class="line"> +-- venv/                  &lt;-- è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹</span><br></pre></td></tr></table></figure>


<ul>
<li><strong>manage.py</strong>ï¼šä½¿ç”¨<strong>django-admin</strong>å‘½ä»¤è¡Œå·¥å…·çš„å¿«æ·æ–¹å¼ã€‚å®ƒç”¨äºè¿è¡Œä¸æˆ‘ä»¬é¡¹ç›®ç›¸å…³çš„ç®¡ç†å‘½ä»¤ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒæ¥è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼Œè¿è¡Œæµ‹è¯•ï¼Œåˆ›å»ºè¿ç§»ç­‰ã€‚</li>
<li><strong>__init.py</strong>ï¼šè¿™ä¸ªç©ºæ–‡ä»¶å‘Šè¯‰pythonè¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯ä¸€ä¸ªpythonåŒ…ã€‚</li>
<li><strong>settings.py</strong>ï¼šåŒ…å«äº†æ‰€æœ‰çš„é¡¹ç›®é…ç½®ã€‚</li>
<li><strong>urls.py</strong>ï¼šè¿™ä¸ªæ–‡ä»¶è´Ÿè´£æ˜ å°„æˆ‘ä»¬é¡¹ç›®ä¸­çš„è·¯ç”±å’Œè·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³åœ¨è®¿é—®URLÂ <code>/ about/</code>Â æ—¶æ˜¾ç¤ºæŸäº›å†…å®¹ï¼Œåˆ™å¿…é¡»å…ˆåœ¨è¿™é‡Œåšæ˜ å°„å…³ç³»ã€‚</li>
<li><strong>wsgi.py</strong>ï¼šè¯¥æ–‡ä»¶æ˜¯ç”¨äºéƒ¨ç½²çš„ç®€å•ç½‘å…³æ¥å£ã€‚ä½ å¯ä»¥æš‚ä¸”å…ˆä¸ç”¨å…³å¿ƒå®ƒçš„å†…å®¹ï¼Œå°±å…ˆè®©ä»–åœ¨é‚£é‡Œå°±å¥½äº†ã€‚</li>
</ul>
<p>djangoè‡ªå¸¦äº†ä¸€ä¸ªç®€å•çš„ç½‘ç»œæœåŠ¡å™¨ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­éå¸¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— éœ€å®‰è£…ä»»ä½•å…¶ä»–è½¯ä»¶å³å¯åœ¨æœ¬åœ°è¿è¡Œé¡¹ç›®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰§è¡Œå‘½ä»¤æ¥æµ‹è¯•ä¸€ä¸‹å®ƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure>

<p>![[assets&#x2F;Pasted image 20230226085417.png]]</p>
<p>å¯ä»¥çœ‹åˆ°æœåŠ¡å·²ç»å¯åŠ¨äº†</p>
<p>![[assets&#x2F;Pasted image 20230226085425.png]]</p>
<p><code>Ctrl + C</code> ç»ˆæ­¢æœåŠ¡å™¨</p>
<h2 id="æ–°å»ºåº”ç”¨ç¨‹åº"><a href="#æ–°å»ºåº”ç”¨ç¨‹åº" class="headerlink" title="æ–°å»ºåº”ç”¨ç¨‹åº"></a>æ–°å»ºåº”ç”¨ç¨‹åº</h2><p>![[assets&#x2F;Pasted image 20230226085704.png]]</p>
<p>æ–°å»ºçš„åº”ç”¨ç¨‹åºå°±æ˜¯ä¸Šå›¾ä¸­é»„è‰²çš„å°åœ†åœˆï¼Œä¸€ä¸ªDjangoé¡¹ç›®ä¸­å¯ä»¥åŒ…å«å¤šä¸ªåº”ç”¨ç¨‹åº</p>
<p>åˆ›å»ºåä¸ºdashboardçš„åº”ç”¨ç¨‹åº</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">django-admin startapp dashboard</span><br></pre></td></tr></table></figure>

<p>dashboardæ–‡ä»¶å¤¹ç»“æ„æ˜¯ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> Directory of D:\code\github\certificate_analysis\certificate_analysis\backend\certificate_analysis\dashboard</span><br><span class="line"></span><br><span class="line">02/26/2023  08:58 AM    &lt;DIR&gt;          .</span><br><span class="line">02/26/2023  08:58 AM    &lt;DIR&gt;          ..</span><br><span class="line">02/26/2023  08:58 AM                66 admin.py</span><br><span class="line">02/26/2023  08:58 AM               156 apps.py</span><br><span class="line">02/26/2023  08:58 AM    &lt;DIR&gt;          migrations</span><br><span class="line">02/26/2023  08:58 AM                60 models.py</span><br><span class="line">02/26/2023  08:58 AM                63 tests.py</span><br><span class="line">02/26/2023  08:58 AM                66 views.py</span><br><span class="line">02/26/2023  08:58 AM                 0 __init__.py</span><br><span class="line">               6 File(s)            411 bytes</span><br><span class="line">               3 Dir(s)  478,411,984,896 bytes free</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥æ¢è®¨æ¯ä¸ªæ–‡ä»¶çš„ä½œç”¨ï¼š</p>
<ul>
<li><strong>migrations&#x2F;<strong>ï¼šåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œï¼ŒDjangoä¼šå­˜å‚¨ä¸€äº›æ–‡ä»¶ä»¥è·Ÿè¸ªä½ åœ¨</strong>models.py</strong>æ–‡ä»¶ä¸­åˆ›å»ºçš„å˜æ›´ï¼Œç”¨æ¥ä¿æŒæ•°æ®åº“å’Œ<strong>models.py</strong>çš„åŒæ­¥ã€‚</li>
<li><strong>admin.py</strong>ï¼šè¿™ä¸ªæ–‡ä»¶ä¸ºä¸€ä¸ªdjangoå†…ç½®çš„åº”ç”¨ç¨‹åº<strong>Django Admin</strong>çš„é…ç½®æ–‡ä»¶ã€‚</li>
<li><strong>apps.py</strong>ï¼šè¿™æ˜¯åº”ç”¨ç¨‹åºæœ¬èº«çš„é…ç½®æ–‡ä»¶ã€‚</li>
<li><strong>models.py</strong>ï¼šè¿™é‡Œæ˜¯æˆ‘ä»¬å®šä¹‰Webåº”ç”¨ç¨‹åºæ•°æ®å®ä¾‹çš„åœ°æ–¹ã€‚modelsä¼šç”±Djangoè‡ªåŠ¨è½¬æ¢ä¸ºæ•°æ®åº“è¡¨ã€‚</li>
<li><strong>tests.py</strong>ï¼šè¿™ä¸ªæ–‡ä»¶ç”¨æ¥å†™å½“å‰åº”ç”¨ç¨‹åºçš„å•å…ƒæµ‹è¯•ã€‚</li>
<li><strong>views.py</strong>ï¼šè¿™æ˜¯æˆ‘ä»¬å¤„ç†Webåº”ç”¨ç¨‹åºè¯·æ±‚(request)&#x2F;å“åº”(resopnse)å‘¨æœŸçš„æ–‡ä»¶ã€‚</li>
</ul>
<p>ç°åœ¨æˆ‘ä»¬åˆ›å»ºäº†æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œè®©æˆ‘ä»¬æ¥é…ç½®ä¸€ä¸‹é¡¹ç›®ä»¥ä¾¿å¯ç”¨è¿™ä¸ªåº”ç”¨ç¨‹åºã€‚</p>
<p>é…ç½®ä¸€ä¸‹é¡¹ç›®ä»¥ä¾¿å¯ç”¨è¿™ä¸ªåº”ç”¨ç¨‹åºï¼šè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ‰“å¼€<strong>settings.py</strong>å¹¶å°è¯•æ‰¾åˆ°<code>INSTALLED_APPS</code>å˜é‡ï¼š</p>
<p>![[assets&#x2F;Pasted image 20230226090151.png]]</p>
<p>ä»¥ä¸Šæ˜¾ç¤ºçš„æ˜¯å·²ç»å®‰è£…åœ¨å½“å‰Djangoé¡¹ç›®ä¸­çš„åº”ç”¨ç¨‹åºï¼Œå¦‚èº«ä»½éªŒè¯ï¼Œä¼šè¯ï¼Œé™æ€æ–‡ä»¶ç®¡ç†ï¼ˆå›¾åƒï¼ŒJavaScriptï¼ŒCSSç­‰ï¼‰ç­‰ã€‚</p>
<p>è¦æƒ³è®©æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè¿è¡Œï¼Œåº”è¯¥å…ˆæŠŠè‡ªå·±çš„é¡¹ç›®åç§°æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ä¸­</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&quot;django.contrib.admin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.auth&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.contenttypes&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.sessions&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.messages&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.staticfiles&quot;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä»¥ä¸‹æ˜¯è‡ªå®šä¹‰app</span></span><br><span class="line">    <span class="string">&quot;dashboard&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å‰é¢æ¼«ç”»æ­£æ–¹å½¢å’Œåœ†åœˆçš„æ¯”å–»ï¼Œé»„è‰²çš„åœ†åœˆå°±æ˜¯æˆ‘ä»¬çš„<strong>boards</strong>åº”ç”¨ç¨‹åºï¼Œ<strong>django.contrib.admin, django.contrib.auth</strong>ç­‰å°±æ˜¯çº¢è‰²çš„åœ†åœˆã€‚</p>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><p>&#x3D;&#x3D;åˆ›å»ºè§†å›¾&#x3D;&#x3D;</p>
<p>ç¼–è¾‘åº”ç”¨ç¨‹åº<code>dashboard</code>ä¸­çš„<code>views.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">home</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&#x27;Hello World&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è§†å›¾æ˜¯æ¥æ”¶<code>httprequest</code>å¯¹è±¡å¹¶è¿”å›ä¸€ä¸ª<code>httpresponse</code>å¯¹è±¡çš„Pythonå‡½æ•°ã€‚æ¥æ”¶Â <em>request</em>Â ä½œä¸ºå‚æ•°å¹¶è¿”å›Â <em>response</em>Â ä½œä¸ºç»“æœã€‚</p>
<p>è¿™ä¸ªè§†å›¾è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ä¿¡æ¯</p>
<p>&#x3D;&#x3D;å‘Šè¯‰æœåŠ¡å™¨ä»€ä¹ˆæ—¶å€™è¿”å›è¿™ä¸ªè§†å›¾&#x3D;&#x3D;</p>
<p>åº”è¯¥åœ¨é¡¹ç›®å±‚é¢ç®¡ç†urlï¼Œè€Œä¸æ˜¯åº”ç”¨å±‚é¢ã€‚</p>
<p>å› æ­¤åº”è¯¥åœ¨é¡¹ç›®ç®¡ç†æ‰€åœ¨çš„æ–‡ä»¶å¤¹ç¼–å†™ç›¸å…³ä»£ç ã€‚</p>
<p><code>urls.py</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: djangoä¸­urlã€pathå’Œre_path</span><br><span class="line">urlæ˜¯Django 1.xä¸­çš„å†™æ³•ï¼Œåœ¨Django2.1ä¸­ï¼Œå¼€å§‹èˆå¼ƒDjango1.xä¸­çš„urlå†™æ³•ã€‚</span><br><span class="line">åœ¨Django2.xä¸­ï¼Œæå†™urlé…ç½®çš„æœ‰ä¸¤ä¸ªå‡½æ•°pathå’Œre_pathï¼Œre_path()å‡½æ•°å¯ä»¥çœ‹åšæ˜¯django 1.xä¸­å¾—urlå‡½æ•°ï¼Œå³å¯ä»¥åœ¨è·¯å¾„ä¸­ä½¿ç”¨æ­£åˆ™ã€‚</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, re_path</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å…¥dashboardåº”ç”¨ä¸­çš„viewsè§†å›¾</span></span><br><span class="line"><span class="keyword">from</span> dashboard <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&quot;admin/&quot;</span>, admin.site.urls),</span><br><span class="line">    re_path(<span class="string">r&#x27;^$&#x27;</span>, views.home, name=<span class="string">&#x27;home&#x27;</span>),</span><br><span class="line">    re_path(<span class="string">r&#x27;^admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼ŒDjangoä½¿ç”¨<strong>æ­£åˆ™è¡¨è¾¾å¼</strong>æ¥åŒ¹é…è¯·æ±‚çš„URLã€‚å¯¹äºæˆ‘ä»¬çš„<strong>home</strong>è§†å›¾ï¼Œæˆ‘ä½¿ç”¨<code>^$</code>Â æ­£åˆ™ï¼Œå®ƒå°†åŒ¹é…ä¸€ä¸ªç©ºè·¯å¾„ï¼Œä¹Ÿå°±æ˜¯ä¸»é¡µï¼ˆè¿™ä¸ªURLï¼š<a target="_blank" rel="noopener" href="https://kgithub.com/http://127.0.0.1:8000">http://127.0.0.1:8000</a>Â ï¼‰ã€‚å¦‚æœæˆ‘æƒ³åŒ¹é…çš„URLæ˜¯Â <strong><a target="_blank" rel="noopener" href="http://127.0.0.1:8000/homepage/">http://127.0.0.1:8000/homepage/</a></strong>Â ï¼Œé‚£ä¹ˆæˆ‘çš„URLæ­£åˆ™è¡¨è¾¾å¼å°±ä¼šæ˜¯ï¼š<code>url(r&#39;^homepage/$&#39;, views.home, name=&#39;home&#39;)</code>ã€‚</p>
<h1 id="PyCharmæ„å»ºDjangoé¡¹ç›®"><a href="#PyCharmæ„å»ºDjangoé¡¹ç›®" class="headerlink" title="PyCharmæ„å»ºDjangoé¡¹ç›®"></a>PyCharmæ„å»ºDjangoé¡¹ç›®</h1><h2 id="å¤–éƒ¨å¯¼å…¥Djangoé¡¹ç›®"><a href="#å¤–éƒ¨å¯¼å…¥Djangoé¡¹ç›®" class="headerlink" title="å¤–éƒ¨å¯¼å…¥Djangoé¡¹ç›®"></a>å¤–éƒ¨å¯¼å…¥Djangoé¡¹ç›®</h2><p>é€‰æ‹©è·¯å¾„çš„æ—¶å€™ç›´æ¥é€‰æ‹©<code>manage.py</code>æ‰€åœ¨çš„æ–‡ä»¶å¤¹ã€‚</p>
<p>![[assets&#x2F;Pasted image 20230226092455.png]]</p>
<p>éœ€è¦åœ¨è®¾ç½®ä¸­é€‰æ‹©Djangoé¡¹ç›®è¿›è¡Œè®¾ç½®</p>
<p>![[assets&#x2F;Pasted image 20230226092518.png]]</p>
<p>é¡¹ç›®è¿è¡Œé…ç½®</p>
<p>![[assets&#x2F;Pasted image 20230226092602.png]]</p>
<p>é¡¹ç›®å¯åŠ¨</p>
<p>![[assets&#x2F;Pasted image 20230226092630.png]]</p>
<p>![[assets&#x2F;Pasted image 20230226092645.png]]</p>
<h1 id="ç³»ç»Ÿè®¾è®¡"><a href="#ç³»ç»Ÿè®¾è®¡" class="headerlink" title="ç³»ç»Ÿè®¾è®¡"></a>ç³»ç»Ÿè®¾è®¡</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¸»è¦å†…å®¹æ¥è‡ªäº https://github.com/pythonzhichan/django-beginners-guide/blob/master/Fundamentals-1.md</span><br></pre></td></tr></table></figure>

<h2 id="ç³»ç»Ÿè®¾è®¡-1"><a href="#ç³»ç»Ÿè®¾è®¡-1" class="headerlink" title="ç³»ç»Ÿè®¾è®¡"></a>ç³»ç»Ÿè®¾è®¡</h2><h3 id="ç”¨ä¾‹å›¾"><a href="#ç”¨ä¾‹å›¾" class="headerlink" title="ç”¨ä¾‹å›¾"></a>ç”¨ä¾‹å›¾</h3><p>![[assets&#x2F;Pasted image 20230226101350.png]]</p>
<h3 id="ç±»å›¾"><a href="#ç±»å›¾" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h3><p>![[assets&#x2F;Pasted image 20230226101441.png]]</p>
<p>å›¾2ï¼šWeb Boardç±»å›¾</p>
<ul>
<li>Boardï¼šç‰ˆå—</li>
<li>Topicï¼šä¸»é¢˜</li>
<li>Postï¼šå¸–å­ï¼ˆè¯‘æ³¨ï¼šå…¶å®å°±æ˜¯ä¸»é¢˜çš„å›å¤æˆ–è¯„è®ºï¼‰</li>
</ul>
<p>èŠ±ç‚¹æ—¶é—´è€ƒè™‘æ¨¡å‹ä¹‹é—´å¦‚ä½•ç›¸äº’å…³è”ä¹Ÿå¾ˆé‡è¦ã€‚ç±»ä¸ç±»ä¹‹é—´çš„å®çº¿å‘Šè¯‰æˆ‘ä»¬ï¼Œåœ¨ä¸€ä¸ªä¸»é¢˜ï¼ˆTopicï¼‰ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªå­—æ®µï¼ˆè¯‘æ³¨ï¼šå…¶å®å°±æ˜¯é€šè¿‡å¤–é”®æ¥å…³è”ï¼‰æ¥ç¡®å®šå®ƒå±äºå“ªä¸ªç‰ˆå—ï¼ˆBoardï¼‰ã€‚åŒæ ·ï¼Œå¸–å­ï¼ˆPostï¼‰ä¹Ÿéœ€è¦ä¸€ä¸ªå­—æ®µæ¥è¡¨ç¤ºå®ƒå±äºå“ªä¸ªä¸»é¢˜ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åˆ—å‡ºåœ¨ç‰¹å®šä¸»é¢˜å†…åˆ›å»ºçš„å¸–å­ã€‚æœ€åï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå­—æ®µæ¥è¡¨ç¤ºä¸»é¢˜æ˜¯è°å‘èµ·çš„ï¼Œå¸–å­æ˜¯è°å‘çš„ã€‚</p>
<p>ç”¨æˆ·å’Œç‰ˆå—ä¹‹é—´ä¹Ÿæœ‰è”ç³»ï¼Œè°åˆ›å»ºçš„ç‰ˆå—ã€‚ä½†æ˜¯è¿™äº›ä¿¡æ¯ä¸åº”ç”¨ç¨‹åºæ— å…³ã€‚è¿˜æœ‰å…¶ä»–æ–¹æ³•å¯ä»¥è·Ÿè¸ªè¿™äº›ä¿¡æ¯ï¼Œç¨åæ‚¨ä¼šçœ‹åˆ°ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬çš„ç±»å›¾æœ‰åŸºæœ¬çš„è¡¨ç°å½¢å¼ï¼Œæˆ‘ä»¬è¿˜è¦è€ƒè™‘è¿™äº›æ¨¡å‹å°†æ‰¿è½½å“ªäº›ä¿¡æ¯ã€‚è¿™å¾ˆå®¹æ˜“è®©äº‹æƒ…å˜å¾—å¤æ‚ï¼Œæ‰€ä»¥è¯•ç€å…ˆæŠŠé‡è¦çš„å†…å®¹åˆ—å‡ºæ¥ï¼Œè¿™äº›å†…å®¹æ˜¯æˆ‘ä»¬å¯åŠ¨é¡¹ç›®éœ€è¦çš„ä¿¡æ¯ã€‚åé¢æˆ‘ä»¬å†ä½¿ç”¨ Django çš„è¿ç§»ï¼ˆMigrationsï¼‰åŠŸèƒ½æ¥æ”¹è¿›æ¨¡å‹ï¼Œæ‚¨å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­è¯¦ç»†äº†è§£è¿™äº›å†…å®¹ã€‚</p>
<p>ä½†å°±ç›®å‰è€Œè¨€ï¼Œè¿™æ˜¯æ¨¡å‹æœ€åŸºæœ¬çš„å†…å®¹ï¼š</p>
<p>![[assets&#x2F;Pasted image 20230226101935.png]]</p>
<p>å›¾3ï¼šå¼ºè°ƒç±»ï¼ˆæ¨¡å‹ï¼‰ä¹‹é—´å…³ç³»çš„ç±»å›¾</p>
<p>è¿™ä¸ªç±»å›¾å¼ºè°ƒçš„æ˜¯æ¨¡å‹ä¹‹é—´çš„å…³ç³»ï¼Œè¿™äº›çº¿æ¡å’Œç®­å¤´æœ€ç»ˆä¼šåœ¨ç¨åè½¬æ¢ä¸ºå­—æ®µã€‚</p>
<p>å¯¹äºÂ <strong>Board</strong>Â æ¨¡å‹ï¼Œæˆ‘ä»¬å°†ä»ä¸¤ä¸ªå­—æ®µå¼€å§‹ï¼šname å’Œ descriptionã€‚ nameå­—æ®µå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä¸ºäº†é¿å…æœ‰é‡å¤çš„åç§°ã€‚description ç”¨äºè¯´æ˜è¿™ä¸ªç‰ˆå—æ˜¯åšä»€ä¹ˆç”¨çš„ã€‚</p>
<p><strong>Topic</strong>Â æ¨¡å‹åŒ…æ‹¬å››ä¸ªå­—æ®µï¼šsubject è¡¨ç¤ºä¸»é¢˜å†…å®¹ï¼Œlast_update ç”¨æ¥å®šä¹‰è¯é¢˜çš„æ’åºï¼Œstarter ç”¨æ¥è¯†åˆ«è°å‘èµ·çš„è¯é¢˜ï¼Œboard ç”¨äºæŒ‡å®šå®ƒå±äºå“ªä¸ªç‰ˆå—ã€‚</p>
<p><strong>Post</strong>Â æ¨¡å‹æœ‰ä¸€ä¸ª message å­—æ®µï¼Œç”¨äºå­˜å‚¨å›å¤çš„å†…å®¹ï¼Œcreated_at åœ¨æ’åºæ—¶å€™ç”¨ï¼ˆæœ€å…ˆå‘è¡¨çš„å¸–å­æ’æœ€å‰é¢ï¼‰ï¼Œupdated_at å‘Šè¯‰ç”¨æˆ·æ˜¯å¦æ›´æ–°äº†å†…å®¹ï¼ŒåŒæ—¶ï¼Œè¿˜éœ€è¦æœ‰å¯¹åº”çš„ User æ¨¡å‹çš„å¼•ç”¨ï¼ŒPost ç”±è°åˆ›å»ºçš„å’Œè°æ›´æ–°çš„ã€‚</p>
<p>æœ€åæ˜¯ User æ¨¡å‹ã€‚åœ¨ç±»å›¾ä¸­ï¼Œæˆ‘åªæåˆ°äº†å­—æ®µ usernameï¼Œpasswordï¼Œemailï¼Œ is_superuser æ ‡å¿—ï¼Œå› ä¸ºè¿™å‡ ä¹æ˜¯æˆ‘ä»¬ç°åœ¨è¦ä½¿ç”¨çš„æ‰€æœ‰ä¸œè¥¿ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦åˆ›å»º User æ¨¡å‹ï¼Œå› ä¸ºDjangoå·²ç»åœ¨contribåŒ…ä¸­å†…ç½®äº†Useræ¨¡å‹ï¼Œæˆ‘ä»¬å°†ç›´æ¥æ‹¿æ¥ç”¨ã€‚</p>
<p>![[assets&#x2F;Pasted image 20230226102133.png]]</p>
<h2 id="çº¿æ¡†å›¾"><a href="#çº¿æ¡†å›¾" class="headerlink" title="çº¿æ¡†å›¾"></a>çº¿æ¡†å›¾</h2><p>&#x3D;&#x3D;ä¸»é¡µ&#x3D;&#x3D;</p>
<p>![[assets&#x2F;Pasted image 20230226102210.png]]</p>
<p>&#x3D;&#x3D;ä¸»é¢˜&#x3D;&#x3D;</p>
<p>![[assets&#x2F;Pasted image 20230226102239.png]]</p>
<p>&#x3D;&#x3D;æ–°å»ºè¯é¢˜&#x3D;&#x3D;</p>
<p>![[assets&#x2F;Pasted image 20230226102256.png]]</p>
<p>&#x3D;&#x3D;è®¨è®º&#x3D;&#x3D;</p>
<p>![[assets&#x2F;Pasted image 20230226102310.png]]</p>
<p>&#x3D;&#x3D;å›å¤&#x3D;&#x3D;</p>
<p>![[assets&#x2F;Pasted image 20230226102319.png]]</p>
<h1 id="æ¨¡å‹è®¾è®¡"><a href="#æ¨¡å‹è®¾è®¡" class="headerlink" title="æ¨¡å‹è®¾è®¡"></a>æ¨¡å‹è®¾è®¡</h1><h2 id="åˆ›å»ºæ¨¡å‹"><a href="#åˆ›å»ºæ¨¡å‹" class="headerlink" title="åˆ›å»ºæ¨¡å‹"></a>åˆ›å»ºæ¨¡å‹</h2><p>è¿™äº›æ¨¡å‹åŸºæœ¬ä¸Šä»£è¡¨äº†<strong>åº”ç”¨ç¨‹åºçš„æ•°æ®åº“è®¾è®¡</strong>ã€‚æˆ‘ä»¬åœ¨æœ¬èŠ‚ä¸­è¦åšçš„æ˜¯åˆ›å»º Django æ‰€è¡¨ç¤ºçš„ç±»ï¼Œè¿™äº›ç±»å°±æ˜¯åœ¨ä¸Šä¸€èŠ‚ä¸­å»ºæ¨¡çš„ç±»ï¼šBoardï¼ŒTopicå’ŒPostã€‚User æ¨¡å‹è¢«å‘½åä¸ºå†…ç½®åº”ç”¨å«Â <strong>auth</strong>ï¼Œå®ƒä»¥å‘½åç©ºé—´ django.contrib.auth çš„å½¢å¼å‡ºç°åœ¨Â <code>INSTALLED_APPS</code>Â é…ç½®ä¸­ã€‚</p>
<p>æˆ‘ä»¬è¦åšçš„å·¥ä½œéƒ½åœ¨ boards&#x2F;models.py æ–‡ä»¶ä¸­ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬åœ¨Djangoåº”ç”¨ç¨‹åºä¸­å¦‚ä½•è¡¨ç¤ºç±»å›¾çš„ä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">django å‡çº§åˆ°2.0ä¹‹å,è¡¨ä¸è¡¨ä¹‹é—´å…³è”çš„æ—¶å€™,å¿…é¡»è¦å†™on_deleteå‚æ•°,å¦åˆ™ä¼šæŠ¥å¼‚å¸¸:  </span><br><span class="line">TypeError: init() missing 1 required positional argument: â€˜on_deleteâ€™</span><br><span class="line"></span><br><span class="line">```text</span><br><span class="line">on_delete=None, # åˆ é™¤å…³è”è¡¨ä¸­çš„æ•°æ®æ—¶,å½“å‰è¡¨ä¸å…¶å…³è”çš„fieldçš„è¡Œä¸º on_delete=models.CASCADE, # åˆ é™¤å…³è”æ•°æ®,ä¸ä¹‹å…³è”ä¹Ÿåˆ é™¤ on_delete=models.DO_NOTHING, # åˆ é™¤å…³è”æ•°æ®,ä»€ä¹ˆä¹Ÿä¸åš on_delete=models.PROTECT, # åˆ é™¤å…³è”æ•°æ®,å¼•å‘é”™è¯¯ProtectedError # models.ForeignKey(&#x27;å…³è”è¡¨&#x27;, on_delete=models.SET_NULL, blank=True, null=True) on_delete=models.SET_NULL, # åˆ é™¤å…³è”æ•°æ®,ä¸ä¹‹å…³è”çš„å€¼è®¾ç½®ä¸ºnullï¼ˆå‰æFKå­—æ®µéœ€è¦è®¾ç½®ä¸ºå¯ç©º,ä¸€å¯¹ä¸€åŒç†ï¼‰ # models.ForeignKey(&#x27;å…³è”è¡¨&#x27;, on_delete=models.SET_DEFAULT, default=&#x27;é»˜è®¤å€¼&#x27;) on_delete=models.SET_DEFAULT, # åˆ é™¤å…³è”æ•°æ®,ä¸ä¹‹å…³è”çš„å€¼è®¾ç½®ä¸ºé»˜è®¤å€¼ï¼ˆå‰æFKå­—æ®µéœ€è¦è®¾ç½®é»˜è®¤å€¼,ä¸€å¯¹ä¸€åŒç†ï¼‰ on_delete=models.SET, # åˆ é™¤å…³è”æ•°æ®, a. ä¸ä¹‹å…³è”çš„å€¼è®¾ç½®ä¸ºæŒ‡å®šå€¼,è®¾ç½®ï¼šmodels.SET(å€¼) b. ä¸ä¹‹å…³è”çš„å€¼è®¾ç½®ä¸ºå¯æ‰§è¡Œå¯¹è±¡çš„è¿”å›å€¼,è®¾ç½®ï¼šmodels.SET(å¯æ‰§è¡Œå¯¹è±¡)</span><br><span class="line">```</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> User</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your models here.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Board</span>(models.Model):</span><br><span class="line">    name = models.CharField(max_length=<span class="number">30</span>, unique=<span class="literal">True</span>)</span><br><span class="line">    description = models.CharField(max_length=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Topic</span>(models.Model):</span><br><span class="line">    subject = models.CharField(max_length=<span class="number">255</span>)</span><br><span class="line">    last_updated = models.DateTimeField(auto_now_add=<span class="literal">True</span>)</span><br><span class="line">    board = models.ForeignKey(Board, related_name=<span class="string">&#x27;topics&#x27;</span>, on_delete=models.DO_NOTHING)</span><br><span class="line">    starter = models.ForeignKey(User, related_name=<span class="string">&#x27;topics&#x27;</span>, on_delete=models.DO_NOTHING)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Post</span>(models.Model):</span><br><span class="line">    message = models.TextField(max_length=<span class="number">4000</span>)</span><br><span class="line">    topic = models.ForeignKey(Topic, related_name=<span class="string">&#x27;posts&#x27;</span>, on_delete=models.DO_NOTHING)</span><br><span class="line">    created_at = models.DateTimeField(auto_now_add=<span class="literal">True</span>)</span><br><span class="line">    updated_at = models.DateTimeField(null=<span class="literal">True</span>)</span><br><span class="line">    created_by = models.ForeignKey(User, related_name=<span class="string">&#x27;posts&#x27;</span>, on_delete=models.DO_NOTHING)</span><br><span class="line">    updated_by = models.ForeignKey(User, null=<span class="literal">True</span>, related_name=<span class="string">&#x27;+&#x27;</span>, on_delete=models.DO_NOTHING)</span><br></pre></td></tr></table></figure>


<p>æ‰€æœ‰æ¨¡å‹éƒ½æ˜¯<strong>django.db.models.Model</strong>ç±»çš„å­ç±»ã€‚æ¯ä¸ªç±»å°†è¢«è½¬æ¢ä¸ºæ•°æ®åº“è¡¨ã€‚æ¯ä¸ªå­—æ®µç”±Â <strong>django.db.models.Field</strong>å­ç±»ï¼ˆå†…ç½®åœ¨Django coreï¼‰çš„å®ä¾‹è¡¨ç¤ºï¼Œå®ƒä»¬å¹¶å°†è¢«è½¬æ¢ä¸ºæ•°æ®åº“çš„åˆ—ã€‚</p>
<p>å­—æ®µ CharFieldï¼ŒDateTimeFieldç­‰ç­‰ï¼Œéƒ½æ˜¯Â <strong>django.db.models.Field</strong>Â çš„å­ç±»ï¼ŒåŒ…å«åœ¨Djangoçš„æ ¸å¿ƒé‡Œé¢-éšæ—¶å¯ä»¥ä½¿ç”¨ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä»…ä½¿ç”¨ CharFieldï¼ŒTextFieldï¼ŒDateTimeFieldï¼Œå’ŒForeignKey å­—æ®µæ¥å®šä¹‰æˆ‘ä»¬çš„æ¨¡å‹ã€‚ä¸è¿‡åœ¨Djangoæä¾›äº†æ›´å¹¿æ³›çš„é€‰æ‹©æ¥ä»£è¡¨ä¸åŒç±»å‹çš„æ•°æ®ï¼Œä¾‹å¦‚ IntegerFieldï¼ŒBooleanFieldï¼Œ DecimalFieldå’Œå…¶å®ƒä¸€äº›å­—æ®µã€‚æˆ‘ä»¬ä¼šåœ¨éœ€è¦çš„æ—¶å€™æåŠå®ƒä»¬ã€‚</p>
<p>æœ‰äº›å­—æ®µéœ€è¦å‚æ•°ï¼Œä¾‹å¦‚CharFieldã€‚æˆ‘ä»¬åº”è¯¥å§‹ç»ˆè®¾å®šä¸€ä¸ªÂ <code>max_length</code>ã€‚è¿™äº›ä¿¡æ¯å°†ç”¨äºåˆ›å»ºæ•°æ®åº“åˆ—ã€‚Djangoéœ€è¦çŸ¥é“æ•°æ®åº“åˆ—éœ€è¦å¤šå¤§ã€‚è¯¥Â <code>max_length</code>å‚æ•°ä¹Ÿå°†è¢«Django Forms APIç”¨æ¥éªŒè¯ç”¨æˆ·è¾“å…¥ã€‚</p>
<p>åœ¨<code>Board</code>æ¨¡å‹å®šä¹‰ä¸­ï¼Œæ›´å…·ä½“åœ°è¯´ï¼Œåœ¨<code>name</code>å­—æ®µä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†å‚æ•°Â <code>unique=True</code>ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒå°†å¼ºåˆ¶æ•°æ®åº“çº§åˆ«å­—æ®µçš„å”¯ä¸€æ€§ã€‚</p>
<p>åœ¨<code>Post</code>æ¨¡å‹ä¸­ï¼Œ<code>created_at</code>å­—æ®µæœ‰ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œ<code>auto_now_add</code>è®¾ç½®ä¸º<code>True</code>ã€‚è¿™å°†å‘Šè¯‰Djangoåˆ›å»º<code>Post</code>å¯¹è±¡æ—¶ä¸ºå½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚</p>
<p>æ¨¡å‹ä¹‹é—´çš„å…³ç³»ä½¿ç”¨<code>ForeignKey</code>å­—æ®µã€‚å®ƒå°†åœ¨æ¨¡å‹ä¹‹é—´åˆ›å»ºä¸€ä¸ªè¿æ¥ï¼Œå¹¶åœ¨æ•°æ®åº“çº§åˆ«åˆ›å»ºé€‚å½“çš„å…³ç³»ï¼ˆè¯‘æ³¨ï¼šå¤–é”®å…³è”ï¼‰ã€‚è¯¥<code>ForeignKey</code>å­—æ®µéœ€è¦ä¸€ä¸ªä½ç½®å‚æ•°<code>related_name</code>ï¼Œç”¨äºå¼•ç”¨å®ƒå…³è”çš„æ¨¡å‹ã€‚ï¼ˆè¯‘æ³¨ï¼šä¾‹å¦‚ created_by æ˜¯å¤–é”®å­—æ®µï¼Œå…³è”çš„Useræ¨¡å‹ï¼Œè¡¨æ˜è¿™ä¸ªå¸–å­æ˜¯è°åˆ›å»ºçš„ï¼Œrelated_name&#x3D;posts è¡¨ç¤ºåœ¨ User é‚£è¾¹å¯ä»¥ä½¿ç”¨ user.posts æ¥æŸ¥çœ‹è¿™ä¸ªç”¨æˆ·åˆ›å»ºäº†å“ªäº›å¸–å­ï¼‰</p>
<p>ä¾‹å¦‚ï¼Œåœ¨<code>Topic</code>æ¨¡å‹ä¸­ï¼Œ<code>board</code>å­—æ®µæ˜¯<code>Board</code>æ¨¡å‹çš„<code>ForeignKey</code>ã€‚å®ƒå‘Šè¯‰Djangoï¼Œä¸€ä¸ª<code>Topic</code>å®ä¾‹åªæ¶‰åŠä¸€ä¸ªBoardå®ä¾‹ã€‚<code>related_name</code>å‚æ•°å°†ç”¨äºåˆ›å»ºåå‘å…³ç³»ï¼Œ<code>Board</code>å®ä¾‹é€šè¿‡å±æ€§<code>topics</code>è®¿é—®å±äºè¿™ä¸ªç‰ˆå—ä¸‹çš„<code>Topic</code>åˆ—è¡¨ã€‚</p>
<p>Djangoè‡ªåŠ¨åˆ›å»ºè¿™ç§åå‘å…³ç³»ï¼Œ<code>related_name</code>æ˜¯å¯é€‰é¡¹ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸ä¸ºå®ƒè®¾ç½®ä¸€ä¸ªåç§°ï¼ŒDjangoä¼šè‡ªåŠ¨ç”Ÿæˆå®ƒï¼š<code>(class_name)_set</code>ã€‚ä¾‹å¦‚ï¼Œåœ¨<code>Board</code>æ¨¡å‹ä¸­ï¼Œæ‰€æœ‰<code>Topic</code>åˆ—è¡¨å°†ç”¨<code>topic_set</code>å±æ€§è¡¨ç¤ºã€‚è€Œè¿™é‡Œæˆ‘ä»¬å°†å…¶é‡æ–°å‘½åä¸ºäº†<code>topics</code>ï¼Œä»¥ä½¿å…¶æ„Ÿè§‰æ›´è‡ªç„¶ã€‚</p>
<p>åœ¨<code>Post</code>æ¨¡å‹ä¸­ï¼Œè¯¥<code>updated_by</code>å­—æ®µè®¾ç½®<code>related_name=&#39;+&#39;</code>ã€‚è¿™æŒ‡ç¤ºDjangoæˆ‘ä»¬ä¸éœ€è¦è¿™ç§åå‘å…³ç³»ï¼Œæ‰€ä»¥å®ƒä¼šè¢«å¿½ç•¥ï¼ˆè¯‘æ³¨ï¼šä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸éœ€è¦å…³ç³»ç”¨æˆ·ä¿®æ”¹è¿‡å“ªäº›å¸–å­ï¼‰ã€‚</p>
<p>ä¸‹é¢æ‚¨å¯ä»¥çœ‹åˆ°ç±»å›¾å’ŒDjangoæ¨¡å‹çš„æºä»£ç ä¹‹é—´çš„æ¯”è¾ƒï¼Œç»¿çº¿è¡¨ç¤ºæˆ‘ä»¬å¦‚ä½•å¤„ç†åå‘å…³ç³»ã€‚</p>
<p>![[assets&#x2F;Pasted image 20230226104155.png]]</p>
<p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¸ºæ¨¡å‹æŒ‡å®šä¸»é”®ï¼ŒDjangoä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”Ÿæˆå®ƒã€‚</p>
<h2 id="è¿ç§»æ¨¡å‹"><a href="#è¿ç§»æ¨¡å‹" class="headerlink" title="è¿ç§»æ¨¡å‹"></a>è¿ç§»æ¨¡å‹</h2><p>åˆ›å»ºæ•°æ®åº“</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br></pre></td></tr></table></figure>

<p>![[assets&#x2F;Pasted image 20230226105357.png]]</p>
<p>æ­¤æ—¶ï¼ŒDjango åœ¨ boards&#x2F;migrations ç›®å½•åˆ›å»ºäº†ä¸€ä¸ªåä¸ºÂ <code>0001_initial.py</code>çš„æ–‡ä»¶ã€‚å®ƒä»£è¡¨äº†åº”ç”¨ç¨‹åºæ¨¡å‹çš„å½“å‰çŠ¶æ€ã€‚åœ¨ä¸‹ä¸€æ­¥ï¼ŒDjangoå°†ä½¿ç”¨è¯¥æ–‡ä»¶åˆ›å»ºè¡¨å’Œåˆ—ã€‚</p>
<p>è¿ç§»æ–‡ä»¶å°†è¢«ç¿»è¯‘æˆSQLè¯­å¥ã€‚å¦‚æœæ‚¨ç†Ÿæ‚‰SQLï¼Œåˆ™å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€éªŒå°†æ˜¯è¦è¢«æ•°æ®åº“æ‰§è¡Œçš„SQLæŒ‡ä»¤</p>
<p>è¿ç§»åˆ°æ•°æ®åº“</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure>

<p>![[assets&#x2F;Pasted image 20230226105638.png]]</p>
<p>ç°åœ¨æ•°æ®åº“å·²ç»å¯ä»¥ä½¿ç”¨äº†ã€‚</p>
<h2 id="è¯•éªŒModels-API"><a href="#è¯•éªŒModels-API" class="headerlink" title="è¯•éªŒModels API"></a>è¯•éªŒModels API</h2><p>å¯ä»¥ä½¿ç”¨manage.py å·¥å…·åŠ è½½æˆ‘ä»¬çš„é¡¹ç›®æ¥å¯åŠ¨ Python shell ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py shell</span><br></pre></td></tr></table></figure>

<p>![[assets&#x2F;Pasted image 20230226115040.png]]</p>
<p>è®©æˆ‘ä»¬ä»å¯¼å…¥Boardç±»å¼€å§‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> boards.models <span class="keyword">import</span> Board</span><br></pre></td></tr></table></figure>

<p>è¦åˆ›å»ºæ–°çš„ boarrd å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">board = Board(name=<span class="string">&#x27;Django&#x27;</span>, description=<span class="string">&#x27;This is a board about Django.&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†å°†è¿™ä¸ªå¯¹è±¡ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»è°ƒç”¨saveæ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">board.save()</span><br></pre></td></tr></table></figure>

<p><code>save</code>æ–¹æ³•ç”¨äºåˆ›å»ºå’Œæ›´æ–°å¯¹è±¡ã€‚è¿™é‡ŒDjangoåˆ›å»ºäº†ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå› ä¸ºè¿™æ—¶Board å®ä¾‹æ²¡æœ‰idã€‚ç¬¬ä¸€æ¬¡ä¿å­˜åï¼ŒDjangoä¼šè‡ªåŠ¨è®¾ç½®IDï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">board.<span class="built_in">id</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>æ‚¨å¯ä»¥å°†å…¶ä½™çš„å­—æ®µå½“åšPythonå±æ€§è®¿é—®ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">board.name</span><br><span class="line"><span class="string">&#x27;Django&#x27;</span></span><br><span class="line"></span><br><span class="line">board.description</span><br><span class="line"><span class="string">&#x27;This is a board about Django.&#x27;</span></span><br></pre></td></tr></table></figure>

<p>è¦æ›´æ–°ä¸€ä¸ªå€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">board.description = <span class="string">&#x27;Django discussion board.&#x27;</span></span><br><span class="line">board.save()</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸ªDjangoæ¨¡å‹éƒ½å¸¦æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§; æˆ‘ä»¬ç§°ä¹‹ä¸º**æ¨¡å‹ç®¡ç†å™¨(Model Manager)**ã€‚ä½ å¯ä»¥é€šè¿‡å±æ€§<code>objects</code>Â æ¥è®¿é—®è¿™ä¸ªç®¡ç†å™¨ï¼Œå®ƒä¸»è¦ç”¨äºæ•°æ®åº“æ“ä½œã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥ç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„Boardå¯¹è±¡ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">board = Board.objects.create(name=<span class="string">&#x27;Python&#x27;</span>, description=<span class="string">&#x27;General discussion about Python.&#x27;</span>)</span><br><span class="line"></span><br><span class="line">board.<span class="built_in">id</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"></span><br><span class="line">board.name</span><br><span class="line"><span class="string">&#x27;Python&#x27;</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œç°åœ¨æˆ‘ä»¬æœ‰ä¸¤ä¸ªç‰ˆå—äº†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>objects</code>åˆ—å‡ºæ•°æ®åº“ä¸­æ‰€æœ‰ç°æœ‰çš„ç‰ˆå—ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Board.objects.<span class="built_in">all</span>()</span><br><span class="line">&lt;QuerySet [&lt;Board: Board <span class="built_in">object</span>&gt;, &lt;Board: Board <span class="built_in">object</span>&gt;]&gt;</span><br></pre></td></tr></table></figure>

<p>ç»“æœæ˜¯ä¸€ä¸ªQuerySetã€‚ç¨åæˆ‘ä»¬ä¼šè¿›ä¸€æ­¥äº†è§£ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯ä»æ•°æ®åº“ä¸­æŸ¥è¯¢çš„å¯¹è±¡åˆ—è¡¨ã€‚æˆ‘ä»¬çœ‹åˆ°æœ‰ä¸¤ä¸ªå¯¹è±¡ï¼Œä½†æ˜¾ç¤ºçš„åç§°æ˜¯ Board objectã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å°šæœªå®ç° Board çš„<code>__str__</code>Â æ–¹æ³•ã€‚</p>
<p><code>__str__</code>æ–¹æ³•æ˜¯å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç‰ˆå—çš„åç§°æ¥è¡¨ç¤ºå®ƒã€‚</p>
<p>é¦–å…ˆï¼Œé€€å‡ºäº¤äº’å¼æ§åˆ¶å°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit()</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ç¼–è¾‘boards app ä¸­çš„ models.py æ–‡ä»¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Board</span>(models.Model):</span><br><span class="line">    name = models.CharField(max_length=<span class="number">30</span>, unique=<span class="literal">True</span>)</span><br><span class="line">    description = models.CharField(max_length=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.name</span><br></pre></td></tr></table></figure>

<p>è®©æˆ‘ä»¬é‡æ–°æŸ¥è¯¢ï¼Œå†æ¬¡æ‰“å¼€äº¤äº’å¼æ§åˆ¶å°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">python manage.py shell</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> boards.models <span class="keyword">import</span> Board</span><br><span class="line"></span><br><span class="line">Board.objects.<span class="built_in">all</span>()</span><br><span class="line">&lt;QuerySet [&lt;Board: Django&gt;, &lt;Board: Python&gt;]&gt;</span><br></pre></td></tr></table></figure>

<p>å¥½å¤šäº†ï¼Œå¯¹å§ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªQuerySetçœ‹ä½œä¸€ä¸ªåˆ—è¡¨ã€‚å‡è®¾æˆ‘ä»¬æƒ³éå†å®ƒå¹¶æ‰“å°æ¯ä¸ªç‰ˆå—çš„æè¿°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">boards_list = Board.objects.<span class="built_in">all</span>()</span><br><span class="line"><span class="keyword">for</span> board <span class="keyword">in</span> boards_list:</span><br><span class="line">    <span class="built_in">print</span>(board.description)</span><br></pre></td></tr></table></figure>

<p>ç»“æœæ˜¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Django discussion board.</span><br><span class="line">General discussion about Python.</span><br></pre></td></tr></table></figure>

<p>åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å‹çš„Â <strong>ç®¡ç†å™¨ï¼ˆManagerï¼‰</strong>Â æ¥æŸ¥è¯¢æ•°æ®åº“å¹¶è¿”å›å•ä¸ªå¯¹è±¡ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨Â <code>get</code>Â æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">django_board = Board.objects.get(<span class="built_in">id</span>=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">django_board.name</span><br><span class="line"><span class="string">&#x27;Django&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ä½†æˆ‘ä»¬å¿…é¡»å°å¿ƒè¿™ç§æ“ä½œã€‚å¦‚æœæˆ‘ä»¬è¯•å›¾æŸ¥æ‰¾ä¸€ä¸ªä¸å­˜åœ¨çš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼ŒæŸ¥æ‰¾id&#x3D;3çš„ç‰ˆå—ï¼Œå®ƒä¼šå¼•å‘ä¸€ä¸ªå¼‚å¸¸ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">board = Board.objects.get(<span class="built_in">id</span>=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">boards.models.DoesNotExist: Board matching query does <span class="keyword">not</span> exist.</span><br></pre></td></tr></table></figure>

<p><code>get</code>æ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯æ¨¡å‹çš„ä»»ä½•å­—æ®µï¼Œä½†æœ€å¥½ä½¿ç”¨å¯å”¯ä¸€æ ‡è¯†å¯¹è±¡çš„å­—æ®µæ¥æŸ¥è¯¢ã€‚å¦åˆ™ï¼ŒæŸ¥è¯¢å¯èƒ½ä¼šè¿”å›å¤šä¸ªå¯¹è±¡ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´å¼‚å¸¸ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Board.objects.get(name=<span class="string">&#x27;Django&#x27;</span>)</span><br><span class="line">&lt;Board: Django&gt;</span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼ŒæŸ¥è¯¢åŒºåˆ†å¤§å°å†™ï¼Œå°å†™â€œdjangoâ€ä¸åŒ¹é…ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Board.objects.get(name=<span class="string">&#x27;django&#x27;</span>)</span><br><span class="line">boards.models.DoesNotExist: Board matching query does <span class="keyword">not</span> exist.</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><table>
<thead>
<tr>
<th align="left">æ“ä½œ</th>
<th align="left">ä»£ç ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left">åˆ›å»ºä¸€ä¸ªå¯¹è±¡è€Œä¸ä¿å­˜</td>
<td align="left">board &#x3D; Board()</td>
</tr>
<tr>
<td align="left">ä¿å­˜ä¸€ä¸ªå¯¹è±¡ï¼ˆåˆ›å»ºæˆ–æ›´æ–°ï¼‰</td>
<td align="left">board.save()</td>
</tr>
<tr>
<td align="left">æ•°æ®åº“ä¸­åˆ›å»ºå¹¶ä¿å­˜ä¸€ä¸ªå¯¹è±¡</td>
<td align="left">Board.objects.create(name&#x3D;â€™â€¦â€™, description&#x3D;â€™â€¦â€™)</td>
</tr>
<tr>
<td align="left">åˆ—å‡ºæ‰€æœ‰å¯¹è±¡</td>
<td align="left">Board.objects.all()</td>
</tr>
<tr>
<td align="left">é€šè¿‡å­—æ®µæ ‡è¯†è·å–å•ä¸ªå¯¹è±¡</td>
<td align="left">Board.objects.get(id&#x3D;1)</td>
</tr>
</tbody></table>
<h1 id="ç¬¬ä¸€ä¸ªè§†å›¾å‡½æ•°å’Œæ¨¡ç‰ˆå¼•æ“"><a href="#ç¬¬ä¸€ä¸ªè§†å›¾å‡½æ•°å’Œæ¨¡ç‰ˆå¼•æ“" class="headerlink" title="ç¬¬ä¸€ä¸ªè§†å›¾å‡½æ•°å’Œæ¨¡ç‰ˆå¼•æ“"></a>ç¬¬ä¸€ä¸ªè§†å›¾å‡½æ•°å’Œæ¨¡ç‰ˆå¼•æ“</h1><h2 id="è§†å›¾å‡½æ•°"><a href="#è§†å›¾å‡½æ•°" class="headerlink" title="è§†å›¾å‡½æ•°"></a>è§†å›¾å‡½æ•°</h2><p>viewsä¸­è¿”å›çš„å°±æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„ä¸œè¥¿ã€‚</p>
<p>ä¿®æ”¹<code>boards/views.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"><span class="keyword">from</span> boards.models <span class="keyword">import</span> Board</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">home</span>(<span class="params">request</span>):</span><br><span class="line"></span><br><span class="line">    boards = Board.objects.<span class="built_in">all</span>()</span><br><span class="line">    boards_names = <span class="built_in">list</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> board <span class="keyword">in</span> boards:</span><br><span class="line">        boards_names.append(board.name)</span><br><span class="line"></span><br><span class="line">    resp_html = <span class="string">&#x27;&lt;br&gt;&#x27;</span>.join(boards_names)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(resp_html)</span><br></pre></td></tr></table></figure>

<p>![[assets&#x2F;Pasted image 20230226122228.png]]</p>
<h2 id="æ¨¡ç‰ˆå¼•æ“"><a href="#æ¨¡ç‰ˆå¼•æ“" class="headerlink" title="æ¨¡ç‰ˆå¼•æ“"></a>æ¨¡ç‰ˆå¼•æ“</h2><p>åœ¨manage.pyæ‰€åœ¨çš„ç›®å½•åˆ›å»ºä¸€ä¸ªåä¸ºÂ <strong>templates</strong>çš„æ–°æ–‡ä»¶å¤¹</p>
<p>![[assets&#x2F;Pasted image 20230226122414.png]]</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    &#123;% for board in boards %&#125;</span><br><span class="line">      &#123;&#123; board.name &#125;&#125; <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªHTMLé¡µé¢ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å‘Šè¯‰Djangoåœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æ¨¡æ¿ã€‚</p>
<p>æ‰“å¼€<strong>myproject</strong>ç›®å½•ä¸‹é¢çš„<strong>settings.py</strong>æ–‡ä»¶ï¼Œæœç´¢<code>TEMPLATES</code>å˜é‡ï¼Œå¹¶è®¾ç½®<code>DIRS</code>Â çš„å€¼ä¸ºÂ <code>os.path.join(BASE_DIR, &#39;templates&#39;)</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATES = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;BACKEND&quot;</span>: <span class="string">&quot;django.template.backends.django.DjangoTemplates&quot;</span>,</span><br><span class="line">        <span class="string">&quot;DIRS&quot;</span>: [</span><br><span class="line">	        os.path.join(BASE_DIR, <span class="string">&#x27;templates&#x27;</span>) <span class="comment"># è®°å¾— import os</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="string">&quot;APP_DIRS&quot;</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">&quot;OPTIONS&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;context_processors&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;django.template.context_processors.debug&quot;</span>,</span><br><span class="line">                <span class="string">&quot;django.template.context_processors.request&quot;</span>,</span><br><span class="line">                <span class="string">&quot;django.contrib.auth.context_processors.auth&quot;</span>,</span><br><span class="line">                <span class="string">&quot;django.contrib.messages.context_processors.messages&quot;</span>,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>æœ¬è´¨ä¸Šï¼Œåˆšæ·»åŠ çš„è¿™ä¸€è¡Œæ‰€åšçš„äº‹æƒ…å°±æ˜¯æ‰¾åˆ°é¡¹ç›®çš„å®Œæ•´è·¯å¾„å¹¶åœ¨åé¢é™„åŠ â€œ&#x2F;templatesâ€</p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æ›´æ–°<strong>home</strong>è§†å›¾ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Board</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">home</span>(<span class="params">request</span>):</span><br><span class="line">    boards = Board.objects.<span class="built_in">all</span>()</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;home.html&#x27;</span>, &#123;<span class="string">&#x27;boards&#x27;</span>: boards&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥è¿›è¡Œä¸€ä¸ªè£…é¥°ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">th</span>&gt;</span>Board<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">th</span>&gt;</span>Posts<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">th</span>&gt;</span>Topics<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">th</span>&gt;</span>Last Post<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        &#123;% for board in boards %&#125;</span><br><span class="line">          <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">              &#123;&#123; board.name &#125;&#125;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">small</span> <span class="attr">style</span>=<span class="string">&quot;color: #888&quot;</span>&gt;</span>&#123;&#123; board.description &#125;&#125;<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>0<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>0<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬ä¸€ä¸ªå•å…ƒæµ‹è¯•"><a href="#ç¬¬ä¸€ä¸ªå•å…ƒæµ‹è¯•" class="headerlink" title="ç¬¬ä¸€ä¸ªå•å…ƒæµ‹è¯•"></a>ç¬¬ä¸€ä¸ªå•å…ƒæµ‹è¯•</h1><p>æˆ‘ä»¬æ¥å¼€å§‹å†™ç¬¬ä¸€ä¸ªæµ‹è¯•ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨<strong>boards</strong>åº”ç”¨ç¨‹åºå†…çš„<strong>tests.py</strong>æ–‡ä»¶ä¸­æ“ä½œ</p>
<p><strong>boards&#x2F;tests.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.test <span class="keyword">import</span> TestCase</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> reverse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HomeTests</span>(<span class="title class_ inherited__">TestCase</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_index_view_status_code</span>(<span class="params">self</span>):</span><br><span class="line">        url = reverse(<span class="string">&#x27;home&#x27;</span>)</span><br><span class="line">        resp = <span class="variable language_">self</span>.client.get(url)</span><br><span class="line">        <span class="variable language_">self</span>.assertEquals(resp.status_code, <span class="number">200</span>)</span><br></pre></td></tr></table></figure>



<h1 id="é™æ€æ–‡ä»¶è®¾ç½®"><a href="#é™æ€æ–‡ä»¶è®¾ç½®" class="headerlink" title="é™æ€æ–‡ä»¶è®¾ç½®"></a>é™æ€æ–‡ä»¶è®¾ç½®</h1><p>é™æ€æ–‡ä»¶æ˜¯æŒ‡ CSSï¼ŒJavaScriptï¼Œå­—ä½“ï¼Œå›¾ç‰‡æˆ–è€…æ˜¯ç”¨æ¥ç»„æˆç”¨æˆ·ç•Œé¢çš„ä»»ä½•å…¶ä»–èµ„æºã€‚</p>
<p>å®é™…ä¸Šï¼ŒDjango æœ¬èº«æ˜¯ä¸è´Ÿè´£å¤„ç†è¿™äº›æ–‡ä»¶çš„ï¼Œä½†æ˜¯ä¸ºäº†è®©æˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹æ›´è½»æ¾ï¼ŒDjango æä¾›äº†ä¸€äº›åŠŸèƒ½æ¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†é™æ€æ–‡ä»¶ã€‚è¿™äº›åŠŸèƒ½å¯åœ¨Â <code>INSTALLED_APPS</code>Â çš„Â <strong>django.contrib.staticfiles</strong>Â åº”ç”¨ç¨‹åºä¸­æ‰¾åˆ°ï¼ˆè¯‘è€…ï¼šDjangoä¸ºäº†ä½¿å¾—å¼€å‘æ–¹ä¾¿ï¼Œä¹Ÿå¯ä»¥å¤„ç†é™æ€æ–‡ä»¶ï¼Œè€Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œé™æ€æ–‡ä»¶ä¸€èˆ¬ç›´æ¥ç”± Nginx ç­‰åå‘ä»£ç†æœåŠ¡å™¨å¤„ç†ï¼Œè€Œåº”ç”¨å·¥æœåŠ¡å™¨ä¸“å¿ƒè´Ÿè´£å¤„ç†å®ƒæ“…é•¿çš„ä¸šåŠ¡é€»è¾‘ï¼‰ã€‚</p>
<p>å¸‚é¢ä¸Šå¾ˆå¤šä¼˜ç§€å‰ç«¯ç»„ä»¶æ¡†æ¶ï¼Œæˆ‘ä»¬æ²¡æœ‰ç†ç”±ç»§ç»­ç”¨ç®€é™‹çš„HTMLæ–‡æ¡£æ¥æ¸²æŸ“ã€‘ã€‚æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å°†Bootstrap 4æ·»åŠ åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ã€‚Bootstrapæ˜¯ä¸€ä¸ªç”¨HTMLï¼ŒCSSå’ŒJavaScriptå¼€å‘çš„å‰ç«¯å¼€æºå·¥å…·åŒ…ã€‚</p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œé™¤äº† boards, templates å’Œmyprojectæ–‡ä»¶å¤¹å¤–ï¼Œå†åˆ›å»ºä¸€ä¸ªåä¸ºstaticçš„æ–°æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨staticæ–‡ä»¶å¤¹å†…åˆ›å»ºå¦ä¸€ä¸ªåä¸ºcssçš„æ–‡ä»¶å¤¹ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">certificate_analysis/</span><br><span class="line"> |-- certificate_analysis/</span><br><span class="line"> |    |-- boards/</span><br><span class="line"> |    |-- myproject/</span><br><span class="line"> |    |-- templates/</span><br><span class="line"> |    |-- static/       &lt;-- here</span><br><span class="line"> |    |    +-- css/     &lt;-- and here</span><br><span class="line"> |    +-- manage.py</span><br><span class="line"> +-- venv/</span><br></pre></td></tr></table></figure>

<p>è½¬åˆ°<a target="_blank" rel="noopener" href="https://getbootstrap.com/docs/4.0/getting-started/download/#compiled-css-and-js">getbootstrap.com</a>å¹¶ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼š</p>
<p>![[assets&#x2F;Pasted image 20230226124343.png]]</p>
<p>è§£å‹ bootstrap-4.0.0-beta-dist.zip æ–‡ä»¶ï¼Œå°†æ–‡ä»¶ css&#x2F;bootstrap.min.css å¤åˆ¶åˆ°æˆ‘ä»¬é¡¹ç›®çš„cssæ–‡ä»¶å¤¹ä¸­ï¼š</p>
<p>![[assets&#x2F;Pasted image 20230226125243.png]]</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">certificate_analysis/</span><br><span class="line"> |-- certificate_analysis/</span><br><span class="line"> |    |-- boards/</span><br><span class="line"> |    |-- myproject/</span><br><span class="line"> |    |-- templates/</span><br><span class="line"> |    |-- static/</span><br><span class="line"> |    |    +-- css/</span><br><span class="line"> |    |         +-- bootstrap.min.css    &lt;-- here</span><br><span class="line"> |    +-- manage.py</span><br><span class="line"> +-- venv/</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¸€æ­¥æ˜¯å‘Šè¯‰Djangoåœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°é™æ€æ–‡ä»¶ã€‚æ‰“å¼€settings.pyï¼Œæ‹‰åˆ°æ–‡ä»¶çš„åº•éƒ¨ï¼Œåœ¨<strong>STATIC_URL</strong>åé¢æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">STATIC_URL = <span class="string">&#x27;/static/&#x27;</span></span><br><span class="line"></span><br><span class="line">STATICFILES_DIRS = [</span><br><span class="line">   os.path.join(BASE_DIR, <span class="string">&#x27;static&#x27;</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬å¿…é¡»åœ¨æ¨¡æ¿ä¸­åŠ è½½é™æ€æ–‡ä»¶ï¼ˆBootstrap CSSæ–‡ä»¶ï¼‰</p>
<p>index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load static %&#125;<span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% static &#x27;css/bootstrap.min.css&#x27; %&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Board<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Posts<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Topics<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Last Post<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    &#123;% for board in boards %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                &#123;&#123; board.name &#125;&#125;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">small</span> <span class="attr">style</span>=<span class="string">&quot;color: #888&quot;</span>&gt;</span>&#123;&#123; board.description &#125;&#125;<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>0<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>0<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨æ¨¡æ¿çš„å¼€å¤´ä½¿ç”¨äº† Static Files App æ¨¡æ¿æ ‡ç­¾Â <code>&#123;% load static %&#125;</code>ã€‚</p>
<p>æ¨¡æ¿æ ‡ç­¾<code>&#123;% static %&#125;</code>ç”¨äºæ„æˆèµ„æºæ–‡ä»¶å®Œæ•´URLã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>&#123;% static 'css/bootstrap.min.css' %&#125;</code>å°†è¿”å›Â <strong>&#x2F;static&#x2F;css&#x2F;bootstrap.min.css</strong>ï¼Œå®ƒç›¸å½“äºÂ <a target="_blank" rel="noopener" href="http://127.0.0.1:8000/static/css/bootstrap.min.css">http://127.0.0.1:8000/static/css/bootstrap.min.css</a></p>
<p><code>&#123;% static %&#125;</code>æ¨¡æ¿æ ‡ç­¾ä½¿ç”¨ settings.pyæ–‡ä»¶ä¸­çš„Â <code>STATIC_URL</code>Â é…ç½®æ¥ç»„æˆæœ€ç»ˆçš„URLï¼Œä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°†é™æ€æ–‡ä»¶æ‰˜ç®¡åœ¨åƒÂ <a target="_blank" rel="noopener" href="https://static.example.com/%E8%BF%99%E6%A0%B7%E7%9A%84%E5%AD%90%E5%9F%9F%E4%B8%AD">https://static.example.com/è¿™æ ·çš„å­åŸŸä¸­</a> ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†è®¾ç½®Â <code>STATIC_URL=https://static.example.com/</code>Â ï¼Œç„¶åÂ <code>&#123;% static 'css/bootstrap.min.css' %&#125;</code>è¿”å›çš„æ˜¯Â <strong><a target="_blank" rel="noopener" href="https://static.example.com/css/bootstrap.min.css">https://static.example.com/css/bootstrap.min.css</a></strong></p>
<p>å¦‚æœç›®å‰è¿™äº›å¯¹ä½ æ¥è¯´æä¸æ‡‚ä¹Ÿä¸è¦æ‹…å¿ƒã€‚åªè¦è®°å¾—ä½†å‡¡æ˜¯éœ€è¦å¼•ç”¨CSSï¼ŒJavaScriptæˆ–å›¾ç‰‡æ–‡ä»¶çš„åœ°æ–¹å°±ä½¿ç”¨<code>&#123;% static %&#125;</code>ã€‚ç¨åï¼Œå½“æˆ‘ä»¬å¼€å§‹éƒ¨ç½²é¡¹ç›®åˆ°æ­£å¼ç¯å¢ƒæ—¶ï¼Œæˆ‘ä»¬å°†è®¨è®ºæ›´å¤šã€‚ç°åœ¨éƒ½è®¾ç½®å¥½äº†ã€‚</p>
<p>åˆ·æ–°é¡µé¢Â <a target="_blank" rel="noopener" href="http://127.0.0.1:8000/">http://127.0.0.1:8000</a>Â ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ç¼–è¾‘æ¨¡æ¿ï¼Œä»¥åˆ©ç”¨Bootstrap CSSï¼š</p>
<p>![[assets&#x2F;Pasted image 20230226125329.png]]</p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä½¿ç”¨äº¤äº’å¼æ§åˆ¶å°ï¼ˆpython manage.py shellï¼‰æ·»åŠ äº†å‡ ä¸ªæ–°çš„ç‰ˆå—ã€‚ä½†æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹å¼æ¥å®ç°ã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºç½‘ç«™ç®¡ç†å‘˜å®ç°ä¸€ä¸ªç®¡ç†ç•Œé¢æ¥ç®¡ç†è¿™äº›æ•°æ®ã€‚</p>
<h1 id="Django-admin"><a href="#Django-admin" class="headerlink" title="Django-admin"></a>Django-admin</h1><p>Djangoå·²ç»é…ç½®äº†Django Adminï¼Œè¿™ä¸ªåº”ç”¨ç¨‹åºåˆ—å‡ºçš„INSTALLED_APPS</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†é…ç½® Django Admin æ¥ç»´æŠ¤æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„ç‰ˆå—ã€‚</p>
<p>æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜å¸æˆ·ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py createsuperuser</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§è¯´æ˜æ“ä½œ</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Username (leave blank to use &#x27;administrator&#x27;):</span><br><span class="line">Email address: coderyjc@163.com</span><br><span class="line">Password:</span><br><span class="line">Password (again):</span><br><span class="line">This password is too short. It must contain at least 8 characters.</span><br><span class="line">This password is too common.</span><br><span class="line">This password is entirely numeric.</span><br><span class="line">Bypass password validation and create user anyway? [y/N]: y</span><br><span class="line">Superuser created successfully.</span><br></pre></td></tr></table></figure>

<p>åœ¨æµè§ˆå™¨è®¿é—® <a target="_blank" rel="noopener" href="http://localhost:8000/admin/">http://localhost:8000/admin/</a></p>
<p>è¾“å…¥ç”¨æˆ·åå’Œå¯†ç </p>
<p>![[assets&#x2F;Pasted image 20230226125944.png]]</p>
<p>å®ƒå·²ç»é…ç½®äº†ä¸€äº›åŠŸèƒ½ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ç”¨æˆ·å’Œç»„çš„æƒé™ç®¡ç†ï¼Œè¿™äº›æ¦‚å¿µåœ¨åé¢æˆ‘ä»¬å°†æ¢è®¨æ›´å¤šã€‚</p>
<p>æ·»åŠ Boardæ¨¡å‹éå¸¸ç®€å•ã€‚æ‰“å¼€boardsç›®å½•ä¸­çš„admin.pyæ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<p>boards&#x2F;admin.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Board</span><br><span class="line"></span><br><span class="line">admin.site.register(Board)</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜admin.pyæ–‡ä»¶ï¼Œç„¶ååˆ·æ–°ç½‘é¡µæµè§ˆå™¨ä¸­çš„é¡µé¢ï¼š</p>
<p>![[assets&#x2F;Pasted image 20230226130453.png]]</p>
<p>æ·»åŠ ä¸€ä¸ªé¡¹ç›®</p>
<p>![[assets&#x2F;Pasted image 20230226130554.png]]</p>
<p>![[assets&#x2F;Pasted image 20230226130604.png]]</p>
<p>æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æ­£å¸¸ï¼š</p>
<p>![[assets&#x2F;Pasted image 20230226130616.png]]</p>
<h1 id="URLåˆ†å‘"><a href="#URLåˆ†å‘" class="headerlink" title="URLåˆ†å‘"></a>URLåˆ†å‘</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ›´å¤šå†…å®¹æŸ¥çœ‹https://github.com/pythonzhichan/django-beginners-guide/blob/master/AdvancedConcepts.md</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å°†ä»Â <strong>myproject</strong>Â ç›®å½•ä¸­ç¼–å†™Â <strong>urls.py</strong>Â å¼€å§‹ï¼š</p>
<p><strong>myproject&#x2F;urls.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">urlpatterns = [  </span><br><span class="line">    path(<span class="string">&quot;admin/&quot;</span>, admin.site.urls),  </span><br><span class="line">    re_path(<span class="string">r&#x27;^$&#x27;</span>, views.home, name=<span class="string">&#x27;home&#x27;</span>),  </span><br><span class="line">    re_path(<span class="string">r&#x27;^boards/(?P&lt;pk&gt;\d+)/$&#x27;</span>, views.board_topics, name=<span class="string">&#x27;board_topics&#x27;</span>)  </span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªé¡¹ç›®å¯ä»¥æœ‰å¾ˆå¤šÂ <strong>urls.py</strong>Â åˆ†å¸ƒåœ¨å¤šä¸ªåº”ç”¨ï¼ˆappï¼‰ä¸­ã€‚Django éœ€è¦ä¸€ä¸ªÂ <strong>url.py</strong>Â ä½œä¸ºå…¥å£ã€‚è¿™ä¸ªç‰¹æ®Šçš„Â <strong>urls.py</strong>Â å«åšÂ <strong>æ ¹è·¯ç”±é…ç½®ï¼ˆroot URLconfï¼‰</strong>ã€‚å®ƒè¢«å®šä¹‰åœ¨Â <strong>settings.py</strong>Â ä¸­ã€‚</p>
<p><strong>myproject&#x2F;settings.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ROOT_URLCONF = <span class="string">&#x27;myproject.urls&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å®ƒå·²ç»è‡ªåŠ¨é…ç½®å¥½äº†ï¼Œä½ ä¸éœ€è¦å»æ”¹å˜å®ƒä»»ä½•ä¸œè¥¿ã€‚</p>
<p>å½“ Django æ¥å—ä¸€ä¸ªè¯·æ±‚(request)ï¼Œ å®ƒå°±ä¼šåœ¨é¡¹ç›®çš„ URLconf ä¸­å¯»æ‰¾åŒ¹é…é¡¹ã€‚ä»–ä»Â <code>urlpatterns</code>Â å˜é‡çš„ç¬¬ä¸€æ¡å¼€å§‹ï¼Œç„¶ååœ¨æ¯ä¸ªÂ <code>url</code>Â ä¸­å»åŒ¹é…è¯·æ±‚çš„ URLã€‚</p>
<p>å¦‚æœ Django æ‰¾åˆ°äº†ä¸€ä¸ªåŒ¹é…è·¯å¾„ï¼Œä»–ä¼šæŠŠè¯·æ±‚(request)å‘é€ç»™Â <code>url</code>Â çš„ç¬¬äºŒä¸ªå‚æ•°Â <strong>è§†å›¾å‡½æ•°ï¼ˆview functionï¼‰</strong>ã€‚<code>urlpatterns</code>Â ä¸­çš„é¡ºåºå¾ˆé‡è¦ï¼Œå› ä¸º Django ä¸€æ—¦æ‰¾åˆ°åŒ¹é…å°±ä¼šåœæ­¢å¾€åæœç´¢ã€‚å¦‚æœ Django åœ¨ URLconf ä¸­æ²¡æœ‰æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œä»–ä¼šé€šè¿‡Â <strong>Page Not Found</strong>Â çš„é”™è¯¯å¤„ç†ä»£ç æŠ›å‡ºä¸€ä¸ªÂ <strong>404</strong>Â å¼‚å¸¸ã€‚</p>
<p>è¿™æ˜¯Â <code>url</code>Â å‡½æ•°çš„å‰–æï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">url</span>(<span class="params">regex, view, kwargs=<span class="literal">None</span>, name=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="comment"># ...</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>regex</strong>ï¼š åŒ¹é… URL patterns çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ³¨æ„ï¼šæ­£åˆ™è¡¨è¾¾å¼ä¼šå¿½ç•¥æ‰Â <strong>GET</strong>Â æˆ–è€…Â <strong>POST</strong>Â åé¢çš„å‚æ•°ã€‚åœ¨ä¸€ä¸ªÂ <strong><a target="_blank" rel="noopener" href="http://127.0.0.1:8000/boards/?page=2">http://127.0.0.1:8000/boards/?page=2</a></strong>Â çš„è¯·æ±‚ä¸­ï¼Œåªæœ‰Â <strong>&#x2F;boards&#x2F;</strong>Â ä¼šè¢«å¤„ç†ã€‚</li>
<li><strong>view</strong>ï¼š è§†å›¾å‡½æ•°è¢«ç”¨æ¥å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼ŒåŒæ—¶å®ƒè¿˜å¯ä»¥æ˜¯Â <strong>django.conf.urls.include</strong>Â å‡½æ•°çš„è¿”å›å€¼ï¼Œå®ƒå°†å¼•ç”¨ä¸€ä¸ªå¤–éƒ¨çš„<strong>urls.py</strong>æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥å®šä¹‰ä¸€ç»„ç‰¹å®šäºåº”ç”¨çš„ URLsï¼Œä½¿ç”¨å‰ç¼€å°†å…¶åŒ…å«åœ¨æ ¹ URLconf ä¸­ã€‚æˆ‘ä»¬ä¼šåœ¨åé¢ç»§ç»­æ¢è®¨è¿™ä¸ªæ¦‚å¿µã€‚</li>
<li><strong>kwargs</strong>ï¼šä¼ é€’ç»™ç›®æ ‡è§†å›¾å‡½æ•°çš„ä»»æ„å…³é”®å­—å‚æ•°ï¼Œå®ƒé€šå¸¸ç”¨äºåœ¨å¯é‡ç”¨è§†å›¾ä¸Šè¿›è¡Œä¸€äº›ç®€å•çš„å®šåˆ¶ï¼Œæˆ‘ä»¬ä¸æ˜¯ç»å¸¸ä½¿ç”¨å®ƒã€‚</li>
<li>**name:**ï¼š è¯¥ URL çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç‰¹å¾ã€‚è¦å§‹ç»ˆè®°å¾—ä¸ºä½ çš„ URLs å‘½åã€‚æ‰€ä»¥ï¼Œå¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯ï¼šä¸è¦åœ¨ views(è§†å›¾) æˆ–è€… templates(æ¨¡æ¿) ä¸­ç¡¬ç¼–ç  URLï¼Œè€Œæ˜¯é€šè¿‡å®ƒçš„åå­—å»å¼•ç”¨ URLã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœä½ æƒ³ç»™ç”¨æˆ·ä¸ªäººä¸»é¡µè®¾ç½®ä¸€ä¸ªå¾ˆé…·çš„ä¸»é¡µçš„URLï¼Œé‚£ä¹ˆé¿å…ä¸é™æ€èµ„æºå†²çªæœ€ç®€å•çš„æ–¹æ³•æ˜¯æ·»åŠ ä¸€ä¸ªå‰ç¼€ï¼Œä¾‹å¦‚ï¼š/u/vitorfsï¼Œæˆ–è€…åƒ Medium ä¸€æ ·ä½¿ç”¨ @ ä½œä¸ºå‰ç¼€ /@vitorfs/ã€‚</span><br></pre></td></tr></table></figure>

<p>urlè§£æï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url(<span class="string">r&#x27;^boards/(?P&lt;pk&gt;\d+)/$&#x27;</span>, views.board_topics, name=<span class="string">&#x27;board_topics&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„Â <code>\d+</code>Â ä¼šåŒ¹é…ä¸€ä¸ªä»»æ„å¤§å°çš„æ•´æ•°å€¼ã€‚è¿™ä¸ªæ•´æ•°å€¼ç”¨æ¥ä»æ•°æ®åº“ä¸­å–åˆ° æŒ‡å®šçš„Â <strong>Board</strong>ã€‚ç°åœ¨æ³¨æ„æˆ‘ä»¬è¿™æ ·å†™è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼Â <code>(?P&lt;pk&gt;\d+)</code>ï¼Œè¿™æ˜¯å‘Šè¯‰ Django å°†æ•è·åˆ°çš„å€¼æ”¾å…¥åä¸ºÂ <strong>pk</strong>Â çš„å…³é”®å­—å‚æ•°ä¸­ã€‚</p>
<p>è¿™ä¸ªpkå¿…é¡»å’Œè§†å›¾å‡½æ•°ä¸­çš„å‚æ•°pkç›¸å¯¹åº”ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">board_topics</span>(<span class="params">request, pk</span>):</span><br><span class="line">    <span class="comment"># do something...</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PK or IDï¼Ÿ PK è¡¨ç¤ºä¸»é”®ï¼ˆPrimary keyï¼‰ï¼Œè¿™æ˜¯è®¿é—®æ¨¡å‹çš„ä¸»é”®IDçš„ç®€å†™æ–¹æ³•ï¼Œæ‰€æœ‰Djangoæ¨¡å‹éƒ½æœ‰è¿™ä¸ªå±æ€§ï¼Œæ›´å¤šçš„æ—¶å€™ï¼Œä½¿ç”¨pkå±æ€§å’Œä½¿ç”¨idæ˜¯ä¸€æ ·çš„ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœæˆ‘ä»¬æ²¡æœ‰ç»™modelå®šä¹‰ä¸»é”®æ—¶ï¼ŒDjangoå°†è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª AutoField ç±»å‹çš„å­—æ®µï¼Œåå­—å«åš idï¼Œå®ƒå°±æ˜¯ä¸»é”®ã€‚  </span><br><span class="line">å¦‚æœä½ ç»™modelå®šä¹‰äº†ä¸€ä¸ªä¸åŒçš„ä¸»é”®ï¼Œä¾‹å¦‚ï¼Œå‡è®¾ email æ˜¯ä½ çš„ä¸»é”®ï¼Œä½ å°±å¯ä»¥è¿™æ ·è®¿é—®ï¼šobj.email æˆ–è€… obj.pkï¼ŒäºŒè€…æ˜¯ç­‰ä»·çš„ã€‚</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨URLs-API"><a href="#ä½¿ç”¨URLs-API" class="headerlink" title="ä½¿ç”¨URLs API"></a>ä½¿ç”¨URLs API</h2><p>urls.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin  </span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, re_path  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">from</span> boards <span class="keyword">import</span> views  </span><br><span class="line">  </span><br><span class="line">urlpatterns = [  </span><br><span class="line">    path(<span class="string">&quot;admin/&quot;</span>, admin.site.urls),  </span><br><span class="line">    re_path(<span class="string">r&#x27;^$&#x27;</span>, views.home, name=<span class="string">&#x27;home&#x27;</span>),  </span><br><span class="line">    re_path(<span class="string">r&#x27;^boards/(?P&lt;pk&gt;\d+)/$&#x27;</span>, views.board_topics, name=<span class="string">&#x27;board_topics&#x27;</span>)  </span><br><span class="line">]</span><br></pre></td></tr></table></figure>


<p>åœ¨boards&#x2F;views.pyä¸­åˆ›å»ºè§†å›¾å‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">board_topics</span>(<span class="params">req, pk</span>):  </span><br><span class="line">    board = Board.objects.get(pk=pk)  </span><br><span class="line">    <span class="keyword">return</span> render(req, <span class="string">&#x27;topics.html&#x27;</span>, &#123;<span class="string">&#x27;board&#x27;</span>: board&#125;)</span><br></pre></td></tr></table></figure>


<p>åœ¨Â <strong>templates</strong>Â ç›®å½•ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºÂ <strong>topics.html</strong>Â çš„æ¨¡æ¿</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load static %&#125;<span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;&#123; board.name &#125;&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% static &#x27;css/bootstrap.min.css&#x27; %&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb my-4&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb-item&quot;</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb-item active&quot;</span>&gt;</span>&#123;&#123; board.name &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æµè§ˆå™¨è®¿é—®<a target="_blank" rel="noopener" href="http://127.0.0.1:8000/boards/1/%E5%BA%94%E8%AF%A5%E5%87%BA%E7%8E%B0%E4%BB%A5%E4%B8%8B%E9%A1%B5%E9%9D%A2%EF%BC%9A">http://127.0.0.1:8000/boards/1/åº”è¯¥å‡ºç°ä»¥ä¸‹é¡µé¢ï¼š</a></p>
<p>![[assets&#x2F;Pasted image 20230226140423.png]]</p>
<h2 id="åˆ›å»º404çš„å“åº”"><a href="#åˆ›å»º404çš„å“åº”" class="headerlink" title="åˆ›å»º404çš„å“åº”"></a>åˆ›å»º404çš„å“åº”</h2><p>ç¼–è¾‘æµ‹è¯•å•å…ƒ</p>
<p>test.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BoardTopicTests</span>(<span class="title class_ inherited__">TestCase</span>):  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUp</span>(<span class="params">self</span>):  </span><br><span class="line">        Board.objects.create(name=<span class="string">&#x27;Django&#x27;</span>, description=<span class="string">&#x27;Django Board&#x27;</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_board_topics_view_success_status_code</span>(<span class="params">self</span>):  </span><br><span class="line">        url = reverse(<span class="string">&#x27;board_topics&#x27;</span>, kwargs=&#123;<span class="string">&#x27;pk&#x27;</span>: <span class="number">1</span>&#125;)  </span><br><span class="line">        resp = <span class="variable language_">self</span>.client.get(url)  </span><br><span class="line">        <span class="variable language_">self</span>.assertEquals(resp.status_code, <span class="number">200</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_board_topics_view_not_found_status_code</span>(<span class="params">self</span>):  </span><br><span class="line">        url = reverse(<span class="string">&#x27;board_topics&#x27;</span>, kwargs=&#123;<span class="string">&#x27;pk&#x27;</span>: <span class="number">99</span>&#125;)  </span><br><span class="line">        resp = <span class="variable language_">self</span>.client.get(url)  </span><br><span class="line">        <span class="variable language_">self</span>.assertEquals(resp.status_code, <span class="number">404</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_board_topics_url_resolves_board_topics_view</span>(<span class="params">self</span>):  </span><br><span class="line">        view = resolve(<span class="string">&#x27;/boards/1/&#x27;</span>)  </span><br><span class="line">        <span class="variable language_">self</span>.assertEquals(view.func, board_topics)</span><br></pre></td></tr></table></figure>


<p>è¿™é‡Œéœ€è¦æ³¨æ„å‡ ä»¶äº‹æƒ…ã€‚è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨äº†Â <code>setUp</code>Â æ–¹æ³•ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªÂ <strong>Board</strong>Â å®ä¾‹æ¥ç”¨äºæµ‹è¯•ã€‚æˆ‘ä»¬å¿…é¡»è¿™æ ·åšï¼Œå› ä¸º Django çš„æµ‹è¯•æœºåˆ¶ä¸ä¼šé’ˆå¯¹å½“å‰æ•°æ®åº“è·‘ä½ çš„æµ‹è¯•ã€‚è¿è¡Œ Django æµ‹è¯•æ—¶ä¼šå³æ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“ï¼Œåº”ç”¨æ‰€æœ‰çš„model(æ¨¡å‹)è¿ç§» ï¼Œè¿è¡Œæµ‹è¯•å®Œæˆåä¼šé”€æ¯è¿™ä¸ªç”¨äºæµ‹è¯•çš„æ•°æ®åº“ã€‚</p>
<p>å› æ­¤åœ¨Â <code>setUp</code>Â æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å‡†å¤‡äº†è¿è¡Œæµ‹è¯•çš„ç¯å¢ƒï¼Œç”¨æ¥æ¨¡æ‹Ÿåœºæ™¯ã€‚</p>
<ul>
<li><code>test_board_topics_view_success_status_code</code>Â æ–¹æ³•ï¼šæµ‹è¯• Django æ˜¯å¦å¯¹äºç°æœ‰çš„Â <strong>Board</strong>Â è¿”å› status code(çŠ¶æ€ç ) 200(æˆåŠŸ)ã€‚</li>
<li><code>test_board_topics_view_not_found_status_code</code>Â æ–¹æ³•ï¼šæµ‹è¯• Django æ˜¯å¦å¯¹äºä¸å­˜åœ¨äºæ•°æ®åº“çš„Â <strong>Board</strong>Â è¿”å› status code 404(é¡µé¢æœªæ‰¾åˆ°)ã€‚</li>
<li><code>test_board_topics_url_resolves_board_topics_view</code> Â æ–¹æ³•ï¼šæµ‹è¯• Django æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„è§†å›¾å‡½æ•°å»æ¸²æŸ“ topicsã€‚</li>
</ul>
<p>ç°åœ¨æ¥è¿è¡Œä¸€ä¸‹æµ‹è¯•ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py test</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºäº†é”™è¯¯</p>
<p>![[assets&#x2F;Pasted image 20230226141740.png]]</p>
<p>![[assets&#x2F;Pasted image 20230226141743.png]]</p>
<p>çœ‹åˆ°äº†ä¸€ä¸ªé”™è¯¯ï¼šâ€œboards.models.DoesNotExist: Board matching query does not exist.â€</p>
<p>åœ¨Â <code>DEBUG=False</code>Â çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè®¿é—®è€…ä¼šçœ‹åˆ°ä¸€ä¸ªÂ <strong>500 Internal Server Error</strong>Â çš„é¡µé¢ã€‚ä½†æ˜¯è¿™ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›å¾—åˆ°çš„ã€‚</p>
<p>æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªÂ <strong>404 Page Not Found</strong>Â çš„é¡µé¢ã€‚è®©æˆ‘ä»¬æ¥é‡å†™æˆ‘ä»¬çš„è§†å›¾å‡½æ•°ã€‚</p>
<p>views.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> Http404</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Board</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">home</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># code suppressed for brevity</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">board_topics</span>(<span class="params">request, pk</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        board = Board.objects.get(pk=pk)</span><br><span class="line">    <span class="keyword">except</span> Board.DoesNotExist:</span><br><span class="line">        <span class="keyword">raise</span> Http404</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;topics.html&#x27;</span>, &#123;<span class="string">&#x27;board&#x27;</span>: board&#125;)</span><br></pre></td></tr></table></figure>

<p>é‡æ–°æµ‹è¯•ä¸€ä¸‹</p>
<p>![[assets&#x2F;Pasted image 20230226142022.png]]</p>
<p>ç°åœ¨æ˜¯404äº†</p>
<p>![[assets&#x2F;Pasted image 20230226142033.png]]</p>
<p>Â Django æœ‰ä¸€ä¸ªå¿«æ·æ–¹å¼å»å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ–è€…è¿”å›ä¸€ä¸ªä¸å­˜åœ¨çš„å¯¹è±¡ 404ã€‚</p>
<p>å› æ­¤è®©æˆ‘ä»¬å†æ¥é‡å†™ä¸€ä¸‹Â <strong>board_topics</strong>Â å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, get_object_or_404</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Board</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">home</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># code suppressed for brevity</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">board_topics</span>(<span class="params">request, pk</span>):</span><br><span class="line">    board = get_object_or_404(Board, pk=pk)</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;topics.html&#x27;</span>, &#123;<span class="string">&#x27;board&#x27;</span>: board&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¾ç„¶æˆåŠŸ</p>
<h2 id="åˆ›å»ºå¯¼èˆªé“¾æ¥"><a href="#åˆ›å»ºå¯¼èˆªé“¾æ¥" class="headerlink" title="åˆ›å»ºå¯¼èˆªé“¾æ¥"></a>åˆ›å»ºå¯¼èˆªé“¾æ¥</h2><p>![[assets&#x2F;Pasted image 20230226142407.png]]</p>
<p>boards&#x2F;test.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HomeTests</span>(<span class="title class_ inherited__">TestCase</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUp</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.board = Board.objects.create(name=<span class="string">&#x27;Django&#x27;</span>, description=<span class="string">&#x27;Django board.&#x27;</span>)</span><br><span class="line">        url = reverse(<span class="string">&#x27;home&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.response = <span class="variable language_">self</span>.client.get(url)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_home_view_status_code</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.assertEquals(<span class="variable language_">self</span>.response.status_code, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_home_url_resolves_home_view</span>(<span class="params">self</span>):</span><br><span class="line">        view = resolve(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.assertEquals(view.func, home)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_home_view_contains_link_to_topics_page</span>(<span class="params">self</span>):</span><br><span class="line">        board_topics_url = reverse(<span class="string">&#x27;board_topics&#x27;</span>, kwargs=&#123;<span class="string">&#x27;pk&#x27;</span>: <span class="variable language_">self</span>.board.pk&#125;)</span><br><span class="line">        <span class="variable language_">self</span>.assertContains(<span class="variable language_">self</span>.response, <span class="string">&#x27;href=&quot;&#123;0&#125;&quot;&#x27;</span>.<span class="built_in">format</span>(board_topics_url))</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬åŒæ ·åœ¨Â <strong>HomeTests</strong>Â ä¸­æ·»åŠ äº†Â <strong>setUp</strong>Â æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ç°åœ¨éœ€è¦ä¸€ä¸ªÂ <strong>Board</strong>Â å®ä¾‹ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†Â <strong>url</strong>Â å’ŒÂ <strong>response</strong>Â ç§»åˆ°äº†Â <strong>setUp</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½åœ¨æ–°æµ‹è¯•ä¸­é‡ç”¨ç›¸åŒçš„ responseã€‚</p>
<p>è¿™é‡Œçš„æ–°æµ‹è¯•æ˜¯Â <strong>test_home_view_contains_link_to_topics_page</strong>ã€‚æˆ‘ä»¬ä½¿ç”¨Â <strong>assertContains</strong>Â æ–¹æ³•æ¥æµ‹è¯• response ä¸»ä½“éƒ¨åˆ†æ˜¯å¦åŒ…å«ç»™å®šçš„æ–‡æœ¬ã€‚æˆ‘ä»¬åœ¨æµ‹è¯•ä¸­ä½¿ç”¨çš„æ–‡æœ¬æ˜¯Â <code>a</code>Â æ ‡ç­¾çš„Â <code>href</code>Â éƒ¨åˆ†ã€‚æ‰€ä»¥åŸºæœ¬ä¸Šæˆ‘ä»¬æ˜¯åœ¨æµ‹è¯• response ä¸»ä½“æ˜¯å¦åŒ…å«æ–‡æœ¬Â <code>href=&quot;/boards/1/&quot;</code>ã€‚</p>
<p>![[assets&#x2F;Pasted image 20230226144137.png]]</p>
<p>ç°åœ¨è¿›è¡Œæµ‹è¯•æ˜¯æŠ¥é”™çš„ï¼Œå› ä¸ºæˆ‘ä»¬çš„htmlæ¨¡ç‰ˆä¸­è¿˜æ²¡æœ‰å†™ç›¸å…³çš„é€»è¾‘</p>
<p>æ¥ä¸‹æ¥ç¼–å†™index.htmlï¼Œæ›´æ”¹tbodyæ ‡ç­¾çš„å†…å®¹</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- code suppressed for brevity --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">  &#123;% for board in boards %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% url &#x27;board_topics&#x27; board.pk %&#125;&quot;</span>&gt;</span>&#123;&#123; board.name &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">small</span> <span class="attr">class</span>=<span class="string">&quot;text-muted d-block&quot;</span>&gt;</span>&#123;&#123; board.description &#125;&#125;<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;align-middle&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;align-middle&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- code suppressed for brevity --&gt;</span></span><br></pre></td></tr></table></figure>

<p>å§‹ç»ˆä½¿ç”¨Â <code>&#123;% url %&#125;</code>Â æ¨¡æ¿æ ‡ç­¾å»å†™åº”ç”¨çš„ URLã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ URL çš„åå­—(å®šä¹‰åœ¨ URLconfï¼Œ å³Â <strong>urls.py</strong>)ï¼Œç„¶åä½ å¯ä»¥æ ¹æ®éœ€æ±‚ä¼ é€’ä»»æ„æ•°é‡çš„å‚æ•°ã€‚</p>
<p>ç°åœ¨å·²ç»å¯ä»¥ç‚¹å‡»é“¾æ¥äº†ã€‚</p>
<p>![[assets&#x2F;Pasted image 20230226144557.png]]</p>
<h2 id="åˆ›å»ºè¿”å›é“¾æ¥"><a href="#åˆ›å»ºè¿”å›é“¾æ¥" class="headerlink" title="åˆ›å»ºè¿”å›é“¾æ¥"></a>åˆ›å»ºè¿”å›é“¾æ¥</h2><p>å¯ä»¥å…ˆå†™æµ‹è¯•</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_board_topics_view_contains_link_back_to_homepage</span>(<span class="params">self</span>):  </span><br><span class="line">    board_topics_url = reverse(<span class="string">&#x27;board_topics&#x27;</span>, kwargs=&#123;<span class="string">&#x27;pk&#x27;</span>: <span class="number">1</span>&#125;)  </span><br><span class="line">    resp = <span class="variable language_">self</span>.client.get(board_topics_url)  </span><br><span class="line">    homepage_url = reverse(<span class="string">&#x27;home&#x27;</span>)  </span><br><span class="line">    <span class="variable language_">self</span>.assertContains(resp, <span class="string">&#x27;href=&quot;&#123;0&#125;&quot;&#x27;</span>.<span class="built_in">format</span>(homepage_url))</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ç°åœ¨ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰åˆ›å»ºç›¸å…³çš„æ¨¡ç‰ˆå¼•æ“</p>
<p>ä¿®æ”¹topics.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load static %&#125;  </span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;&#123; board.name &#125;&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% static &#x27;css/bootstrap.min.css&#x27; %&#125;&quot;</span>&gt;</span>  </span><br><span class="line">      <span class="comment">&lt;!-- code suppressed for brevity --&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb my-4&quot;</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb-item&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% url &#x27;home&#x27; %&#125;&quot;</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb-item active&quot;</span>&gt;</span>&#123;&#123; board.name &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;/<span class="name">ol</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é‡æ–°æ‰“å¼€å¾—åˆ°ï¼š</p>
<p>![[assets&#x2F;Pasted image 20230226145243.png]]</p>
<table>
<thead>
<tr>
<th><strong>ä¸»é”® è‡ªå¢å­—æ®µ</strong></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td>æ­£åˆ™è¡¨è¾¾å¼</td>
<td align="center"><code>(?P&lt;pk&gt;\d+)</code></td>
</tr>
<tr>
<td>ä¸¾ä¾‹</td>
<td align="center"><code>url(r&#39;^questions/(?P&lt;pk&gt;\d+)/$&#39;, views.question, name=&#39;question&#39;)</code></td>
</tr>
<tr>
<td>æœ‰æ•ˆ URL</td>
<td align="center"><code>/questions/934/</code></td>
</tr>
<tr>
<td>æ•è·æ•°æ®</td>
<td align="center"><code> &#123;&#39;pk&#39;: &#39;934&#39;&#125;</code></td>
</tr>
</tbody></table>
<p>| <strong>Slug å­—æ®µ</strong> |<br>| â€”â€”â€”â€”- |:â€”â€”â€”â€”-:|<br>| æ­£åˆ™è¡¨è¾¾å¼ | <code>(?P&lt;slug&gt;[-\w]+)</code> |<br>| ä¸¾ä¾‹ | <code>url(r&#39;^posts/(?P&lt;slug&gt;[-\w]+)/$&#39;, views.post, name=&#39;post&#39;)</code> |<br>| æœ‰æ•ˆ URL| <code>/posts/hello-world/</code> |<br>|æ•è·æ•°æ®|<code>&#123;&#39;slug&#39;: &#39;hello-world&#39;&#125;</code>|</p>
<p>| <strong>æœ‰ä¸»é”®çš„ Slug å­—æ®µ</strong> |<br>| â€”â€”â€”â€”- |:â€”â€”â€”â€”-:|<br>| æ­£åˆ™è¡¨è¾¾å¼    |  <code>(?P&lt;slug&gt;[-\w]+)-(?P&lt;pk&gt;\d+)</code> |<br>| ä¸¾ä¾‹     |<code>url(r&#39;^blog/(?P&lt;slug&gt;[-\w]+)-(?P&lt;pk&gt;\d+)/$&#39;, views.blog_post, name=&#39;blog_post&#39;)</code>  |<br>| æœ‰æ•ˆ URL|<code>/blog/hello-world-159/</code>  |<br>|æ•è·æ•°æ®|<code>&#123;&#39;slug&#39;: &#39;hello-world&#39;, &#39;pk&#39;: &#39;159&#39;&#125;</code>|</p>
<p>| <strong>Django ç”¨æˆ·å</strong> |<br>| â€”â€”â€”â€”- |:â€”â€”â€”â€”-:|<br>| æ­£åˆ™è¡¨è¾¾å¼    | <code>(?P&lt;username&gt;[\w.@+-]+)</code> |<br>| ä¸¾ä¾‹     |<code>url(r&#39;^profile/(?P&lt;username&gt;[\w.@+-]+)/$&#39;, views.user_profile, name=&#39;user_profile&#39;)</code> |<br>| æœ‰æ•ˆ URL|<code>/profile/vitorfs/</code> |<br>|æ•è·æ•°æ®|<code> &#123;&#39;username&#39;: &#39;vitorfs&#39;&#125;</code>|</p>
<p>| <strong>Year</strong> |<br>| â€”â€”â€”â€”- |:â€”â€”â€”â€”-:|<br>| æ­£åˆ™è¡¨è¾¾å¼    |  <code>(?P&lt;year&gt;[0-9]&#123;4&#125;)</code> |<br>| ä¸¾ä¾‹     | <code>url(r&#39;^articles/(?P&lt;year&gt;[0-9]&#123;4&#125;)/$&#39;, views.year_archive, name=&#39;year&#39;)</code> |<br>| æœ‰æ•ˆ URL| <code>/articles/2016/</code> |<br>|æ•è·æ•°æ®| <code>&#123;&#39;year&#39;: &#39;2016&#39;&#125;</code>|</p>
<p>|<strong>Year &#x2F; Month</strong>|<br>| â€”â€”â€”â€”- |:â€”â€”â€”â€”-:|<br>| æ­£åˆ™è¡¨è¾¾å¼    |  <code>(?P&lt;year&gt;[0-9]&#123;4&#125;)/(?P&lt;month&gt;[0-9]&#123;2&#125;)</code> |<br>| ä¸¾ä¾‹     |  <code>url(r&#39;^articles/(?P&lt;year&gt;[0-9]&#123;4&#125;)/(?P&lt;month&gt;[0-9]&#123;2&#125;)/$&#39;, views.month_archive, name=&#39;month&#39;)</code>|<br>| æœ‰æ•ˆ URL| <code>/articles/2016/01/</code> |<br>|æ•è·æ•°æ®| <code>&#123;&#39;year&#39;: &#39;2016&#39;, &#39;month&#39;: &#39;01&#39;&#125;</code>|</p>
<h1 id="æ¨¡ç‰ˆå¤ç”¨"><a href="#æ¨¡ç‰ˆå¤ç”¨" class="headerlink" title="æ¨¡ç‰ˆå¤ç”¨"></a>æ¨¡ç‰ˆå¤ç”¨</h1><p>åœ¨è¿™ä¸€èŠ‚æˆ‘ä»¬å°†é‡å†™ HTML æ¨¡æ¿ï¼Œåˆ›å»ºä¸€ä¸ªÂ **master page(æ¯ç‰ˆé¡µ)**ï¼Œå…¶ä»–æ¨¡æ¿æ·»åŠ å®ƒæ‰€ç‹¬ç‰¹çš„éƒ¨åˆ†ã€‚</p>
<p>åœ¨Â <strong>templates</strong>Â æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºÂ <strong>layout.html</strong>Â çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load static %&#125;  </span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;% block title %&#125;Django Boards&#123;% endblock %&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% static &#x27;css/bootstrap.min.css&#x27; %&#125;&quot;</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb my-4&quot;</span>&gt;</span>  </span><br><span class="line">        &#123;% block breadcrumb %&#125;  </span><br><span class="line">        &#123;% endblock %&#125;  </span><br><span class="line">      <span class="tag">&lt;/<span class="name">ol</span>&gt;</span>  </span><br><span class="line">      &#123;% block content %&#125;  </span><br><span class="line">      &#123;% endblock %&#125;  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯æˆ‘ä»¬çš„æ¯ç‰ˆé¡µã€‚æ¯ä¸ªæˆ‘ä»¬åˆ›å»ºçš„æ¨¡æ¿éƒ½Â <strong>extend(ç»§æ‰¿)</strong>Â è¿™ä¸ªç‰¹æ®Šçš„æ¨¡æ¿ã€‚ç°åœ¨æˆ‘ä»¬ä»‹ç»Â <code>&#123;% block %&#125;</code>Â æ ‡ç­¾ã€‚å®ƒç”¨äºåœ¨æ¨¡æ¿ä¸­ä¿ç•™ä¸€ä¸ªç©ºé—´ï¼Œä¸€ä¸ªâ€å­â€æ¨¡æ¿(ç»§æ‰¿è¿™ä¸ªæ¯ç‰ˆé¡µçš„æ¨¡æ¿)å¯ä»¥åœ¨è¿™ä¸ªç©ºé—´ä¸­æ’å…¥ä»£ç å’Œ HTMLã€‚</p>
<p>åœ¨Â <code>&#123;% block title %&#125;</code>Â ä¸­æˆ‘ä»¬è¿˜è®¾ç½®äº†ä¸€ä¸ªé»˜è®¤å€¼ â€œDjango Boards.â€ã€‚å¦‚æœæˆ‘ä»¬åœ¨å­æ¨¡æ¿ä¸­æœªè®¾ç½®Â <code>&#123;% block title %&#125;</code>Â çš„å€¼å®ƒå°±ä¼šè¢«ä½¿ç”¨ã€‚</p>
<p>ç°åœ¨è®©æˆ‘ä»¬é‡å†™æˆ‘ä»¬çš„ä¸¤ä¸ªæ¨¡æ¿ï¼šÂ <strong>index.html</strong>Â å’ŒÂ <strong>topics.html</strong>ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#x27;layout.html&#x27; %&#125;  </span><br><span class="line">  </span><br><span class="line">&#123;% block breadcrumb %&#125;  </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb-item active&quot;</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">li</span>&gt;</span>  </span><br><span class="line">&#123;% endblock %&#125;  </span><br><span class="line">  </span><br><span class="line">&#123;% block content %&#125;  </span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table&quot;</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span> <span class="attr">class</span>=<span class="string">&quot;thead-inverse&quot;</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Board<span class="tag">&lt;/<span class="name">th</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Posts<span class="tag">&lt;/<span class="name">th</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Topics<span class="tag">&lt;/<span class="name">th</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Last Post<span class="tag">&lt;/<span class="name">th</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span>  </span><br><span class="line">      &#123;% for board in boards %&#125;  </span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span>  </span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span>  </span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% url &#x27;board_topics&#x27; board.pk %&#125;&quot;</span>&gt;</span>&#123;&#123; board.name &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span>  </span><br><span class="line">            <span class="tag">&lt;<span class="name">small</span> <span class="attr">class</span>=<span class="string">&quot;text-muted d-block&quot;</span>&gt;</span>&#123;&#123; board.description &#125;&#125;<span class="tag">&lt;/<span class="name">small</span>&gt;</span>  </span><br><span class="line">          <span class="tag">&lt;/<span class="name">td</span>&gt;</span>  </span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;align-middle&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">td</span>&gt;</span>  </span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;align-middle&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">td</span>&gt;</span>  </span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span>  </span><br><span class="line">      &#123;% endfor %&#125;  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span>  </span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>

<p><strong>home.html</strong>Â çš„ç¬¬ä¸€è¡Œæ˜¯Â <code>&#123;% extends 'base.html' %&#125;</code>ã€‚è¿™ä¸ªæ ‡ç­¾ç”¨æ¥å‘Šè¯‰ Django ä½¿ç”¨Â <strong>base.html</strong>Â ä½œä¸ºæ¯ç‰ˆé¡µã€‚ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨Â <em>blocks</em>Â æ¥æ”¾ç½®è¿™ä¸ªé¡µé¢ç‹¬æœ‰çš„éƒ¨åˆ†ã€‚</p>
<p><strong>templates&#x2F;topics.html</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#x27;layout.html&#x27; %&#125;  </span><br><span class="line">  </span><br><span class="line">&#123;% block title %&#125;  </span><br><span class="line">  &#123;&#123; board.name &#125;&#125; - &#123;&#123; block.super &#125;&#125;  </span><br><span class="line">&#123;% endblock %&#125;  </span><br><span class="line">  </span><br><span class="line">&#123;% block breadcrumb %&#125;  </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb-item&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% url &#x27;home&#x27; %&#125;&quot;</span>&gt;</span>Boards<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb-item active&quot;</span>&gt;</span>&#123;&#123; board.name &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span>  </span><br><span class="line">&#123;% endblock %&#125;  </span><br><span class="line">  </span><br><span class="line">&#123;% block content %&#125;  </span><br><span class="line">    <span class="comment">&lt;!-- just leaving it empty for now. we will add core here soon. --&gt;</span>  </span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨Â <strong>topics.html</strong>Â ä¸­ï¼Œæˆ‘ä»¬æ”¹å˜äº†Â <code>&#123;% block title %&#125;</code>Â çš„é»˜è®¤å€¼ã€‚æ³¨æ„æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨Â <code>&#123;&#123; block.super &#125;&#125;</code>Â æ¥é‡ç”¨ block çš„é»˜è®¤å€¼ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„ç½‘é¡µæ ‡é¢˜æ˜¯Â <strong>base.html</strong>Â ä¸­å®šä¹‰çš„ â€œDjango Boardsâ€ã€‚æ‰€ä»¥å¯¹äº â€œPythonâ€ çš„ board é¡µé¢ï¼Œè¿™ä¸ªæ ‡é¢˜æ˜¯ â€œPython - Django Boardsâ€,å¯¹äº â€œRandomâ€ board æ ‡é¢˜ä¼šæ˜¯ â€œRandom - Django Boardsâ€ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨é¡¶éƒ¨å¯¼èˆªæ ä¸­æ·»åŠ ä¸€ä¸ªnav-bar</p>
<p><strong>layout.html</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load static %&#125;&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;&#123;% block title %&#125;Django Boards&#123;% endblock %&#125;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;&#123;% static &#x27;css/bootstrap.min.css&#x27; %&#125;&quot;</span>&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;nav <span class="keyword">class</span>=<span class="string">&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;</span>&gt;</span><br><span class="line">      &lt;div <span class="keyword">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">        &lt;a <span class="keyword">class</span>=<span class="string">&quot;navbar-brand&quot;</span> href=<span class="string">&quot;&#123;% url &#x27;home&#x27; %&#125;&quot;</span>&gt;Django Boards&lt;/a&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div <span class="keyword">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">      &lt;ol <span class="keyword">class</span>=<span class="string">&quot;breadcrumb my-4&quot;</span>&gt;</span><br><span class="line">        &#123;% block breadcrumb %&#125;</span><br><span class="line">        &#123;% endblock %&#125;</span><br><span class="line">      &lt;/ol&gt;</span><br><span class="line">      &#123;% block content %&#125;</span><br><span class="line">      &#123;% endblock %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>


<p>![[assets&#x2F;Pasted image 20230226150748.png]]</p>
<h1 id="è¡¨å•å¤„ç†"><a href="#è¡¨å•å¤„ç†" class="headerlink" title="è¡¨å•å¤„ç†"></a>è¡¨å•å¤„ç†</h1><p>ç›®çš„ï¼šå®ç°ä»¥ä¸‹è¡¨å•</p>
<p>![[assets&#x2F;Pasted image 20230227084854.png]]</p>
<p>ç°åœ¨è®©æˆ‘ä»¬æŠ½è±¡ä¸€äº›ç»†èŠ‚ï¼Œé‡ç‚¹äº†è§£ä¸€ä¸‹æ€ä¹ˆåœ¨æ•°æ®åº“ä¸­ä¿å­˜ç”¨æˆ·çš„è¾“å…¥ã€‚</p>
<p>é¦–å…ˆï¼Œå…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ URL è·¯ç”±ï¼Œå‘½åä¸ºÂ <strong>new_topic</strong>ï¼š</p>
<p><strong>myproject&#x2F;urls.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, re_path</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> boards <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&quot;admin/&quot;</span>, admin.site.urls),</span><br><span class="line">    re_path(<span class="string">r&#x27;^$&#x27;</span>, views.home, name=<span class="string">&#x27;home&#x27;</span>),</span><br><span class="line">    re_path(<span class="string">r&#x27;^boards/(?P&lt;pk&gt;\d+)/$&#x27;</span>, views.board_topics, name=<span class="string">&#x27;board_topics&#x27;</span>)</span><br><span class="line">    re_path(<span class="string">r&#x27;^boards/(?P&lt;pk&gt;\d+)/new/$&#x27;</span>, views.new_topic, name=<span class="string">&#x27;new_topic&#x27;</span>) <span class="comment"># æ–°å¢äº†è¿™ä¸€è¡Œ</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æ¥åˆ›å»ºÂ <strong>new_topic</strong>Â çš„ è§†å›¾å‡½æ•°ï¼š</p>
<p><strong>boards&#x2F;views.py</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">new_topic</span>(<span class="params">req, pk</span>):</span><br><span class="line">    board = get_object_or_404(Board, pk=pk)</span><br><span class="line">    <span class="keyword">return</span> render(req, <span class="string">&#x27;new_topic.html&#x27;</span>, &#123;<span class="string">&#x27;board&#x27;</span>:board&#125;)</span><br></pre></td></tr></table></figure>

</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-02-26</span>
            
            
             
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2023/02/28/WebPack/'>ç¬”è®° | WebPack</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2023/01/04/Nodejs/">ç¬”è®° | Node.js</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
             

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>Change And Challenge</span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>